function e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var n={exports:{}},r={},i={exports:{}},s={},a=Symbol.for("react.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function w(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||y}function S(){}function C(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=w.prototype;var E=C.prototype=new S;E.constructor=C,b(E,w.prototype),E.isPureReactComponent=!0;var k=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)N.call(t,r)&&!_.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:s,ref:o,props:i,_owner:j.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g;function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function L(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case o:l=!0}}if(l)return i=i(l=e),e=""===r?"."+D(l,0):r,k(i)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),L(i,t,n,"",function(e){return e})):null!=i&&(I(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=""===r?".":r+":",k(e))for(var c=0;c<e.length;c++){var u=r+D(s=e[c],c);l+=L(s,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=v&&e[v]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=L(s=s.value,t,n,u=r+D(s,c++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return L(e,r,"","",function(e){return t.call(n,e,i++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},F={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:j};function V(){throw Error("act(...) is not supported in production builds of React.")}s.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},s.Component=w,s.Fragment=l,s.Profiler=u,s.PureComponent=C,s.StrictMode=c,s.Suspense=p,s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,s.act=V,s.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=b({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=j.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!_.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:a,type:e.type,key:i,ref:s,props:r,_owner:o}},s.createContext=function(e){return(e={$$typeof:d,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:h,_context:e},e.Consumer=e},s.createElement=T,s.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},s.createRef=function(){return{current:null}},s.forwardRef=function(e){return{$$typeof:f,render:e}},s.isValidElement=I,s.lazy=function(e){return{$$typeof:g,_payload:{_status:-1,_result:e},_init:M}},s.memo=function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},s.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},s.unstable_act=V,s.useCallback=function(e,t){return P.current.useCallback(e,t)},s.useContext=function(e){return P.current.useContext(e)},s.useDebugValue=function(){},s.useDeferredValue=function(e){return P.current.useDeferredValue(e)},s.useEffect=function(e,t){return P.current.useEffect(e,t)},s.useId=function(){return P.current.useId()},s.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},s.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},s.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},s.useMemo=function(e,t){return P.current.useMemo(e,t)},s.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},s.useRef=function(e){return P.current.useRef(e)},s.useState=function(e){return P.current.useState(e)},s.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},s.useTransition=function(){return P.current.useTransition()},s.version="18.3.1",i.exports=s;var z=i.exports;const U=t(z),B=e({__proto__:null,default:U},[z]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var $=z,q=Symbol.for("react.element"),H=Symbol.for("react.fragment"),W=Object.prototype.hasOwnProperty,G=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};function Q(e,t,n){var r,i={},s=null,a=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(a=t.ref),t)W.call(t,r)&&!K.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:q,type:e,key:s,ref:a,props:i,_owner:G.current}}r.Fragment=H,r.jsx=Q,r.jsxs=Q,n.exports=r;var X=n.exports,Y={},J={exports:{}},Z={},ee={exports:{}},te={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,D(w);else{var t=n(c);null!==t&&L(x,t.startTime-e)}}function w(t,i){p=!1,m&&(m=!1,v(k),k=-1),f=!0;var s=d;try{for(b(i),h=n(l);null!==h&&(!(h.expirationTime>i)||t&&!_());){var a=h.callback;if("function"==typeof a){h.callback=null,d=h.priorityLevel;var o=a(h.expirationTime<=i);i=e.unstable_now(),"function"==typeof o?h.callback=o:h===n(l)&&r(l),b(i)}else r(l);h=n(l)}if(null!==h)var u=!0;else{var g=n(c);null!==g&&L(x,g.startTime-i),u=!1}return u}finally{h=null,d=s,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,E=null,k=-1,N=5,j=-1;function _(){return!(e.unstable_now()-j<N)}function T(){if(null!==E){var t=e.unstable_now();j=t;var n=!0;try{n=E(!0,t)}finally{n?S():(C=!1,E=null)}}else C=!1}if("function"==typeof y)S=function(){y(T)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=T,S=function(){A.postMessage(null)}}else S=function(){g(T,0)};function D(e){E=e,C||(C=!0,S())}function L(t,n){k=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,D(w))},e.unstable_forceFrameRate=function(e){0>e||125<e||(N=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,s){var a=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(r.sortIndex=s,t(c,r),null===n(l)&&r===n(c)&&(m?(v(k),k=-1):m=!0,L(x,s-a))):(r.sortIndex=o,t(l,r),p||f||(p=!0,D(w))),r},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(te),ee.exports=te;var ne=ee.exports,re=z,ie=ne;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ae=new Set,oe={};function le(e,t){ce(e,t),ce(e+"Capture",t)}function ce(e,t){for(oe[e]=t,e=0;e<t.length;e++)ae.add(t[e])}var ue=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),he=Object.prototype.hasOwnProperty,de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe={},pe={};function me(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new me(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new me(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new me(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new me(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new me(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new me(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){ge[e]=new me(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){ge[e]=new me(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){ge[e]=new me(e,5,!1,e.toLowerCase(),null,!1,!1)});var ve=/[\-:]([a-z])/g;function ye(e){return e[1].toUpperCase()}function be(e,t,n,r){var i=ge.hasOwnProperty(t)?ge[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!he.call(pe,e)||!he.call(fe,e)&&(de.test(e)?pe[e]=!0:(fe[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ve,ye);ge[t]=new me(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ve,ye);ge[t]=new me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ve,ye);ge[t]=new me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new me(e,1,!1,e.toLowerCase(),null,!1,!1)}),ge.xlinkHref=new me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){ge[e]=new me(e,1,!1,e.toLowerCase(),null,!0,!0)});var xe=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,we=Symbol.for("react.element"),Se=Symbol.for("react.portal"),Ce=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),ke=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),je=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),Re=Symbol.iterator;function Me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Re&&e[Re]||e["@@iterator"])?e:null}var Pe,Oe=Object.assign;function Fe(e){if(void 0===Pe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pe=t&&t[1]||""}return"\n"+Pe+e}var Ve=!1;function ze(e,t){if(!e||Ve)return"";Ve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{Ve=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fe(e):""}function Ue(e){switch(e.tag){case 5:return Fe(e.type);case 16:return Fe("Lazy");case 13:return Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 2:case 15:return e=ze(e.type,!1);case 11:return e=ze(e.type.render,!1);case 1:return e=ze(e.type,!0);default:return""}}function Be(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Ce:return"Fragment";case Se:return"Portal";case ke:return"Profiler";case Ee:return"StrictMode";case Te:return"Suspense";case Ie:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case je:return(e.displayName||"Context")+".Consumer";case Ne:return(e._context.displayName||"Context")+".Provider";case _e:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ae:return null!==(t=e.displayName||null)?t:Be(e.type)||"Memo";case De:t=e._payload,e=e._init;try{return Be(e(t))}catch(n){}}return null}function $e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(t);case 8:return t===Ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function qe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function He(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){e._valueTracker||(e._valueTracker=function(e){var t=He(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=He(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ke(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Qe(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=qe(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ye(e,t){null!=(t=t.checked)&&be(e,"checked",t,!1)}function Je(e,t){Ye(e,t);var n=qe(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?et(e,t.type,n):t.hasOwnProperty("defaultValue")&&et(e,t.type,qe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ze(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function et(e,t,n){"number"===t&&Ke(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tt=Array.isArray;function nt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qe(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function rt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(se(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function it(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(se(92));if(tt(n)){if(1<n.length)throw Error(se(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:qe(n)}}function st(e,t){var n=qe(t.value),r=qe(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function at(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ot(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ot(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ct,ut,ht=(ut=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ct.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ut(e,t)})}:ut);function dt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ft.hasOwnProperty(e)&&ft[e]?(""+t).trim():t+"px"}function gt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=mt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ft).forEach(function(e){pt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ft[t]=ft[e]})});var vt=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(e,t){if(t){if(vt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(se(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(se(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(se(62))}}function bt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function wt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var St=null,Ct=null,Et=null;function kt(e){if(e=bs(e)){if("function"!=typeof St)throw Error(se(280));var t=e.stateNode;t&&(t=ws(t),St(e.stateNode,e.type,t))}}function Nt(e){Ct?Et?Et.push(e):Et=[e]:Ct=e}function jt(){if(Ct){var e=Ct,t=Et;if(Et=Ct=null,kt(e),t)for(e=0;e<t.length;e++)kt(t[e])}}function _t(e,t){return e(t)}function Tt(){}var It=!1;function At(e,t,n){if(It)return e(t,n);It=!0;try{return _t(e,t,n)}finally{It=!1,(null!==Ct||null!==Et)&&(Tt(),jt())}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(se(231,t,typeof n));return n}var Lt=!1;if(ue)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch(ut){Lt=!1}function Mt(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pt=!1,Ot=null,Ft=!1,Vt=null,zt={onError:function(e){Pt=!0,Ot=e}};function Ut(e,t,n,r,i,s,a,o,l){Pt=!1,Ot=null,Mt.apply(zt,arguments)}function Bt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $t(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qt(e){if(Bt(e)!==e)throw Error(se(188))}function Ht(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Bt(e)))throw Error(se(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qt(i),e;if(s===r)return qt(i),t;s=s.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(3!==n.tag)throw Error(se(188));return n.stateNode.current===n?e:t}(e))?Wt(e):null}function Wt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Wt(e);if(null!==t)return t;e=e.sibling}return null}var Gt=ie.unstable_scheduleCallback,Kt=ie.unstable_cancelCallback,Qt=ie.unstable_shouldYield,Xt=ie.unstable_requestPaint,Yt=ie.unstable_now,Jt=ie.unstable_getCurrentPriorityLevel,Zt=ie.unstable_ImmediatePriority,en=ie.unstable_UserBlockingPriority,tn=ie.unstable_NormalPriority,nn=ie.unstable_LowPriority,rn=ie.unstable_IdlePriority,sn=null,an=null;var on=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ln(e)/cn|0)|0},ln=Math.log,cn=Math.LN2;var un=64,hn=4194304;function dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fn(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dn(o):0!==(s&=a)&&(r=dn(s))}else 0!==(a=n&~i)?r=dn(a):0!==s&&(r=dn(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&4194240&s))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-on(t)),r|=e[n],t&=~i;return r}function pn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gn(){var e=un;return!(4194240&(un<<=1))&&(un=64),e}function vn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yn(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-on(t)]=n}function bn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xn=0;function wn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Sn,Cn,En,kn,Nn,jn=!1,_n=[],Tn=null,In=null,An=null,Dn=new Map,Ln=new Map,Rn=[],Mn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pn(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Dn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(t.pointerId)}}function On(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bs(t))&&Cn(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fn(e){var t=ys(e.target);if(null!==t){var n=Bt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$t(n)))return e.blockedOn=t,void Nn(e.priority,function(){En(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&Cn(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xt=r,n.target.dispatchEvent(r),xt=null,t.shift()}return!0}function zn(e,t,n){Vn(e)&&n.delete(t)}function Un(){jn=!1,null!==Tn&&Vn(Tn)&&(Tn=null),null!==In&&Vn(In)&&(In=null),null!==An&&Vn(An)&&(An=null),Dn.forEach(zn),Ln.forEach(zn)}function Bn(e,t){e.blockedOn===t&&(e.blockedOn=null,jn||(jn=!0,ie.unstable_scheduleCallback(ie.unstable_NormalPriority,Un)))}function $n(e){function t(t){return Bn(t,e)}if(0<_n.length){Bn(_n[0],e);for(var n=1;n<_n.length;n++){var r=_n[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tn&&Bn(Tn,e),null!==In&&Bn(In,e),null!==An&&Bn(An,e),Dn.forEach(t),Ln.forEach(t),n=0;n<Rn.length;n++)(r=Rn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rn.length&&null===(n=Rn[0]).blockedOn;)Fn(n),null===n.blockedOn&&Rn.shift()}var qn=xe.ReactCurrentBatchConfig,Hn=!0;function Wn(e,t,n,r){var i=xn,s=qn.transition;qn.transition=null;try{xn=1,Kn(e,t,n,r)}finally{xn=i,qn.transition=s}}function Gn(e,t,n,r){var i=xn,s=qn.transition;qn.transition=null;try{xn=4,Kn(e,t,n,r)}finally{xn=i,qn.transition=s}}function Kn(e,t,n,r){if(Hn){var i=Xn(e,t,n,r);if(null===i)qi(e,t,r,Qn,n),Pn(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tn=On(Tn,e,t,n,r,i),!0;case"dragenter":return In=On(In,e,t,n,r,i),!0;case"mouseover":return An=On(An,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dn.set(s,On(Dn.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ln.set(s,On(Ln.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pn(e,r),4&t&&-1<Mn.indexOf(e)){for(;null!==i;){var s=bs(i);if(null!==s&&Sn(s),null===(s=Xn(e,t,n,r))&&qi(e,t,r,Qn,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qi(e,t,r,null,n)}}var Qn=null;function Xn(e,t,n,r){if(Qn=null,null!==(e=ys(e=wt(r))))if(null===(t=Bt(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$t(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qn=e,null}function Yn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case en:return 4;case tn:case nn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Jn=null,Zn=null,er=null;function tr(){if(er)return er;var e,t,n=Zn,r=n.length,i="value"in Jn?Jn.value:Jn.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return er=i.slice(e,1<t?1-t:void 0)}function nr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function ir(){return!1}function sr(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:ir,this.isPropagationStopped=ir,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,or,lr,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=sr(cr),hr=Oe({},cr,{view:0,detail:0}),dr=sr(hr),fr=Oe({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(ar=e.screenX-lr.screenX,or=e.screenY-lr.screenY):or=ar=0,lr=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:or}}),pr=sr(fr),mr=sr(Oe({},fr,{dataTransfer:0})),gr=sr(Oe({},hr,{relatedTarget:0})),vr=sr(Oe({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=Oe({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=sr(yr),xr=sr(Oe({},cr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cr[e])&&!!t[e]}function kr(){return Er}var Nr=Oe({},hr,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?nr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jr=sr(Nr),_r=sr(Oe({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tr=sr(Oe({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Ir=sr(Oe({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=Oe({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dr=sr(Ar),Lr=[9,13,27,32],Rr=ue&&"CompositionEvent"in window,Mr=null;ue&&"documentMode"in document&&(Mr=document.documentMode);var Pr=ue&&"TextEvent"in window&&!Mr,Or=ue&&(!Rr||Mr&&8<Mr&&11>=Mr),Fr=String.fromCharCode(32),Vr=!1;function zr(e,t){switch(e){case"keyup":return-1!==Lr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Br=!1;var $r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$r[e.type]:"textarea"===t}function Hr(e,t,n,r){Nt(r),0<(t=Wi(t,"onChange")).length&&(n=new ur("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wr=null,Gr=null;function Kr(e){Fi(e,0)}function Qr(e){if(Ge(xs(e)))return e}function Xr(e,t){if("change"===e)return t}var Yr=!1;if(ue){var Jr;if(ue){var Zr="oninput"in document;if(!Zr){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zr="function"==typeof ei.oninput}Jr=Zr}else Jr=!1;Yr=Jr&&(!document.documentMode||9<document.documentMode)}function ti(){Wr&&(Wr.detachEvent("onpropertychange",ni),Gr=Wr=null)}function ni(e){if("value"===e.propertyName&&Qr(Gr)){var t=[];Hr(t,Gr,e,wt(e)),At(Kr,t)}}function ri(e,t,n){"focusin"===e?(ti(),Gr=n,(Wr=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ii(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr(Gr)}function si(e,t){if("click"===e)return Qr(t)}function ai(e,t){if("input"===e||"change"===e)return Qr(t)}var oi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function li(e,t){if(oi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!he.call(t,i)||!oi(e[i],t[i]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,r=ci(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ci(r)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=Ke();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Ke((e=t.contentWindow).document)}return t}function fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=di(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==r&&fi(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ui(n,s);var a=ui(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=ue&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,yi=null,bi=!1;function xi(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==gi||gi!==Ke(r)||("selectionStart"in(r=gi)&&fi(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yi&&li(yi,r)||(yi=r,0<(r=Wi(vi,"onSelect")).length&&(t=new ur("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},Ci={},Ei={};function ki(e){if(Ci[e])return Ci[e];if(!Si[e])return e;var t,n=Si[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ei)return Ci[e]=n[t];return e}ue&&(Ei=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var Ni=ki("animationend"),ji=ki("animationiteration"),_i=ki("animationstart"),Ti=ki("transitionend"),Ii=new Map,Ai="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(e,t){Ii.set(e,t),le(t,[e])}for(var Li=0;Li<Ai.length;Li++){var Ri=Ai[Li];Di(Ri.toLowerCase(),"on"+(Ri[0].toUpperCase()+Ri.slice(1)))}Di(Ni,"onAnimationEnd"),Di(ji,"onAnimationIteration"),Di(_i,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Ti,"onTransitionEnd"),ce("onMouseEnter",["mouseout","mouseover"]),ce("onMouseLeave",["mouseout","mouseover"]),ce("onPointerEnter",["pointerout","pointerover"]),ce("onPointerLeave",["pointerout","pointerover"]),le("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),le("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),le("onBeforeInput",["compositionend","keypress","textInput","paste"]),le("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function Oi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,o,l){if(Ut.apply(this,arguments),Pt){if(!Pt)throw Error(se(198));var c=Ot;Pt=!1,Ot=null,Ft||(Ft=!0,Vt=c)}}(r,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Oi(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Oi(i,o,c),s=l}}}if(Ft)throw e=Vt,Ft=!1,Vt=null,e}function Vi(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||($i(t,e,2,!1),n.add(r))}function zi(e,t,n){var r=0;t&&(r|=4),$i(n,e,r,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Ui]){e[Ui]=!0,ae.forEach(function(t){"selectionchange"!==t&&(Pi.has(t)||zi(t,!1,e),zi(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ui]||(t[Ui]=!0,zi("selectionchange",!1,t))}}function $i(e,t,n,r){switch(Yn(t)){case 1:var i=Wn;break;case 4:i=Gn;break;default:i=Kn}n=i.bind(null,t,n,e),i=void 0,!Lt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qi(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=ys(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}At(function(){var r=s,i=wt(n),a=[];e:{var o=Ii.get(e);if(void 0!==o){var l=ur,c=e;switch(e){case"keypress":if(0===nr(n))break e;case"keydown":case"keyup":l=jr;break;case"focusin":c="focus",l=gr;break;case"focusout":c="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tr;break;case Ni:case ji:case _i:l=vr;break;case Ti:l=Ir;break;case"scroll":l=dr;break;case"wheel":l=Dr;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_r}var u=!!(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Dt(p,d))&&u.push(Hi(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xt||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ps])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(h=Bt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pr,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_r,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:xs(l),f=null==c?o:xs(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,ys(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gi(f))p++;for(f=0,m=d;m;m=Gi(m))f++;for(;0<p-f;)u=Gi(u),p--;for(;0<f-p;)d=Gi(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gi(u),d=Gi(d)}u=null}else u=null;null!==l&&Ki(a,o,l,u,!1),null!==c&&null!==h&&Ki(a,h,c,u,!0)}if("select"===(l=(o=r?xs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xr;else if(qr(o))if(Yr)g=ai;else{g=ii;var v=ri}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=si);switch(g&&(g=g(e,r))?Hr(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&et(o,"number",o.value)),v=r?xs(r):window,e){case"focusin":(qr(v)||"true"===v.contentEditable)&&(gi=v,vi=r,yi=null);break;case"focusout":yi=vi=gi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,xi(a,n,i);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":xi(a,n,i)}var y;if(Rr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Br?zr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Or&&"ko"!==n.locale&&(Br||"onCompositionStart"!==b?"onCompositionEnd"===b&&Br&&(y=tr()):(Zn="value"in(Jn=i)?Jn.value:Jn.textContent,Br=!0)),0<(v=Wi(r,b)).length&&(b=new xr(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Ur(n))&&(b.data=y))),(y=Pr?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Vr=!0,Fr);case"textInput":return(e=t.data)===Fr&&Vr?null:e;default:return null}}(e,n):function(e,t){if(Br)return"compositionend"===e||!Rr&&zr(e,t)?(e=tr(),er=Zn=Jn=null,Br=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Or&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wi(r,"onBeforeInput")).length&&(i=new xr("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fi(a,t)})}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Dt(e,n))&&r.unshift(Hi(e,s,i)),null!=(s=Dt(e,t))&&r.push(Hi(e,s,i))),e=e.return}return r}function Gi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ki(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Dt(n,s))&&a.unshift(Hi(n,l,o)):i||null!=(l=Dt(n,s))&&a.push(Hi(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qi=/\r\n?/g,Xi=/\u0000|\uFFFD/g;function Yi(e){return("string"==typeof e?e:""+e).replace(Qi,"\n").replace(Xi,"")}function Ji(e,t,n){if(t=Yi(t),Yi(e)!==t&&n)throw Error(se(425))}function Zi(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"==typeof setTimeout?setTimeout:void 0,is="function"==typeof clearTimeout?clearTimeout:void 0,ss="function"==typeof Promise?Promise:void 0,as="function"==typeof queueMicrotask?queueMicrotask:void 0!==ss?function(e){return ss.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void $n(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);$n(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),ds="__reactFiber$"+hs,fs="__reactProps$"+hs,ps="__reactContainer$"+hs,ms="__reactEvents$"+hs,gs="__reactListeners$"+hs,vs="__reactHandles$"+hs;function ys(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[ds])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[ds]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(se(33))}function ws(e){return e[fs]||null}var Ss=[],Cs=-1;function Es(e){return{current:e}}function ks(e){0>Cs||(e.current=Ss[Cs],Ss[Cs]=null,Cs--)}function Ns(e,t){Cs++,Ss[Cs]=e.current,e.current=t}var js={},_s=Es(js),Ts=Es(!1),Is=js;function As(e,t){var n=e.type.contextTypes;if(!n)return js;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ds(e){return null!=(e=e.childContextTypes)}function Ls(){ks(Ts),ks(_s)}function Rs(e,t,n){if(_s.current!==js)throw Error(se(168));Ns(_s,t),Ns(Ts,n)}function Ms(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(se(108,$e(e)||"Unknown",i));return Oe({},n,r)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||js,Is=_s.current,Ns(_s,e),Ns(Ts,Ts.current),!0}function Os(e,t,n){var r=e.stateNode;if(!r)throw Error(se(169));n?(e=Ms(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,ks(Ts),ks(_s),Ns(_s,e)):ks(Ts),Ns(Ts,n)}var Fs=null,Vs=!1,zs=!1;function Us(e){null===Fs?Fs=[e]:Fs.push(e)}function Bs(){if(!zs&&null!==Fs){zs=!0;var e=0,t=xn;try{var n=Fs;for(xn=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,Vs=!1}catch(i){throw null!==Fs&&(Fs=Fs.slice(e+1)),Gt(Zt,Bs),i}finally{xn=t,zs=!1}}return null}var $s=[],qs=0,Hs=null,Ws=0,Gs=[],Ks=0,Qs=null,Xs=1,Ys="";function Js(e,t){$s[qs++]=Ws,$s[qs++]=Hs,Hs=e,Ws=t}function Zs(e,t,n){Gs[Ks++]=Xs,Gs[Ks++]=Ys,Gs[Ks++]=Qs,Qs=e;var r=Xs;e=Ys;var i=32-on(r)-1;r&=~(1<<i),n+=1;var s=32-on(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xs=1<<32-on(t)+i|n<<i|r,Ys=s+e}else Xs=1<<s|n<<i|r,Ys=e}function ea(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ta(e){for(;e===Hs;)Hs=$s[--qs],$s[qs]=null,Ws=$s[--qs],$s[qs]=null;for(;e===Qs;)Qs=Gs[--Ks],Gs[Ks]=null,Ys=Gs[--Ks],Gs[Ks]=null,Xs=Gs[--Ks],Gs[Ks]=null}var na=null,ra=null,ia=!1,sa=null;function aa(e,t){var n=Iu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qs?{id:Xs,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Iu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return!(!(1&e.mode)||128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(se(418));t=cs(n.nextSibling);var r=na;t&&oa(e,t)?aa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(se(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw da(),Error(se(418));for(;t;)aa(e,t),t=cs(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?cs(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=cs(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===sa?sa=[e]:sa.push(e)}var ma=xe.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(se(284));if(!n._owner)throw Error(se(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Pu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===Ce?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===De&&ya(s)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ou(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Pu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case we:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case Se:return(t=Ou(t,e.mode,n)).return=e,t;case De:return h(e,(0,t._init)(t._payload),n)}if(tt(t)||Me(t))return(t=Ru(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case we:return n.key===i?l(e,t,n,r):null;case Se:return n.key===i?c(e,t,n,r):null;case De:return d(e,t,(i=n._init)(n._payload),r)}if(tt(n)||Me(n))return null!==i?null:u(e,t,n,r,null);va(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case we:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Se:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case De:return f(e,t,n,(0,r._init)(r._payload),i)}if(tt(r)||Me(r))return u(t,e=e.get(n)||null,r,i,null);va(t,r)}return null}return function o(l,c,u,p){if("object"==typeof u&&null!==u&&u.type===Ce&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case we:e:{for(var m=u.key,g=c;null!==g;){if(g.key===m){if((m=u.type)===Ce){if(7===g.tag){n(l,g.sibling),(c=i(g,u.props.children)).return=l,l=c;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===De&&ya(m)===g.type){n(l,g.sibling),(c=i(g,u.props)).ref=ga(l,g,u),c.return=l,l=c;break e}n(l,g);break}t(l,g),g=g.sibling}u.type===Ce?((c=Ru(u.props.children,l.mode,p,u.key)).return=l,l=c):((p=Lu(u.type,u.key,u.props,null,l.mode,p)).ref=ga(l,c,u),p.return=l,l=p)}return a(l);case Se:e:{for(g=u.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=i(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=Ou(u,l.mode,p)).return=l,l=c}return a(l);case De:return o(l,c,(g=u._init)(u._payload),p)}if(tt(u))return function(i,a,o,l){for(var c=null,u=null,p=a,m=a=0,g=null;null!==p&&m<o.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=d(i,p,o[m],l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),a=s(v,a,m),null===u?c=v:u.sibling=v,u=v,p=g}if(m===o.length)return n(i,p),ia&&Js(i,m),c;if(null===p){for(;m<o.length;m++)null!==(p=h(i,o[m],l))&&(a=s(p,a,m),null===u?c=p:u.sibling=p,u=p);return ia&&Js(i,m),c}for(p=r(i,p);m<o.length;m++)null!==(g=f(p,i,m,o[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&p.forEach(function(e){return t(i,e)}),ia&&Js(i,m),c}(l,c,u,p);if(Me(u))return function(i,a,o,l){var c=Me(o);if("function"!=typeof c)throw Error(se(150));if(null==(o=c.call(o)))throw Error(se(151));for(var u=c=null,p=a,m=a=0,g=null,v=o.next();null!==p&&!v.done;m++,v=o.next()){p.index>m?(g=p,p=null):g=p.sibling;var y=d(i,p,v.value,l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),a=s(y,a,m),null===u?c=y:u.sibling=y,u=y,p=g}if(v.done)return n(i,p),ia&&Js(i,m),c;if(null===p){for(;!v.done;m++,v=o.next())null!==(v=h(i,v.value,l))&&(a=s(v,a,m),null===u?c=v:u.sibling=v,u=v);return ia&&Js(i,m),c}for(p=r(i,p);!v.done;m++,v=o.next())null!==(v=f(p,i,m,v.value,l))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=s(v,a,m),null===u?c=v:u.sibling=v,u=v);return e&&p.forEach(function(e){return t(i,e)}),ia&&Js(i,m),c}(l,c,u,p);va(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=i(c,u)).return=l,l=c):(n(l,c),(c=Pu(u,l.mode,p)).return=l,l=c),a(l)):n(l,c)}}var xa=ba(!0),wa=ba(!1),Sa=Es(null),Ca=null,Ea=null,ka=null;function Na(){ka=Ea=Ca=null}function ja(e){var t=Sa.current;ks(Sa),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){Ca=e,ka=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yl=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===Ca)throw Error(se(308));Ea=e,Ca.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Aa=null;function Da(e){null===Aa?Aa=[e]:Aa.push(e)}function La(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Da(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Va(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&jc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,Da(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function za(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bn(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var i=e.updateQueue;Ma=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=Oe({},h,d);break e;case 2:Ma=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Mc|=a,e.lanes=a,e.memoizedState=h}}function $a(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(se(191,i));i.call(r)}}}var qa={},Ha=Es(qa),Wa=Es(qa),Ga=Es(qa);function Ka(e){if(e===qa)throw Error(se(174));return e}function Qa(e,t){switch(Ns(Ga,t),Ns(Wa,e),Ns(Ha,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lt(null,"");break;default:t=lt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ks(Ha),Ns(Ha,t)}function Xa(){ks(Ha),ks(Wa),ks(Ga)}function Ya(e){Ka(Ga.current);var t=Ka(Ha.current),n=lt(t,e.type);t!==n&&(Ns(Wa,e),Ns(Ha,n))}function Ja(e){Wa.current===e&&(ks(Ha),ks(Wa))}var Za=Es(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=xe.ReactCurrentDispatcher,io=xe.ReactCurrentBatchConfig,so=0,ao=null,oo=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(se(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,s){if(so=s,ao=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:el,e=n(r,i),uo){s=0;do{if(uo=!1,ho=0,25<=s)throw Error(se(301));s+=1,lo=oo=null,t.updateQueue=null,ro.current=tl,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==oo&&null!==oo.next,so=0,lo=oo=ao=null,co=!1,t)throw Error(se(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?ao.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===oo){var e=ao.alternate;e=null!==e?e.memoizedState:null}else e=oo.next;var t=null===lo?ao.memoizedState:lo.next;if(null!==t)lo=t,oo=e;else{if(null===e)throw Error(se(310));e={memoizedState:(oo=e).memoizedState,baseState:oo.baseState,baseQueue:oo.baseQueue,queue:oo.queue,next:null},null===lo?ao.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"==typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(se(311));n.lastRenderedReducer=e;var r=oo,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((so&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(o=l=h,a=r):l=l.next=h,ao.lanes|=u,Mc|=u}c=c.next}while(null!==c&&c!==s);null===l?a=r:l.next=o,oi(r,t.memoizedState)||(yl=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ao.lanes|=s,Mc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=bo(),n=t.queue;if(null===n)throw Error(se(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);oi(s,t.memoizedState)||(yl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Co(){}function Eo(e,t){var n=ao,r=bo(),i=t(),s=!oi(r.memoizedState,i);if(s&&(r.memoizedState=i,yl=!0),r=r.queue,Po(jo.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ao(9,No.bind(null,n,r,i,t),void 0,null),null===_c)throw Error(se(349));30&so||ko(n,t,i)}return i}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ao.updateQueue)?(t={lastEffect:null,stores:null},ao.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&To(e)}function jo(e,t,n){return n(function(){_o(t)&&To(e)})}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(r){return!0}}function To(e){var t=Ra(e,1);null!==t&&tu(t,e,1,-1)}function Io(e){var t=yo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,ao,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ao.updateQueue)?(t={lastEffect:null,stores:null},ao.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return bo().memoizedState}function Lo(e,t,n,r){var i=yo();ao.flags|=e,i.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Ro(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==oo){var a=oo.memoizedState;if(s=a.destroy,null!==r&&mo(r,a.deps))return void(i.memoizedState=Ao(t,n,s,r))}ao.flags|=e,i.memoizedState=Ao(1|t,n,s,r)}function Mo(e,t){return Lo(8390656,8,e,t)}function Po(e,t){return Ro(2048,8,e,t)}function Oo(e,t){return Ro(4,2,e,t)}function Fo(e,t){return Ro(4,4,e,t)}function Vo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!=n?n.concat([e]):null,Ro(4,4,Vo.bind(null,t,e),n)}function Uo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 21&so?(oi(n,t)||(n=gn(),ao.lanes|=n,Mc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yl=!0),e.memoizedState=n)}function Ho(e,t){var n=xn;xn=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{xn=n,io.transition=r}}function Wo(){return bo().memoizedState}function Go(e,t,n){var r=eu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Xo(t,n);else if(null!==(n=La(e,t,n,r))){tu(n,e,r,Zc()),Yo(n,t,r)}}function Ko(e,t,n){var r=eu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,oi(o,a)){var l=t.interleaved;return null===l?(i.next=i,Da(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=La(e,t,i,r))&&(tu(n,e,r,i=Zc()),Yo(n,t,r))}}function Qo(e){var t=e.alternate;return e===ao||null!==t&&t===ao}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bn(e,n)}}var Jo={readContext:Ia,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ia,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Lo(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,ao,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Io,useDebugValue:Uo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=Ho.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ao,i=yo();if(ia){if(void 0===n)throw Error(se(407));n=n()}else{if(n=t(),null===_c)throw Error(se(349));30&so||ko(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Mo(jo.bind(null,r,s,e),[e]),r.flags|=2048,Ao(9,No.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=yo(),t=_c.identifierPrefix;if(ia){var n=Ys;t=":"+t+"R"+(n=(Xs&~(1<<32-on(Xs)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:Ia,useCallback:Bo,useContext:Ia,useEffect:Po,useImperativeHandle:zo,useInsertionEffect:Oo,useLayoutEffect:Fo,useMemo:$o,useReducer:wo,useRef:Do,useState:function(){return wo(xo)},useDebugValue:Uo,useDeferredValue:function(e){return qo(bo(),oo.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Eo,useId:Wo,unstable_isNewReconciler:!1},tl={readContext:Ia,useCallback:Bo,useContext:Ia,useEffect:Po,useImperativeHandle:zo,useInsertionEffect:Oo,useLayoutEffect:Fo,useMemo:$o,useReducer:So,useRef:Do,useState:function(){return So(xo)},useDebugValue:Uo,useDeferredValue:function(e){var t=bo();return null===oo?t.memoizedState=e:qo(t,oo.memoizedState,e)},useTransition:function(){return[So(xo)[0],bo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Eo,useId:Wo,unstable_isNewReconciler:!1};function nl(e,t){if(e&&e.defaultProps){for(var n in t=Oe({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Oe({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return!!(e=e._reactInternals)&&Bt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zc(),i=eu(e),s=Fa(r,i);s.payload=t,null!=n&&(s.callback=n),null!==(t=Va(e,s,i))&&(tu(t,e,i,r),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zc(),i=eu(e),s=Fa(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=Va(e,s,i))&&(tu(t,e,i,r),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zc(),r=eu(e),i=Fa(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Va(e,i,r))&&(tu(t,e,r,n),za(t,e,r))}};function sl(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,r)||!li(i,s))}function al(e,t,n){var r=!1,i=js,s=t.contextType;return"object"==typeof s&&null!==s?s=Ia(s):(i=Ds(t)?Is:_s.current,s=(r=null!=(r=t.contextTypes))?As(e,i):js),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ol(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Pa(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=Ia(s):(s=Ds(t)?Is:_s.current,i.context=As(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(rl(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&il.enqueueReplaceState(i,i.state,null),Ba(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function cl(e,t){try{var n="",r=t;do{n+=Ue(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}var hl="function"==typeof WeakMap?WeakMap:Map;function dl(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$c||($c=!0,qc=r)},n}function fl(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hc?Hc=new Set([this]):Hc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function ml(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gl(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Va(n,t,1))),n.lanes|=1),e)}var vl=xe.ReactCurrentOwner,yl=!1;function bl(e,t,n,r){t.child=null===e?wa(t,null,n,r):xa(t,e.child,n,r)}function xl(e,t,n,r,i){n=n.render;var s=t.ref;return Ta(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||yl?(ia&&n&&ea(t),t.flags|=1,bl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$l(e,t,i))}function wl(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Au(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sl(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,r)&&e.ref===t.ref)return $l(e,t,i)}return t.flags|=1,(e=Du(s,r)).ref=t.ref,e.return=t,t.child=e}function Sl(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(li(s,r)&&e.ref===t.ref){if(yl=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,$l(e,t,i);131072&e.flags&&(yl=!0)}}return kl(e,t,n,r,i)}function Cl(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ns(Dc,Ac),Ac|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ns(Dc,Ac),Ac|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ns(Dc,Ac),Ac|=n;else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ns(Dc,Ac),Ac|=r;return bl(e,t,i,n),t.child}function El(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kl(e,t,n,r,i){var s=Ds(n)?Is:_s.current;return s=As(t,s),Ta(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||yl?(ia&&r&&ea(t),t.flags|=1,bl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$l(e,t,i))}function Nl(e,t,n,r,i){if(Ds(n)){var s=!0;Ps(t)}else s=!1;if(Ta(t,i),null===t.stateNode)Bl(e,t),al(t,n,r),ll(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ia(c):c=As(t,c=Ds(n)?Is:_s.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ol(t,a,r,c),Ma=!1;var d=t.memoizedState;a.state=d,Ba(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ts.current||Ma?("function"==typeof u&&(rl(t,n,u,r),l=t.memoizedState),(o=Ma||sl(t,n,o,r,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oa(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:nl(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ia(l):l=As(t,l=Ds(n)?Is:_s.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ol(t,a,r,l),Ma=!1,d=t.memoizedState,a.state=d,Ba(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ts.current||Ma?("function"==typeof f&&(rl(t,n,f,r),p=t.memoizedState),(c=Ma||sl(t,n,c,r,d,p,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return jl(e,t,n,r,s,i)}function jl(e,t,n,r,i,s){El(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Os(t,n,!1),$l(e,t,s);r=t.stateNode,vl.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xa(t,e.child,null,s),t.child=xa(t,null,o,s)):bl(e,t,o,s),t.memoizedState=r.state,i&&Os(t,n,!0),t.child}function _l(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Qa(e,t.containerInfo)}function Tl(e,t,n,r,i){return fa(),pa(i),t.flags|=256,bl(e,t,n,r),t.child}var Il,Al,Dl,Ll,Rl={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pl(e,t,n){var r,i=t.pendingProps,s=Za.current,a=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ns(Za,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},1&i||null===a?a=Mu(o,i,0,null):(a.childLanes=0,a.pendingProps=o),e=Ru(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ml(n),t.memoizedState=Rl,e):Ol(t,o));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Fl(e,t,a,r=ul(Error(se(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(s=Ru(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,1&t.mode&&xa(t,e.child,null,a),t.child.memoizedState=Ml(a),t.memoizedState=Rl,s);if(!(1&t.mode))return Fl(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var o=r.dgst;return r=o,Fl(e,t,a,r=ul(s=Error(se(419)),r,void 0))}if(o=0!==(a&e.childLanes),yl||o){if(null!==(r=_c)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ra(e,i),tu(r,e,i,-1))}return pu(),Fl(e,t,a,r=ul(Error(se(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nu.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=cs(i.nextSibling),na=t,ia=!0,sa=null,null!==e&&(Gs[Ks++]=Xs,Gs[Ks++]=Ys,Gs[Ks++]=Qs,Xs=e.id,Ys=e.overflow,Qs=t),t=Ol(t,r.children),t.flags|=4096,t)}(e,t,o,i,r,s,n);if(a){a=i.fallback,o=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&o||t.child===s?(i=Du(s,l)).subtreeFlags=14680064&s.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?a=Du(r,a):(a=Ru(a,o,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=null===(o=e.child.memoizedState)?Ml(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Rl,i}return e=(a=e.child).sibling,i=Du(a,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ol(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fl(e,t,n,r){return null!==r&&pa(r),xa(t,e.child,null,n),(e=Ol(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zl(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ul(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(bl(e,t,r.children,n),2&(r=Za.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vl(e,n,t);else if(19===e.tag)Vl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ns(Za,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zl(t,!0,n,null,s);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Bl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $l(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(se(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ql(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wl(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hl(t),null;case 1:case 17:return Ds(t.type)&&Ls(),Hl(t),null;case 3:return r=t.stateNode,Xa(),ks(Ts),ks(_s),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==sa&&(su(sa),sa=null))),Al(e,t),Hl(t),null;case 5:Ja(t);var i=Ka(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)Dl(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(se(166));return Hl(t),null}if(e=Ka(Ha.current),ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ds]=t,r[fs]=s,e=!!(1&t.mode),n){case"dialog":Vi("cancel",r),Vi("close",r);break;case"iframe":case"object":case"embed":Vi("load",r);break;case"video":case"audio":for(i=0;i<Mi.length;i++)Vi(Mi[i],r);break;case"source":Vi("error",r);break;case"img":case"image":case"link":Vi("error",r),Vi("load",r);break;case"details":Vi("toggle",r);break;case"input":Xe(r,s),Vi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vi("invalid",r);break;case"textarea":it(r,s),Vi("invalid",r)}for(var a in yt(n,s),i=null,s)if(s.hasOwnProperty(a)){var o=s[a];"children"===a?"string"==typeof o?r.textContent!==o&&(!0!==s.suppressHydrationWarning&&Ji(r.textContent,o,e),i=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(!0!==s.suppressHydrationWarning&&Ji(r.textContent,o,e),i=["children",""+o]):oe.hasOwnProperty(a)&&null!=o&&"onScroll"===a&&Vi("scroll",r)}switch(n){case"input":We(r),Ze(r,s,!0);break;case"textarea":We(r),at(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Zi)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ot(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ds]=t,e[fs]=r,Il(e,t,!1,!1),t.stateNode=e;e:{switch(a=bt(n,r),n){case"dialog":Vi("cancel",e),Vi("close",e),i=r;break;case"iframe":case"object":case"embed":Vi("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mi.length;i++)Vi(Mi[i],e);i=r;break;case"source":Vi("error",e),i=r;break;case"img":case"image":case"link":Vi("error",e),Vi("load",e),i=r;break;case"details":Vi("toggle",e),i=r;break;case"input":Xe(e,r),i=Qe(e,r),Vi("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Vi("invalid",e);break;case"textarea":it(e,r),i=rt(e,r),Vi("invalid",e)}for(s in yt(n,i),o=i)if(o.hasOwnProperty(s)){var l=o[s];"style"===s?gt(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&ht(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&dt(e,l):"number"==typeof l&&dt(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(oe.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Vi("scroll",e):null!=l&&be(e,s,l,a))}switch(n){case"input":We(e),Ze(e,r,!1);break;case"textarea":We(e),at(e);break;case"option":null!=r.value&&e.setAttribute("value",""+qe(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?nt(e,!!r.multiple,s,!1):null!=r.defaultValue&&nt(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hl(t),null;case 6:if(e&&null!=t.stateNode)Ll(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(se(166));if(n=Ka(Ga.current),Ka(Ha.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Ji(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(r.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ds]=t,t.stateNode=r}return Hl(t),null;case 13:if(ks(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&1&t.mode&&!(128&t.flags))da(),fa(),t.flags|=98560,s=!1;else if(s=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(se(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(se(317));s[ds]=t}else fa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hl(t),s=!1}else null!==sa&&(su(sa),sa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Za.current?0===Lc&&(Lc=3):pu())),null!==t.updateQueue&&(t.flags|=4),Hl(t),null);case 4:return Xa(),Al(e,t),null===e&&Bi(t.stateNode.containerInfo),Hl(t),null;case 10:return ja(t.type._context),Hl(t),null;case 19:if(ks(Za),null===(s=t.memoizedState))return Hl(t),null;if(r=!!(128&t.flags),null===(a=s.rendering))if(r)ql(s,!1);else{if(0!==Lc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=eo(e))){for(t.flags|=128,ql(s,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(a=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ns(Za,1&Za.current|2),t.child}e=e.sibling}null!==s.tail&&Yt()>Uc&&(t.flags|=128,r=!0,ql(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ql(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!ia)return Hl(t),null}else 2*Yt()-s.renderingStartTime>Uc&&1073741824!==n&&(t.flags|=128,r=!0,ql(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=s.last)?n.sibling=a:t.child=a,s.last=a)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Yt(),t.sibling=null,n=Za.current,Ns(Za,r?1&n|2:1&n),t):(Hl(t),null);case 22:case 23:return uu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ac)&&(Hl(t),6&t.subtreeFlags&&(t.flags|=8192)):Hl(t),null;case 24:case 25:return null}throw Error(se(156,t.tag))}function Gl(e,t){switch(ta(t),t.tag){case 1:return Ds(t.type)&&Ls(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),ks(Ts),ks(_s),no(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(ks(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(se(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ks(Za),null;case 4:return Xa(),null;case 10:return ja(t.type._context),null;case 22:case 23:return uu(),null;default:return null}}Il=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Al=function(){},Dl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ka(Ha.current);var s,a=null;switch(n){case"input":i=Qe(e,i),r=Qe(e,r),a=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),a=[];break;case"textarea":i=rt(e,i),r=rt(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zi)}for(c in yt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(oe.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(null!=l||null!=o))if("style"===c)if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(oe.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Vi("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ll=function(e,t,n,r){n!==r&&(t.flags|=4)};var Kl=!1,Ql=!1,Xl="function"==typeof WeakSet?WeakSet:Set,Yl=null;function Jl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function Zl(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var ec=!1;function tc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&Zl(t,n,s)}i=i.next}while(i!==r)}}function nc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[fs],delete t[ms],delete t[gs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function oc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zi));else if(4!==r&&null!==(e=e.child))for(oc(e,t,n),e=e.sibling;null!==e;)oc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var cc=null,uc=!1;function hc(e,t,n){for(n=n.child;null!==n;)dc(e,t,n),n=n.sibling}function dc(e,t,n){if(an&&"function"==typeof an.onCommitFiberUnmount)try{an.onCommitFiberUnmount(sn,n)}catch(o){}switch(n.tag){case 5:Ql||Jl(n,t);case 6:var r=cc,i=uc;cc=null,hc(e,t,n),uc=i,null!==(cc=r)&&(uc?(e=cc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cc.removeChild(n.stateNode));break;case 18:null!==cc&&(uc?(e=cc,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),$n(e)):ls(cc,n.stateNode));break;case 4:r=cc,i=uc,cc=n.stateNode.containerInfo,uc=!0,hc(e,t,n),cc=r,uc=i;break;case 0:case 11:case 14:case 15:if(!Ql&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(2&s||4&s)&&Zl(n,t,a),i=i.next}while(i!==r)}hc(e,t,n);break;case 1:if(!Ql&&(Jl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cu(n,t,o)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Ql=(r=Ql)||null!==n.memoizedState,hc(e,t,n),Ql=r):hc(e,t,n);break;default:hc(e,t,n)}}function fc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xl),t.forEach(function(t){var r=ju.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;null!==o;){switch(o.tag){case 5:cc=o.stateNode,uc=!1;break e;case 3:case 4:cc=o.stateNode.containerInfo,uc=!0;break e}o=o.return}if(null===cc)throw Error(se(160));dc(s,a,i),cc=null,uc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Cu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pc(t,e),gc(e),4&r){try{tc(3,e,e.return),nc(3,e)}catch(m){Cu(e,e.return,m)}try{tc(5,e,e.return)}catch(m){Cu(e,e.return,m)}}break;case 1:pc(t,e),gc(e),512&r&&null!==n&&Jl(n,n.return);break;case 5:if(pc(t,e),gc(e),512&r&&null!==n&&Jl(n,n.return),32&e.flags){var i=e.stateNode;try{dt(i,"")}catch(m){Cu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&Ye(i,s),bt(o,a);var c=bt(o,s);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];"style"===u?gt(i,h):"dangerouslySetInnerHTML"===u?ht(i,h):"children"===u?dt(i,h):be(i,u,h,c)}switch(o){case"input":Je(i,s);break;case"textarea":st(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?nt(i,!!s.multiple,f,!1):d!==!!s.multiple&&(null!=s.defaultValue?nt(i,!!s.multiple,s.defaultValue,!0):nt(i,!!s.multiple,s.multiple?[]:"",!1))}i[fs]=s}catch(m){Cu(e,e.return,m)}}break;case 6:if(pc(t,e),gc(e),4&r){if(null===e.stateNode)throw Error(se(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Cu(e,e.return,m)}}break;case 3:if(pc(t,e),gc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$n(t.containerInfo)}catch(m){Cu(e,e.return,m)}break;case 4:default:pc(t,e),gc(e);break;case 13:pc(t,e),gc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zc=Yt())),4&r&&fc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ql=(c=Ql)||u,pc(t,e),Ql=c):pc(t,e),gc(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(Yl=e,u=e.child;null!==u;){for(h=Yl=u;null!==Yl;){switch(f=(d=Yl).child,d.tag){case 0:case 11:case 14:case 15:tc(4,d,d.return);break;case 1:Jl(d,d.return);var p=d.stateNode;if("function"==typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Cu(r,n,m)}}break;case 5:Jl(d,d.return);break;case 22:if(null!==d.memoizedState){xc(h);continue}}null!==f?(f.return=d,Yl=f):xc(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,c?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=h.stateNode,a=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=mt("display",a))}catch(m){Cu(e,e.return,m)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Cu(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pc(t,e),gc(e),4&r&&fc(e);case 21:}}function gc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),lc(e,ac(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;oc(e,ac(e),s);break;default:throw Error(se(161))}}catch(a){Cu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){Yl=e,yc(e)}function yc(e,t,n){for(var r=!!(1&e.mode);null!==Yl;){var i=Yl,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Kl;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Ql;o=Kl;var c=Ql;if(Kl=a,(Ql=l)&&!c)for(Yl=i;null!==Yl;)l=(a=Yl).child,22===a.tag&&null!==a.memoizedState?wc(i):null!==l?(l.return=a,Yl=l):wc(i);for(;null!==s;)Yl=s,yc(s),s=s.sibling;Yl=i,Kl=o,Ql=c}bc(e)}else 8772&i.subtreeFlags&&null!==s?(s.return=i,Yl=s):bc(e)}}function bc(e){for(;null!==Yl;){var t=Yl;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ql||nc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ql)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:nl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&$a(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$a(t,a,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&$n(h)}}}break;default:throw Error(se(163))}Ql||512&t.flags&&rc(t)}catch(d){Cu(t,t.return,d)}}if(t===e){Yl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yl=n;break}Yl=t.return}}function xc(e){for(;null!==Yl;){var t=Yl;if(t===e){Yl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yl=n;break}Yl=t.return}}function wc(e){for(;null!==Yl;){var t=Yl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nc(4,t)}catch(l){Cu(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cu(t,i,l)}}var s=t.return;try{rc(t)}catch(l){Cu(t,s,l)}break;case 5:var a=t.return;try{rc(t)}catch(l){Cu(t,a,l)}}}catch(l){Cu(t,t.return,l)}if(t===e){Yl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Yl=o;break}Yl=t.return}}var Sc,Cc=Math.ceil,Ec=xe.ReactCurrentDispatcher,kc=xe.ReactCurrentOwner,Nc=xe.ReactCurrentBatchConfig,jc=0,_c=null,Tc=null,Ic=0,Ac=0,Dc=Es(0),Lc=0,Rc=null,Mc=0,Pc=0,Oc=0,Fc=null,Vc=null,zc=0,Uc=1/0,Bc=null,$c=!1,qc=null,Hc=null,Wc=!1,Gc=null,Kc=0,Qc=0,Xc=null,Yc=-1,Jc=0;function Zc(){return 6&jc?Yt():-1!==Yc?Yc:Yc=Yt()}function eu(e){return 1&e.mode?2&jc&&0!==Ic?Ic&-Ic:null!==ma.transition?(0===Jc&&(Jc=gn()),Jc):0!==(e=xn)?e:e=void 0===(e=window.event)?16:Yn(e.type):1}function tu(e,t,n,r){if(50<Qc)throw Qc=0,Xc=null,Error(se(185));yn(e,n,r),2&jc&&e===_c||(e===_c&&(!(2&jc)&&(Pc|=n),4===Lc&&au(e,Ic)),nu(e,r),1===n&&0===jc&&!(1&t.mode)&&(Uc=Yt()+500,Vs&&Bs()))}function nu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-on(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=pn(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=fn(e,e===_c?Ic:0);if(0===r)null!==n&&Kt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Kt(n),1===t)0===e.tag?function(e){Vs=!0,Us(e)}(ou.bind(null,e)):Us(ou.bind(null,e)),as(function(){!(6&jc)&&Bs()}),n=null;else{switch(wn(r)){case 1:n=Zt;break;case 4:n=en;break;case 16:default:n=tn;break;case 536870912:n=rn}n=_u(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Yc=-1,Jc=0,6&jc)throw Error(se(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=fn(e,e===_c?Ic:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=jc;jc|=2;var s=fu();for(_c===e&&Ic===t||(Bc=null,Uc=Yt()+500,hu(e,t));;)try{vu();break}catch(o){du(e,o)}Na(),Ec.current=s,jc=i,null!==Tc?t=0:(_c=null,Ic=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=mn(e))&&(r=i,t=iu(e,i))),1===t)throw n=Rc,hu(e,0),au(e,r),nu(e,Yt()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!oi(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=mu(e,r),2===t&&(s=mn(e),0!==s&&(r=s,t=iu(e,s))),1!==t)))throw n=Rc,hu(e,0),au(e,r),nu(e,Yt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(se(345));case 2:case 5:xu(e,Vc,Bc);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=zc+500-Yt())){if(0!==fn(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Zc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rs(xu.bind(null,e,Vc,Bc),t);break}xu(e,Vc,Bc);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-on(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Yt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cc(r/1960))-r)){e.timeoutHandle=rs(xu.bind(null,e,Vc,Bc),r);break}xu(e,Vc,Bc);break;default:throw Error(se(329))}}}return nu(e,Yt()),e.callbackNode===n?ru.bind(null,e):null}function iu(e,t){var n=Fc;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Vc,Vc=n,null!==t&&su(t)),e}function su(e){null===Vc?Vc=e:Vc.push.apply(Vc,e)}function au(e,t){for(t&=~Oc,t&=~Pc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function ou(e){if(6&jc)throw Error(se(327));wu();var t=fn(e,0);if(!(1&t))return nu(e,Yt()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=mn(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Rc,hu(e,0),au(e,t),nu(e,Yt()),n;if(6===n)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Vc,Bc),nu(e,Yt()),null}function lu(e,t){var n=jc;jc|=1;try{return e(t)}finally{0===(jc=n)&&(Uc=Yt()+500,Vs&&Bs())}}function cu(e){null!==Gc&&0===Gc.tag&&!(6&jc)&&wu();var t=jc;jc|=1;var n=Nc.transition,r=xn;try{if(Nc.transition=null,xn=1,e)return e()}finally{xn=r,Nc.transition=n,!(6&(jc=t))&&Bs()}}function uu(){Ac=Dc.current,ks(Dc)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,is(n)),null!==Tc)for(n=Tc.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ls();break;case 3:Xa(),ks(Ts),ks(_s),no();break;case 5:Ja(r);break;case 4:Xa();break;case 13:case 19:ks(Za);break;case 10:ja(r.type._context);break;case 22:case 23:uu()}n=n.return}if(_c=e,Tc=e=Du(e.current,null),Ic=Ac=t,Lc=0,Rc=null,Oc=Pc=Mc=0,Vc=Fc=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Aa=null}return e}function du(e,t){for(;;){var n=Tc;try{if(Na(),ro.current=Jo,co){for(var r=ao.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=oo=ao=null,uo=!1,ho=0,kc.current=null,null===n||null===n.return){Lc=1,Rc=t,Tc=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Ic,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=o,h=u.tag;if(!(1&u.mode||0!==h&&11!==h&&15!==h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ml(a);if(null!==f){f.flags&=-257,gl(f,a,o,0,t),1&f.mode&&pl(s,c,t),l=c;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){pl(s,c,t),pu();break e}l=Error(se(426))}else if(ia&&1&o.mode){var g=ml(a);if(null!==g){!(65536&g.flags)&&(g.flags|=256),gl(g,a,o,0,t),pa(cl(l,o));break e}}s=l=cl(l,o),4!==Lc&&(Lc=2),null===Fc?Fc=[s]:Fc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ua(s,dl(0,l,t));break e;case 1:o=l;var v=s.type,y=s.stateNode;if(!(128&s.flags||"function"!=typeof v.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==Hc&&Hc.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Ua(s,fl(s,o,t));break e}}s=s.return}while(null!==s)}bu(n)}catch(b){t=b,Tc===n&&null!==n&&(Tc=n=n.return);continue}break}}function fu(){var e=Ec.current;return Ec.current=Jo,null===e?Jo:e}function pu(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===_c||!(268435455&Mc)&&!(268435455&Pc)||au(_c,Ic)}function mu(e,t){var n=jc;jc|=2;var r=fu();for(_c===e&&Ic===t||(Bc=null,hu(e,t));;)try{gu();break}catch(i){du(e,i)}if(Na(),jc=n,Ec.current=r,null!==Tc)throw Error(se(261));return _c=null,Ic=0,Lc}function gu(){for(;null!==Tc;)yu(Tc)}function vu(){for(;null!==Tc&&!Qt();)yu(Tc)}function yu(e){var t=Sc(e.alternate,e,Ac);e.memoizedProps=e.pendingProps,null===t?bu(e):Tc=t,kc.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Gl(n,t)))return n.flags&=32767,void(Tc=n);if(null===e)return Lc=6,void(Tc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Wl(n,t,Ac)))return void(Tc=n);if(null!==(t=t.sibling))return void(Tc=t);Tc=t=e}while(null!==t);0===Lc&&(Lc=5)}function xu(e,t,n){var r=xn,i=Nc.transition;try{Nc.transition=null,xn=1,function(e,t,n,r){do{wu()}while(null!==Gc);if(6&jc)throw Error(se(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-on(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,s),e===_c&&(Tc=_c=null,Ic=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Wc||(Wc=!0,_u(tn,function(){return wu(),null})),s=!!(15990&n.flags),!!(15990&n.subtreeFlags)||s){s=Nc.transition,Nc.transition=null;var a=xn;xn=1;var o=jc;jc|=4,kc.current=null,function(e,t){if(es=Hn,fi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(o=a+i),h!==s||0!==r&&3!==h.nodeType||(l=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++c===i&&(o=a),d===s&&++u===r&&(l=a),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===o||-1===l?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Hn=!1,Yl=t;null!==Yl;)if(e=(t=Yl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Yl=e;else for(;null!==Yl;){t=Yl;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:nl(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(se(163))}}catch(x){Cu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Yl=e;break}Yl=t.return}p=ec,ec=!1}(e,n),mc(n,e),pi(ts),Hn=!!es,ts=es=null,e.current=n,vc(n),Xt(),jc=o,xn=a,Nc.transition=s}else e.current=n;if(Wc&&(Wc=!1,Gc=e,Kc=i),s=e.pendingLanes,0===s&&(Hc=null),function(e){if(an&&"function"==typeof an.onCommitFiberRoot)try{an.onCommitFiberRoot(sn,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),nu(e,Yt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($c)throw $c=!1,e=qc,qc=null,e;!!(1&Kc)&&0!==e.tag&&wu(),s=e.pendingLanes,1&s?e===Xc?Qc++:(Qc=0,Xc=e):Qc=0,Bs()}(e,t,n,r)}finally{Nc.transition=i,xn=r}return null}function wu(){if(null!==Gc){var e=wn(Kc),t=Nc.transition,n=xn;try{if(Nc.transition=null,xn=16>e?16:e,null===Gc)var r=!1;else{if(e=Gc,Gc=null,Kc=0,6&jc)throw Error(se(331));var i=jc;for(jc|=4,Yl=e.current;null!==Yl;){var s=Yl,a=s.child;if(16&Yl.flags){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var c=o[l];for(Yl=c;null!==Yl;){var u=Yl;switch(u.tag){case 0:case 11:case 15:tc(8,u,s)}var h=u.child;if(null!==h)h.return=u,Yl=h;else for(;null!==Yl;){var d=(u=Yl).sibling,f=u.return;if(ic(u),u===c){Yl=null;break}if(null!==d){d.return=f,Yl=d;break}Yl=f}}}var p=s.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Yl=s}}if(2064&s.subtreeFlags&&null!==a)a.return=s,Yl=a;else e:for(;null!==Yl;){if(2048&(s=Yl).flags)switch(s.tag){case 0:case 11:case 15:tc(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Yl=v;break e}Yl=s.return}}var y=e.current;for(Yl=y;null!==Yl;){var b=(a=Yl).child;if(2064&a.subtreeFlags&&null!==b)b.return=a,Yl=b;else e:for(a=y;null!==Yl;){if(2048&(o=Yl).flags)try{switch(o.tag){case 0:case 11:case 15:nc(9,o)}}catch(w){Cu(o,o.return,w)}if(o===a){Yl=null;break e}var x=o.sibling;if(null!==x){x.return=o.return,Yl=x;break e}Yl=o.return}}if(jc=i,Bs(),an&&"function"==typeof an.onPostCommitFiberRoot)try{an.onPostCommitFiberRoot(sn,e)}catch(w){}r=!0}return r}finally{xn=n,Nc.transition=t}}return!1}function Su(e,t,n){e=Va(e,t=dl(0,t=cl(n,t),1),1),t=Zc(),null!==e&&(yn(e,1,t),nu(e,t))}function Cu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hc||!Hc.has(r))){t=Va(t,e=fl(t,e=cl(n,e),1),1),e=Zc(),null!==t&&(yn(t,1,e),nu(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zc(),e.pingedLanes|=e.suspendedLanes&n,_c===e&&(Ic&n)===n&&(4===Lc||3===Lc&&(130023424&Ic)===Ic&&500>Yt()-zc?hu(e,0):Oc|=n),nu(e,t)}function ku(e,t){0===t&&(1&e.mode?(t=hn,!(130023424&(hn<<=1))&&(hn=4194304)):t=1);var n=Zc();null!==(e=Ra(e,t))&&(yn(e,t,n),nu(e,n))}function Nu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function ju(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(se(314))}null!==r&&r.delete(t),ku(e,n)}function _u(e,t){return Gt(e,t)}function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(e,t,n,r){return new Tu(e,t,n,r)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Iu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Au(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Ce:return Ru(n.children,i,s,t);case Ee:a=8,i|=8;break;case ke:return(e=Iu(12,n,t,2|i)).elementType=ke,e.lanes=s,e;case Te:return(e=Iu(13,n,t,i)).elementType=Te,e.lanes=s,e;case Ie:return(e=Iu(19,n,t,i)).elementType=Ie,e.lanes=s,e;case Le:return Mu(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ne:a=10;break e;case je:a=9;break e;case _e:a=11;break e;case Ae:a=14;break e;case De:a=16,r=null;break e}throw Error(se(130,null==e?e:typeof e,""))}return(t=Iu(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ru(e,t,n,r){return(e=Iu(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Iu(22,e,r,t)).elementType=Le,e.lanes=n,e.stateNode={isHidden:!1},e}function Pu(e,t,n){return(e=Iu(6,e,null,t)).lanes=n,e}function Ou(e,t,n){return(t=Iu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,s,a,o,l){return e=new Fu(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Iu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(s),e}function zu(e){if(!e)return js;e:{if(Bt(e=e._reactInternals)!==e||1!==e.tag)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(se(171))}if(1===e.tag){var n=e.type;if(Ds(n))return Ms(e,n,t)}return t}function Uu(e,t,n,r,i,s,a,o,l){return(e=Vu(n,r,!0,e,0,s,0,o,l)).context=zu(null),n=e.current,(s=Fa(r=Zc(),i=eu(n))).callback=null!=t?t:null,Va(n,s,i),e.current.lanes=i,yn(e,i,r),nu(e,r),e}function Bu(e,t,n,r){var i=t.current,s=Zc(),a=eu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Va(i,t,a))&&(tu(e,i,a,s),za(e,i,a)),a}function $u(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ts.current)yl=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return yl=!1,function(e,t,n){switch(t.tag){case 3:_l(t),fa();break;case 5:Ya(t);break;case 1:Ds(t.type)&&Ps(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ns(Sa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ns(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Pl(e,t,n):(Ns(Za,1&Za.current),null!==(e=$l(e,t,n))?e.sibling:null);Ns(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Ul(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ns(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,Cl(e,t,n)}return $l(e,t,n)}(e,t,n);yl=!!(131072&e.flags)}else yl=!1,ia&&1048576&t.flags&&Zs(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var i=As(t,_s.current);Ta(t,n),i=go(null,t,r,e,i,n);var s=vo();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ds(r)?(s=!0,Ps(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=il,t.stateNode=i,i._reactInternals=t,ll(t,r,e,n),t=jl(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),bl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Au(e)?1:0;if(null!=e){if((e=e.$$typeof)===_e)return 11;if(e===Ae)return 14}return 2}(r),e=nl(r,e),i){case 0:t=kl(null,t,r,e,n);break e;case 1:t=Nl(null,t,r,e,n);break e;case 11:t=xl(null,t,r,e,n);break e;case 14:t=wl(null,t,r,nl(r.type,e),n);break e}throw Error(se(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,kl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 3:e:{if(_l(t),null===e)throw Error(se(387));r=t.pendingProps,i=(s=t.memoizedState).element,Oa(e,t),Ba(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Tl(e,t,r,n,i=cl(Error(se(423)),t));break e}if(r!==i){t=Tl(e,t,r,n,i=cl(Error(se(424)),t));break e}for(ra=cs(t.stateNode.containerInfo.firstChild),na=t,ia=!0,sa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=$l(e,t,n);break e}bl(e,t,r,n)}t=t.child}return t;case 5:return Ya(t),null===e&&ca(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ns(r,i)?a=null:null!==s&&ns(r,s)&&(t.flags|=32),El(e,t),bl(e,t,a,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Pl(e,t,n);case 4:return Qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):bl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 7:return bl(e,t,t.pendingProps,n),t.child;case 8:case 12:return bl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ns(Sa,r._currentValue),r._currentValue=a,null!==s)if(oi(s.value,a)){if(s.children===i.children&&!Ts.current){t=$l(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){a=s.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Fa(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_a(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(se(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),_a(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}bl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),r=r(i=Ia(i)),t.flags|=1,bl(e,t,r,n),t.child;case 14:return i=nl(r=t.type,t.pendingProps),wl(e,t,r,i=nl(r.type,i),n);case 15:return Sl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nl(r,i),Bl(e,t),t.tag=1,Ds(r)?(e=!0,Ps(t)):e=!1,Ta(t,n),al(t,r,i),ll(t,r,i,n),jl(null,t,r,!0,e,n);case 19:return Ul(e,t,n);case 22:return Cl(e,t,n)}throw Error(se(156,t.tag))};var Wu="function"==typeof reportError?reportError:function(e){};function Gu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(){}function Ju(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"==typeof i){var o=i;i=function(){var e=$u(a);o.call(e)}}Bu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=$u(a);s.call(e)}}var a=Uu(t,r,e,0,null,!1,0,"",Yu);return e._reactRootContainer=a,e[ps]=a.current,Bi(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=$u(l);o.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Yu);return e._reactRootContainer=l,e[ps]=l.current,Bi(8===e.nodeType?e.parentNode:e),cu(function(){Bu(t,l,n,r)}),l}(n,t,e,i,r);return $u(a)}Ku.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(se(409));Bu(e,t,null,null)},Ku.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Bu(null,e,null,null)}),t[ps]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=kn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&0!==t&&t<Rn[n].priority;n++);Rn.splice(n,0,e),0===n&&Fn(e)}},Sn=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dn(t.pendingLanes);0!==n&&(bn(t,1|n),nu(t,Yt()),!(6&jc)&&(Uc=Yt()+500,Bs()))}break;case 13:cu(function(){var t=Ra(e,1);if(null!==t){var n=Zc();tu(t,e,1,n)}}),Hu(e,1)}},Cn=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)tu(t,e,134217728,Zc());Hu(e,134217728)}},En=function(e){if(13===e.tag){var t=eu(e),n=Ra(e,t);if(null!==n)tu(n,e,t,Zc());Hu(e,t)}},kn=function(){return xn},Nn=function(e,t){var n=xn;try{return xn=e,t()}finally{xn=n}},St=function(e,t,n){switch(t){case"input":if(Je(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ws(r);if(!i)throw Error(se(90));Ge(r),Je(r,i)}}}break;case"textarea":st(e,n);break;case"select":null!=(t=n.value)&&nt(e,!!n.multiple,t,!1)}},_t=lu,Tt=cu;var Zu={usingClientEntryPoint:!1,Events:[bs,xs,ws,Nt,jt,lu]},eh={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},th={bundleType:eh.bundleType,version:eh.version,rendererPackageName:eh.rendererPackageName,rendererConfig:eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ht(e))?null:e.stateNode},findFiberByHostInstance:eh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{sn=nh.inject(th),an=nh}catch(ut){}}Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zu,Z.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(se(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Se,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},Z.createRoot=function(e,t){if(!Qu(e))throw Error(se(299));var n=!1,r="",i=Wu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[ps]=t.current,Bi(8===e.nodeType?e.parentNode:e),new Gu(t)},Z.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(se(188));throw e=Object.keys(e).join(","),Error(se(268,e))}return e=null===(e=Ht(t))?null:e.stateNode},Z.flushSync=function(e){return cu(e)},Z.hydrate=function(e,t,n){if(!Xu(t))throw Error(se(200));return Ju(null,e,t,!0,n)},Z.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(se(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Wu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,i,0,s,a),e[ps]=t.current,Bi(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ku(t)},Z.render=function(e,t,n){if(!Xu(t))throw Error(se(200));return Ju(null,e,t,!1,n)},Z.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(se(40));return!!e._reactRootContainer&&(cu(function(){Ju(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},Z.unstable_batchedUpdates=lu,Z.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(se(200));if(null==e||void 0===e._reactInternals)throw Error(se(38));return Ju(e,t,n,!1,r)},Z.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),J.exports=Z;var rh,ih,sh=J.exports;
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ah.apply(this,arguments)}Y.createRoot=sh.createRoot,Y.hydrateRoot=sh.hydrateRoot,(ih=rh||(rh={})).Pop="POP",ih.Push="PUSH",ih.Replace="REPLACE";const oh="popstate";function lh(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=rh.Pop,l=null,c=u();null==c&&(c=0,a.replaceState(ah({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function h(){o=rh.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function d(e,t){o=rh.Push;let r=dh(m.location,e,t);n&&n(r,e),c=u()+1;let h=hh(r,c),d=m.createHref(r);try{a.pushState(h,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}s&&l&&l({action:o,location:m.location,delta:1})}function f(e,t){o=rh.Replace;let r=dh(m.location,e,t);n&&n(r,e),c=u();let i=hh(r,c),h=m.createHref(r);a.replaceState(i,"",h),s&&l&&l({action:o,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:fh(e);return n=n.replace(/ $/,"%20"),ch(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oh,h),l=e,()=>{i.removeEventListener(oh,h),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:d,replace:f,go:e=>a.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return dh("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:fh(t)},null,e)}function ch(e,t){if(!1===e||null==e)throw new Error(t)}function uh(e,t){if(!e)try{throw new Error(t)}catch(n){}}function hh(e,t){return{usr:e.state,key:e.key,idx:t}}function dh(e,t,n,r){return void 0===n&&(n=null),ah({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?ph(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function fh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function ph(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var mh,gh;function vh(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let i="string"==typeof t?ph(t):t,s=Ah(i.pathname||"/",n);if(null==s)return null;let a=yh(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let l=0;null==o&&l<a.length;++l){let e=Ih(s);o=_h(a[l],e,r)}return o}(e,t,n,!1)}function yh(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(ch(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=Mh([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(ch(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),yh(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:jh(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of bh(e.path))i(e,t,r);else i(e,t)}),t}function bh(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=bh(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}(gh=mh||(mh={})).data="data",gh.deferred="deferred",gh.redirect="redirect",gh.error="error";const xh=/^:[\w-]+$/,wh=3,Sh=2,Ch=1,Eh=10,kh=-2,Nh=e=>"*"===e;function jh(e,t){let n=e.split("/"),r=n.length;return n.some(Nh)&&(r+=kh),t&&(r+=Sh),n.filter(e=>!Nh(e)).reduce((e,t)=>e+(xh.test(t)?wh:""===t?Ch:Eh),r)}function _h(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=Th({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Th({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:Mh([s,u.pathname]),pathnameBase:Ph(Mh([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=Mh([s,u.pathnameBase]))}return a}function Th(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);uh("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function Ih(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return uh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Ah(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Dh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Lh(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function Rh(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=ph(e):(i=ah({},e),ch(!i.pathname||!i.pathname.includes("?"),Dh("?","pathname","search",i)),ch(!i.pathname||!i.pathname.includes("#"),Dh("#","pathname","hash",i)),ch(!i.search||!i.search.includes("#"),Dh("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?ph(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Oh(r),hash:Fh(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Mh=e=>e.join("/").replace(/\/\/+/g,"/"),Ph=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Oh=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Fh=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Vh=["post","put","patch","delete"];new Set(Vh);const zh=["get",...Vh];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(this,arguments)}new Set(zh);const Bh=z.createContext(null),$h=z.createContext(null),qh=z.createContext(null),Hh=z.createContext(null),Wh=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Gh=z.createContext(null);function Kh(){return null!=z.useContext(Hh)}function Qh(){return Kh()||ch(!1),z.useContext(Hh).location}function Xh(e){z.useContext(qh).static||z.useLayoutEffect(e)}function Yh(){let{isDataRoute:e}=z.useContext(Wh);return e?function(){let{router:e}=function(){let e=z.useContext(Bh);return e||ch(!1),e}(id.UseNavigateStable),t=ad(sd.UseNavigateStable),n=z.useRef(!1);return Xh(()=>{n.current=!0}),z.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Uh({fromRouteId:t},i)))},[e,t])}():function(){Kh()||ch(!1);let e=z.useContext(Bh),{basename:t,future:n,navigator:r}=z.useContext(qh),{matches:i}=z.useContext(Wh),{pathname:s}=Qh(),a=JSON.stringify(Lh(i,n.v7_relativeSplatPath)),o=z.useRef(!1);return Xh(()=>{o.current=!0}),z.useCallback(function(n,i){if(void 0===i&&(i={}),!o.current)return;if("number"==typeof n)return void r.go(n);let l=Rh(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Mh([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,a,s,e])}()}function Jh(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=z.useContext(qh),{matches:i}=z.useContext(Wh),{pathname:s}=Qh(),a=JSON.stringify(Lh(i,r.v7_relativeSplatPath));return z.useMemo(()=>Rh(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function Zh(e,t){return function(e,t,n,r){Kh()||ch(!1);let{navigator:i}=z.useContext(qh),{matches:s}=z.useContext(Wh),a=s[s.length-1],o=a?a.params:{};!a||a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c,u=Qh();if(t){var h;let e="string"==typeof t?ph(t):t;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||ch(!1),c=e}else c=u;let d=c.pathname||"/",f=d;if("/"!==l){let e=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=vh(e,{pathname:f}),m=function(e,t,n,r){var i;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,o=null==(i=n)?void 0:i.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||ch(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let e=a[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{let s,u=!1,h=null,d=null;var f;n&&(s=o&&r.route.id?o[r.route.id]:void 0,h=r.route.errorElement||td,l&&(c<0&&0===i?(f="route-fallback",!1||od[f]||(od[f]=!0),u=!0,d=null):c===i&&(u=!0,d=r.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,i+1)),m=()=>{let t;return t=s?h:u?d:r.route.Component?z.createElement(r.route.Component,null):r.route.element?r.route.element:e,z.createElement(rd,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?z.createElement(nd,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Mh([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Mh([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);if(t&&m)return z.createElement(Hh.Provider,{value:{location:Uh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:rh.Pop}},m);return m}(e,t)}function ed(){let e=function(){var e;let t=z.useContext(Gh),n=function(){let e=z.useContext($h);return e||ch(!1),e}(sd.UseRouteError),r=ad(sd.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:r},n):null,null)}const td=z.createElement(ed,null);class nd extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?z.createElement(Wh.Provider,{value:this.props.routeContext},z.createElement(Gh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rd(e){let{routeContext:t,match:n,children:r}=e,i=z.useContext(Bh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Wh.Provider,{value:t},r)}var id=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(id||{}),sd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sd||{});function ad(e){let t=function(){let e=z.useContext(Wh);return e||ch(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||ch(!1),n.route.id}const od={};function ld(e){ch(!1)}function cd(e){let{basename:t="/",children:n=null,location:r,navigationType:i=rh.Pop,navigator:s,static:a=!1,future:o}=e;Kh()&&ch(!1);let l=t.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:s,static:a,future:Uh({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);"string"==typeof r&&(r=ph(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=z.useMemo(()=>{let e=Ah(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:i}},[l,u,h,d,f,p,i]);return null==m?null:z.createElement(qh.Provider,{value:c},z.createElement(Hh.Provider,{children:n,value:m}))}function ud(e){let{children:t,location:n}=e;return Zh(hd(t),n)}function hd(e,t){void 0===t&&(t=[]);let n=[];return z.Children.forEach(e,(e,r)=>{if(!z.isValidElement(e))return;let i=[...t,r];if(e.type===z.Fragment)return void n.push.apply(n,hd(e.props.children,i));e.type!==ld&&ch(!1),e.props.index&&e.props.children&&ch(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=hd(e.props.children,i)),n.push(s)}),n}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dd.apply(this,arguments)}new Promise(()=>{});const fd=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(jC){}const pd=B.startTransition;function md(e){let{basename:t,children:n,future:r,window:i}=e,s=z.useRef();null==s.current&&(s.current=lh({window:i,v5Compat:!0}));let a=s.current,[o,l]=z.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=z.useCallback(e=>{c&&pd?pd(()=>l(e)):l(e)},[l,c]);return z.useLayoutEffect(()=>a.listen(u),[a,u]),z.useEffect(()=>{return null==(e=r)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t},[r]),z.createElement(cd,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const gd="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,vd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yd=z.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,d=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,fd),{basename:f}=z.useContext(qh),p=!1;if("string"==typeof c&&vd.test(c)&&(n=c,gd))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=Ah(t.pathname,f);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:p=!0}catch(jC){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;Kh()||ch(!1);let{basename:r,navigator:i}=z.useContext(qh),{hash:s,pathname:a,search:o}=Jh(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:Mh([r,a])),i.createHref({pathname:l,search:o,hash:s})}(c,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=void 0===t?{}:t,l=Yh(),c=Qh(),u=Jh(e,{relative:a});return z.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:fh(c)===fh(u);l(e,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,i,n,e,s,a,o])}(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:h});return z.createElement("a",dd({},d,{href:n||m,onClick:p||s?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))});var bd,xd,wd,Sd;(xd=bd||(bd={})).UseScrollRestoration="useScrollRestoration",xd.UseSubmit="useSubmit",xd.UseSubmitFetcher="useSubmitFetcher",xd.UseFetcher="useFetcher",xd.useViewTransitionState="useViewTransitionState",(Sd=wd||(wd={})).UseFetcher="useFetcher",Sd.UseFetchers="useFetchers",Sd.UseScrollRestoration="useScrollRestoration";function Cd(){return"undefined"!=typeof window}function Ed(){try{}catch(jC){}return"production"}function kd(){return"development"===((Cd()?window.vam:Ed())||"production")}function Nd(e={debug:!0}){var t;if(!Cd())return;!function(e="auto"){window.vam="auto"!==e?e:Ed()}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=function(e){return e.scriptSrc?e.scriptSrc:kd()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const r=document.createElement("script");r.src=n,r.defer=!0,r.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),r.dataset.sdkv="1.5.0",e.disableAutoTrack&&(r.dataset.disableAutoTrack="1"),e.endpoint?r.dataset.endpoint=e.endpoint:e.basePath&&(r.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(r.dataset.dsn=e.dsn),r.onerror=()=>{kd()},kd()&&!1===e.debug&&(r.dataset.debug="false"),document.head.appendChild(r)}function jd(){if("undefined"!=typeof process&&void 0!==process.env)return{}.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function _d(e){return z.useEffect(()=>{var t;e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),z.useEffect(()=>{Nd({framework:e.framework||"react",basePath:e.basePath??jd(),...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),z.useEffect(()=>{e.route&&e.path&&function({route:e,path:t}){var n;null==(n=window.va)||n.call(window,"pageview",{route:e,path:t})}({route:e.route,path:e.path})},[e.route,e.path]),null}const Td=()=>X.jsx("footer",{className:"footer",children:X.jsxs("div",{className:"container",children:[X.jsx("div",{className:"footer-content",children:X.jsx("div",{className:"footer-section",children:X.jsx("div",{className:"footer-logo",children:X.jsxs("svg",{className:"footer-logo-svg",viewBox:"0 0 200 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[X.jsx("path",{d:"M59.988 23.6c0-2.764.927-5.068 2.781-6.91 1.854-1.86 4.228-2.79 7.124-2.79 2.895 0 5.27.93 7.124 2.79 1.854 1.842 2.78 4.146 2.78 6.91 0 2.835-.926 5.2-2.78 7.096-1.854 1.895-4.229 2.843-7.124 2.843-2.896 0-5.27-.948-7.124-2.843-1.854-1.896-2.78-4.261-2.78-7.096zm4.794 0c0 1.63.476 2.985 1.43 4.066.97 1.08 2.198 1.621 3.68 1.621 1.484 0 2.702-.54 3.656-1.621.97-1.08 1.456-2.436 1.456-4.066 0-1.56-.486-2.853-1.457-3.88-.953-1.046-2.171-1.568-3.654-1.568s-2.71.522-3.681 1.568c-.954 1.027-1.43 2.32-1.43 3.88zm17.963 9.62V14.218h4.688l5.243 8.877c.212.372.45.832.715 1.382.265.531.477.974.636 1.329l.238.531h.053c-.141-1.364-.212-2.445-.212-3.242v-8.877h4.635V33.22H94.08l-5.27-8.85c-.212-.372-.45-.823-.715-1.355a55.985 55.985 0 01-.636-1.355l-.238-.532h-.053c.141 1.364.212 2.445.212 3.242v8.85h-4.635zm19.966 0V14.218h11.864v3.987h-7.23v3.455h5.773v3.986h-5.773v3.588h7.601v3.986h-12.235z",fill:"url(#paint0_linear)"}),X.jsx("path",{d:"M120.351 33.22V14.617h1.059l10.567 14.59 1.509 2.34h.053a25.902 25.902 0 01-.132-2.34v-14.59h1.138V33.22h-1.059l-10.567-14.59-1.509-2.339h-.053c.088.94.132 1.719.132 2.339v14.59h-1.138zm19.862 0V14.617h1.138V33.22h-1.138zm5.557-9.301c0-2.693.882-4.97 2.648-6.83 1.783-1.86 3.981-2.79 6.594-2.79 2.578 0 4.732.699 6.462 2.099l-.689.877c-.688-.567-1.562-1.02-2.621-1.356a9.895 9.895 0 00-3.152-.531c-2.313 0-4.237.815-5.773 2.445-1.518 1.63-2.278 3.658-2.278 6.086 0 2.427.742 4.456 2.225 6.086 1.501 1.63 3.39 2.445 5.667 2.445a7.739 7.739 0 003.469-.824 8.734 8.734 0 002.887-2.233v-3.587h-3.31v-1.063h4.449v8.477h-1.139V31.6l.027-.798h-.053c-.724.815-1.642 1.48-2.755 1.993a8.675 8.675 0 01-3.575.744c-2.577 0-4.74-.921-6.488-2.764-1.73-1.86-2.595-4.145-2.595-6.856zm21.21 9.301V14.617h1.139v8.744h11.758v-8.744h1.139V33.22h-1.139v-8.796h-11.758v8.796h-1.139zm24.262 0V15.68h-6.912v-1.063h14.963v1.063h-6.912v17.54h-1.139z",fill:"currentColor"}),X.jsx("path",{d:"M24.401 44.493a5.685 5.685 0 01-2.539-.602c-2.37-1.19-7-3.744-11.368-7.467-5.682-4.842-9.05-10.04-10.01-15.448-.746-4.201.319-8.49 2.921-11.768 2.41-3.035 5.826-4.808 9.617-4.993a13.39 13.39 0 0110.113 3.852c.459.45.881.929 1.266 1.43.385-.502.807-.98 1.265-1.43A13.39 13.39 0 0135.78 4.214c3.791.185 7.207 1.958 9.617 4.994 2.603 3.277 3.667 7.566 2.921 11.767-.96 5.408-4.328 10.606-10.009 15.448-4.368 3.722-8.997 6.276-11.368 7.466a5.681 5.681 0 01-2.54.603z",fill:"url(#paint1_linear)"}),X.jsx("path",{d:"M24.4 41.523a4.193 4.193 0 01-1.818-.417c-2.198-1.065-6.487-3.348-10.527-6.67-5.153-4.239-8.2-8.748-9.056-13.402a11.923 11.923 0 012.506-9.758c2.048-2.488 4.945-3.942 8.16-4.094.19-.01.383-.014.572-.014 3.024 0 5.879 1.13 8.038 3.178.388.368.751.764 1.08 1.178L24.4 12.84l1.047-1.317c.33-.414.692-.81 1.08-1.178 2.159-2.05 5.014-3.178 8.038-3.178.19 0 .382.005.572.014 3.215.152 6.112 1.606 8.16 4.094a11.925 11.925 0 012.505 9.758c-.855 4.654-3.902 9.163-9.055 13.402-4.04 3.323-8.33 5.605-10.526 6.67a4.2 4.2 0 01-1.821.417z",fill:"url(#paint2_linear)"}),X.jsx("path",{d:"M45.396 9.21a13.519 13.519 0 00-3.1-2.865c2.104 3.136 2.92 7.023 2.243 10.839-.96 5.408-4.328 10.606-10.01 15.448-4.367 3.722-8.997 6.276-11.368 7.467a5.687 5.687 0 01-2.54.602 5.687 5.687 0 01-2.539-.602c-2.37-1.191-7-3.745-11.368-7.467a46.7 46.7 0 01-.554-.48 39.726 39.726 0 004.333 4.272c4.367 3.723 8.997 6.276 11.368 7.467a5.684 5.684 0 002.54.602c.876 0 1.754-.208 2.539-.602 2.371-1.19 7-3.744 11.368-7.467 5.682-4.842 9.05-10.04 10.01-15.448.746-4.201-.32-8.49-2.922-11.767z",fill:"url(#paint3_linear)"}),X.jsx("path",{d:"M35.78 4.215a13.392 13.392 0 00-10.113 3.852c-.458.45-.88.929-1.266 1.43v34.995c.877 0 1.755-.208 2.54-.602 2.37-1.19 7-3.744 11.368-7.466 5.682-4.842 9.05-10.04 10.01-15.448.745-4.201-.319-8.49-2.922-11.767-2.41-3.035-5.826-4.809-9.617-4.994z",fill:"url(#paint4_linear)"}),X.jsxs("defs",{children:[X.jsxs("linearGradient",{id:"paint0_linear",x1:"55.931",y1:"43.036",x2:"109.293",y2:"15.712",gradientUnits:"userSpaceOnUse",children:[X.jsx("stop",{stopColor:"#F83479"}),X.jsx("stop",{offset:"1",stopColor:"#FF819C"})]}),X.jsxs("linearGradient",{id:"paint1_linear",x1:"20.417",y1:"13.982",x2:"37.373",y2:"35.078",gradientUnits:"userSpaceOnUse",children:[X.jsx("stop",{stopColor:"#FF819C"}),X.jsx("stop",{offset:".259",stopColor:"#FF7E9A"}),X.jsx("stop",{offset:".476",stopColor:"#FE7396"}),X.jsx("stop",{offset:".676",stopColor:"#FC628E"}),X.jsx("stop",{offset:".867",stopColor:"#FA4A83"}),X.jsx("stop",{offset:"1",stopColor:"#F83479"})]}),X.jsxs("linearGradient",{id:"paint2_linear",x1:"29.491",y1:"30.882",x2:"-7.001",y2:"-53.856",gradientUnits:"userSpaceOnUse",children:[X.jsx("stop",{stopColor:"#fff",stopOpacity:"0"}),X.jsx("stop",{offset:"1",stopColor:"#fff"})]}),X.jsxs("linearGradient",{id:"paint3_linear",x1:"29.261",y1:"29.604",x2:"38.504",y2:"56.547",gradientUnits:"userSpaceOnUse",children:[X.jsx("stop",{stopColor:"#F82814",stopOpacity:"0"}),X.jsx("stop",{offset:"1",stopColor:"#C0272D"})]}),X.jsxs("linearGradient",{id:"paint4_linear",x1:"28.395",y1:"20.142",x2:"6.092",y2:"-2.517",gradientUnits:"userSpaceOnUse",children:[X.jsx("stop",{stopColor:"#F82814",stopOpacity:"0"}),X.jsx("stop",{offset:"1",stopColor:"#C0272D"})]})]})]})})})}),X.jsxs("div",{className:"footer-bottom",children:[X.jsx("div",{className:"footer-dmca",children:X.jsx("span",{children:"DMCA PROTECTED"})}),X.jsx("p",{children:"onenight.com, All models confirm that they are 18 years old."})]})]})}),Id=({isOpen:e,onClose:t,onApply:n})=>{const[r,i]=z.useState({verified:!1,vip:!1,online:!1,newThisWeek:!1,withVideo:!1,heightFrom:"",heightTo:"",ageFrom:"",ageTo:"",weightFrom:"",weightTo:"",bustFrom:"",bustTo:"",nationality:"",hair:"",eyes:"",language:"",location:"",priceFrom:"",priceTo:"",services:[],meetingPlace:""}),s=(e,t)=>{i(n=>({...n,[e]:t}))};return e?X.jsxs("div",{className:"filter-modal",children:[X.jsxs("div",{className:"filter-modal-header",children:[X.jsx("h2",{className:"filter-modal-title",children:""}),X.jsx("button",{className:"filter-modal-close",onClick:t,children:""})]}),X.jsxs("div",{className:"filter-modal-content",children:[X.jsxs("div",{className:"filter-section",children:[X.jsx("h3",{className:"filter-section-title",children:"  "}),X.jsxs("div",{className:"filter-options",children:[X.jsxs("label",{className:"filter-option",children:[X.jsx("input",{type:"checkbox",checked:r.verified,onChange:e=>s("verified",e.target.checked)}),X.jsx("svg",{className:"filter-option-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),X.jsx("span",{className:"filter-option-label",children:""})]}),X.jsxs("label",{className:"filter-option",children:[X.jsx("input",{type:"checkbox",checked:r.vip,onChange:e=>s("vip",e.target.checked)}),X.jsx("svg",{className:"filter-option-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),X.jsx("span",{className:"filter-option-label",children:"VIP"})]}),X.jsxs("label",{className:"filter-option",children:[X.jsx("input",{type:"checkbox",checked:r.online,onChange:e=>s("online",e.target.checked)}),X.jsx("svg",{className:"filter-option-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),X.jsx("span",{className:"filter-option-label",children:""})]}),X.jsxs("label",{className:"filter-option",children:[X.jsx("input",{type:"checkbox",checked:r.newThisWeek,onChange:e=>s("newThisWeek",e.target.checked)}),X.jsx("svg",{className:"filter-option-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),X.jsx("span",{className:"filter-option-label",style:{borderBottom:"2px dotted #e74c3c"},children:"  "})]})]})]}),X.jsxs("div",{className:"filter-section",children:[X.jsx("h3",{className:"filter-section-title",children:"  "}),X.jsx("div",{className:"filter-options",children:X.jsxs("label",{className:"filter-option",children:[X.jsx("input",{type:"checkbox",checked:r.withVideo,onChange:e=>s("withVideo",e.target.checked)}),X.jsxs("svg",{className:"filter-option-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),X.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),X.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),X.jsx("span",{className:"filter-option-label",children:" "})]})})]}),X.jsxs("div",{className:"filter-section",children:[X.jsx("h3",{className:"filter-section-title",children:"  "}),X.jsxs("div",{className:"filter-range",children:[X.jsxs("div",{children:[X.jsx("label",{className:"filter-range-label",children:"  ()"}),X.jsx("input",{type:"number",className:"filter-range-input",placeholder:"150",value:r.heightFrom,onChange:e=>s("heightFrom",e.target.value)})]}),X.jsxs("div",{children:[X.jsx("label",{className:"filter-range-label",children:"  ()"}),X.jsx("input",{type:"number",className:"filter-range-input",placeholder:"180",value:r.heightTo,onChange:e=>s("heightTo",e.target.value)})]})]}),X.jsxs("div",{className:"filter-range",children:[X.jsxs("div",{children:[X.jsx("label",{className:"filter-range-label",children:" "}),X.jsx("input",{type:"number",className:"filter-range-input",placeholder:"18",value:r.ageFrom,onChange:e=>s("ageFrom",e.target.value)})]}),X.jsxs("div",{children:[X.jsx("label",{className:"filter-range-label",children:" "}),X.jsx("input",{type:"number",className:"filter-range-input",placeholder:"35",value:r.ageTo,onChange:e=>s("ageTo",e.target.value)})]})]}),X.jsxs("div",{className:"filter-range",children:[X.jsxs("div",{children:[X.jsx("label",{className:"filter-range-label",children:"  ()"}),X.jsx("input",{type:"number",className:"filter-range-input",placeholder:"45",value:r.weightFrom,onChange:e=>s("weightFrom",e.target.value)})]}),X.jsxs("div",{children:[X.jsx("label",{className:"filter-range-label",children:"  ()"}),X.jsx("input",{type:"number",className:"filter-range-input",placeholder:"70",value:r.weightTo,onChange:e=>s("weightTo",e.target.value)})]})]}),X.jsxs("div",{className:"filter-range",children:[X.jsxs("div",{children:[X.jsx("label",{className:"filter-range-label",children:" "}),X.jsx("input",{type:"number",className:"filter-range-input",placeholder:"1",value:r.bustFrom,onChange:e=>s("bustFrom",e.target.value)})]}),X.jsxs("div",{children:[X.jsx("label",{className:"filter-range-label",children:" "}),X.jsx("input",{type:"number",className:"filter-range-input",placeholder:"5",value:r.bustTo,onChange:e=>s("bustTo",e.target.value)})]})]}),X.jsxs("div",{style:{marginBottom:"1rem"},children:[X.jsx("label",{className:"filter-range-label",children:""}),X.jsxs("select",{className:"filter-select",value:r.nationality,onChange:e=>s("nationality",e.target.value),children:[X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"russian",children:""}),X.jsx("option",{value:"ukrainian",children:""}),X.jsx("option",{value:"belarusian",children:""}),X.jsx("option",{value:"kazakh",children:""}),X.jsx("option",{value:"other",children:""})]})]}),X.jsxs("div",{style:{marginBottom:"1rem"},children:[X.jsx("label",{className:"filter-range-label",children:""}),X.jsxs("select",{className:"filter-select",value:r.hair,onChange:e=>s("hair",e.target.value),children:[X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"blonde",children:""}),X.jsx("option",{value:"brunette",children:""}),X.jsx("option",{value:"redhead",children:""}),X.jsx("option",{value:"black",children:""})]})]}),X.jsxs("div",{style:{marginBottom:"1rem"},children:[X.jsx("label",{className:"filter-range-label",children:""}),X.jsxs("select",{className:"filter-select",value:r.eyes,onChange:e=>s("eyes",e.target.value),children:[X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"blue",children:""}),X.jsx("option",{value:"brown",children:""}),X.jsx("option",{value:"green",children:""}),X.jsx("option",{value:"gray",children:""})]})]}),X.jsxs("div",{style:{marginBottom:"1rem"},children:[X.jsx("label",{className:"filter-range-label",children:" "}),X.jsxs("select",{className:"filter-select",value:r.language,onChange:e=>s("language",e.target.value),children:[X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"russian",children:""}),X.jsx("option",{value:"english",children:""}),X.jsx("option",{value:"french",children:""}),X.jsx("option",{value:"german",children:""})]})]})]}),X.jsxs("div",{className:"filter-section",children:[X.jsx("h3",{className:"filter-section-title",children:"   "}),X.jsxs("div",{style:{marginBottom:"1rem"},children:[X.jsx("label",{className:"filter-range-label",children:""}),X.jsxs("select",{className:"filter-select",value:r.location,onChange:e=>s("location",e.target.value),children:[X.jsx("option",{value:"",children:" "}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"-",children:"-"}),X.jsx("option",{value:"--",children:"--"}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""})]})]}),X.jsxs("div",{className:"filter-range",children:[X.jsxs("div",{children:[X.jsx("label",{className:"filter-range-label",children:"  ()"}),X.jsx("input",{type:"number",className:"filter-range-input",placeholder:"5000",value:r.priceFrom,onChange:e=>s("priceFrom",e.target.value)})]}),X.jsxs("div",{children:[X.jsx("label",{className:"filter-range-label",children:"  ()"}),X.jsx("input",{type:"number",className:"filter-range-input",placeholder:"50000",value:r.priceTo,onChange:e=>s("priceTo",e.target.value)})]})]}),X.jsxs("div",{style:{marginBottom:"1rem"},children:[X.jsx("label",{className:"filter-range-label",children:" "}),X.jsxs("select",{className:"filter-select",value:r.meetingPlace,onChange:e=>s("meetingPlace",e.target.value),children:[X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:" ",children:" "}),X.jsx("option",{value:"",children:""})]})]})]}),X.jsxs("div",{className:"filter-section",children:[X.jsx("h3",{className:"filter-section-title",children:" "}),X.jsxs("div",{className:"filter-options",children:[X.jsxs("label",{className:"filter-option",children:[X.jsx("input",{type:"checkbox",checked:r.services.includes(" "),onChange:e=>{const t=e.target.checked?[...r.services," "]:r.services.filter(e=>" "!==e);s("services",t)}}),X.jsx("span",{className:"filter-option-label",children:" "})]}),X.jsxs("label",{className:"filter-option",children:[X.jsx("input",{type:"checkbox",checked:r.services.includes(" "),onChange:e=>{const t=e.target.checked?[...r.services," "]:r.services.filter(e=>" "!==e);s("services",t)}}),X.jsx("span",{className:"filter-option-label",children:" "})]}),X.jsxs("label",{className:"filter-option",children:[X.jsx("input",{type:"checkbox",checked:r.services.includes(""),onChange:e=>{const t=e.target.checked?[...r.services,""]:r.services.filter(e=>""!==e);s("services",t)}}),X.jsx("span",{className:"filter-option-label",children:""})]}),X.jsxs("label",{className:"filter-option",children:[X.jsx("input",{type:"checkbox",checked:r.services.includes(""),onChange:e=>{const t=e.target.checked?[...r.services,""]:r.services.filter(e=>""!==e);s("services",t)}}),X.jsx("span",{className:"filter-option-label",children:""})]}),X.jsxs("label",{className:"filter-option",children:[X.jsx("input",{type:"checkbox",checked:r.services.includes(" "),onChange:e=>{const t=e.target.checked?[...r.services," "]:r.services.filter(e=>" "!==e);s("services",t)}}),X.jsx("span",{className:"filter-option-label",children:" "})]})]})]})]}),X.jsx("div",{className:"filter-modal-footer",children:X.jsx("button",{className:"filter-apply-btn",onClick:()=>{n(r),t()},children:""})})]}):null},Ad=({model:e})=>X.jsx(yd,{to:`/model/${e.id}`,className:"profile-card",children:X.jsxs("div",{className:"profile-image-container",children:[X.jsx("img",{src:e.photos[0],alt:`${e.name}, ${e.age}  - ${e.location}`,className:"profile-image",loading:"lazy"}),X.jsxs("div",{className:"profile-badges",children:[e.newThisWeek&&X.jsx("span",{className:"profile-badge new",children:"NEW"}),e.vip&&X.jsx("span",{className:"profile-badge vip",children:"VIP"}),e.verified&&X.jsx("span",{className:"profile-badge real",children:"REAL"})]}),X.jsxs("div",{className:"profile-overlay",children:[X.jsxs("div",{className:"profile-info",children:[X.jsxs("div",{className:"profile-name",children:[e.name,", ",e.age," "]}),X.jsx("div",{className:"profile-location",children:e.location})]}),X.jsx("svg",{className:"profile-heart",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})]})]})}),Dd=()=>{const e=Yh(),[t,n]=z.useState(!1),[r,i]=z.useState(!1),[s,a]=z.useState(!1),[o,l]=z.useState("@OneNightSupport"),[c,u]=z.useState([{id:1,type:"agent",text:"!   ,      Telegram",time:"14:30"}]),[h,d]=z.useState(""),f=z.useRef(null);z.useEffect(()=>{var e;null==(e=f.current)||e.scrollIntoView({behavior:"smooth"})},[c]),z.useEffect(()=>{a(!0);const e=localStorage.getItem("telegram_support");e&&l(e)},[]);const p=()=>{n(!0),i(!1)},m=()=>{const e=o.replace("@","");window.open(`https://t.me/${e}`,"_blank")};return s?X.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:1002,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[!t&&!r&&X.jsx("button",{onClick:p,title:" ",style:{width:"60px",height:"60px",background:"#2c2c2c",border:"2px solid #ff6b9d",borderRadius:"50%",color:"#ff6b9d",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"24px",height:"24px"},children:X.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})})}),r&&X.jsx("button",{onClick:p,title:" ",style:{width:"50px",height:"50px",background:"#2c2c2c",border:"2px solid #ff6b9d",borderRadius:"50%",color:"#ff6b9d",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:X.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})})}),t&&X.jsxs("div",{style:{width:"350px",height:"500px",background:"white",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",overflow:"hidden",animation:"slideInUp 0.3s ease-out"},children:[X.jsxs("div",{style:{background:"#2c2c2c",borderBottom:"2px solid #ff6b9d",color:"white",padding:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[X.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[X.jsxs("div",{style:{position:"relative",width:"44px",height:"44px"},children:[X.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fb3 100%)",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 2px 8px rgba(255, 107, 157, 0.3)"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"white",style:{width:"24px",height:"24px"},children:X.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),X.jsx("div",{style:{position:"absolute",bottom:"0px",right:"0px",width:"14px",height:"14px",background:"#00ff00",border:"2px solid #2c2c2c",borderRadius:"50%",boxShadow:"0 0 0 2px rgba(0, 255, 0, 0.2)",animation:"pulse 2s infinite"}})]}),X.jsxs("div",{children:[X.jsx("div",{style:{fontWeight:"600",fontSize:"16px"},children:""}),X.jsx("div",{style:{fontSize:"12px",opacity:.9},children:"   "})]})]}),X.jsxs("div",{style:{display:"flex",gap:"8px"},children:[X.jsx("button",{onClick:m,title:"",style:{width:"32px",height:"32px",border:"none",background:"rgba(255, 255, 255, 0.2)",color:"white",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.3s ease"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"16px",height:"16px"},children:X.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.95C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.95L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})})}),X.jsx("button",{onClick:()=>{n(!1)},title:"",style:{width:"32px",height:"32px",border:"none",background:"rgba(255, 255, 255, 0.2)",color:"white",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.3s ease"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"16px",height:"16px"},children:X.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]}),X.jsxs("div",{style:{flex:1,background:"#f8f9fa",overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},children:[c.map(e=>X.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start",flexDirection:"user"===e.type?"row-reverse":"row"},children:["agent"===e.type&&X.jsx("div",{style:{width:"32px",height:"32px",flexShrink:0,borderRadius:"50%",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fb3 100%)",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 107, 157, 0.3)",boxShadow:"0 2px 6px rgba(255, 107, 157, 0.2)"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"white",style:{width:"18px",height:"18px"},children:X.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),X.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"user"===e.type?"flex-end":"flex-start"},children:X.jsxs("div",{style:{maxWidth:"80%",padding:"12px 16px",borderRadius:"18px",background:"agent"===e.type?"#1a1a1a":"#ff6b9d",color:(e.type,"white"),boxShadow:"agent"===e.type?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(255, 107, 157, 0.3)",borderBottomLeftRadius:"agent"===e.type?"4px":"18px",borderBottomRightRadius:"user"===e.type?"4px":"18px"},children:[X.jsx("div",{style:{fontSize:"14px",lineHeight:"1.4",marginBottom:"4px"},children:e.text}),X.jsx("div",{style:{fontSize:"11px",opacity:.7,textAlign:"user"===e.type?"left":"right"},children:e.time})]})})]},e.id)),X.jsx("div",{ref:f})]}),X.jsxs("div",{style:{background:"white",borderTop:"1px solid #eee",padding:"16px"},children:[X.jsx("form",{onSubmit:t=>{if(t.preventDefault(),h.trim()){if("admin1236"===h.trim())return void e("/admin");const t={id:c.length+1,type:"user",text:h,time:(new Date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})};u([...c,t]),d(""),setTimeout(()=>{const e={id:c.length+2,type:"agent",text:"  !       Telegram   .",time:(new Date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})};u(t=>[...t,e])},1e3)}},style:{marginBottom:"8px"},children:X.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#f8f9fa",borderRadius:"25px",padding:"8px 16px",border:"1px solid #e0e0e0"},children:[X.jsx("button",{type:"button",title:" ",style:{width:"32px",height:"32px",border:"none",background:"transparent",color:"#666",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.3s ease"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"18px",height:"18px"},children:X.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})}),X.jsx("input",{type:"text",value:h,onChange:e=>d(e.target.value),placeholder:"  ...",style:{flex:1,border:"none",background:"transparent",outline:"none",fontSize:"14px",color:"#333",padding:"8px 0"}}),X.jsx("button",{type:"submit",disabled:!h.trim(),style:{width:"32px",height:"32px",border:"2px solid #ff6b9d",background:h.trim()?"#ff6b9d":"#2c2c2c",color:h.trim()?"white":"#666",cursor:h.trim()?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.3s ease"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"16px",height:"16px"},children:X.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})}),X.jsx("div",{style:{display:"flex",justifyContent:"center"},children:X.jsx("button",{onClick:m,style:{background:"#2c2c2c",border:"2px solid #ff6b9d",color:"#ff6b9d",padding:"8px 16px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},children:"  Telegram"})})]})]})]}):null},Ld=()=>{const[e,t]=z.useState([]),[n,r]=z.useState(!0),[i,s]=z.useState([]),[a,o]=z.useState(!1);z.useEffect(()=>{(async()=>{try{const e=await fetch("/data/models.json"),n=await e.json(),i=localStorage.getItem("custom_models"),a=i?JSON.parse(i):[],o=[...n,...a];t(o),s(o),r(!1)}catch(e){r(!1)}})()},[]);return n?X.jsxs("div",{className:"homepage",children:[X.jsx("div",{className:"homepage-header",children:X.jsxs("div",{className:"homepage-header-content",children:[X.jsx(yd,{to:"/",className:"homepage-logo",children:X.jsxs("svg",{className:"homepage-logo-svg",viewBox:"0 0 200 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[X.jsx("path",{d:"M59.988 23.6c0-2.764.927-5.068 2.781-6.91 1.854-1.86 4.228-2.79 7.124-2.79 2.895 0 5.27.93 7.124 2.79 1.854 1.842 2.78 4.146 2.78 6.91 0 2.835-.926 5.2-2.78 7.096-1.854 1.895-4.229 2.843-7.124 2.843-2.896 0-5.27-.948-7.124-2.843-1.854-1.896-2.78-4.261-2.78-7.096zm4.794 0c0 1.63.476 2.985 1.43 4.066.97 1.08 2.198 1.621 3.68 1.621 1.484 0 2.702-.54 3.656-1.621.97-1.08 1.456-2.436 1.456-4.066 0-1.56-.486-2.853-1.457-3.88-.953-1.046-2.171-1.568-3.654-1.568s-2.71.522-3.681 1.568c-.954 1.027-1.43 2.32-1.43 3.88zm17.963 9.62V14.218h4.688l5.243 8.877c.212.372.45.832.715 1.382.265.531.477.974.636 1.329l.238.531h.053c-.141-1.364-.212-2.445-.212-3.242v-8.877h4.635V33.22H94.08l-5.27-8.85c-.212-.372-.45-.823-.715-1.355a55.985 55.985 0 01-.636-1.355l-.238-.532h-.053c.141 1.364.212 2.445.212 3.242v8.85h-4.635zm19.966 0V14.218h11.864v3.987h-7.23v3.455h5.773v3.986h-5.773v3.588h7.601v3.986h-12.235z",fill:"url(#paint0_linear)"}),X.jsx("path",{d:"M120.351 33.22V14.617h1.059l10.567 14.59 1.509 2.34h.053a25.902 25.902 0 01-.132-2.34v-14.59h1.138V33.22h-1.059l-10.567-14.59-1.509-2.339h-.053c.088.94.132 1.719.132 2.339v14.59h-1.138zm19.862 0V14.617h1.138V33.22h-1.138zm5.557-9.301c0-2.693.882-4.97 2.648-6.83 1.783-1.86 3.981-2.79 6.594-2.79 2.578 0 4.732.699 6.462 2.099l-.689.877c-.688-.567-1.562-1.02-2.621-1.356a9.895 9.895 0 00-3.152-.531c-2.313 0-4.237.815-5.773 2.445-1.518 1.63-2.278 3.658-2.278 6.086 0 2.427.742 4.456 2.225 6.086 1.501 1.63 3.39 2.445 5.667 2.445a7.739 7.739 0 003.469-.824 8.734 8.734 0 002.887-2.233v-3.587h-3.31v-1.063h4.449v8.477h-1.139V31.6l.027-.798h-.053c-.724.815-1.642 1.48-2.755 1.993a8.675 8.675 0 01-3.575.744c-2.577 0-4.74-.921-6.488-2.764-1.73-1.86-2.595-4.145-2.595-6.856zm21.21 9.301V14.617h1.139v8.744h11.758v-8.744h1.139V33.22h-1.139v-8.796h-11.758v8.796h-1.139zm24.262 0V15.68h-6.912v-1.063h14.963v1.063h-6.912v17.54h-1.139z",fill:"currentColor"}),X.jsx("path",{d:"M24.401 44.493a5.685 5.685 0 01-2.539-.602c-2.37-1.19-7-3.744-11.368-7.467-5.682-4.842-9.05-10.04-10.01-15.448-.746-4.201.319-8.49 2.921-11.768 2.41-3.035 5.826-4.808 9.617-4.993a13.39 13.39 0 0110.113 3.852c.459.45.881.929 1.266 1.43.385-.502.807-.98 1.265-1.43A13.39 13.39 0 0135.78 4.214c3.791.185 7.207 1.958 9.617 4.994 2.603 3.277 3.667 7.566 2.921 11.767-.96 5.408-4.328 10.606-10.009 15.448-4.368 3.722-8.997 6.276-11.368 7.466a5.681 5.681 0 01-2.54.603z",fill:"url(#paint1_linear)"}),X.jsx("path",{d:"M24.4 41.523a4.193 4.193 0 01-1.818-.417c-2.198-1.065-6.487-3.348-10.527-6.67-5.153-4.239-8.2-8.748-9.056-13.402a11.923 11.923 0 012.506-9.758c2.048-2.488 4.945-3.942 8.16-4.094.19-.01.383-.014.572-.014 3.024 0 5.879 1.13 8.038 3.178.388.368.751.764 1.08 1.178L24.4 12.84l1.047-1.317c.33-.414.692-.81 1.08-1.178 2.159-2.05 5.014-3.178 8.038-3.178.19 0 .382.005.572.014 3.215.152 6.112 1.606 8.16 4.094a11.925 11.925 0 012.505 9.758c-.855 4.654-3.902 9.163-9.055 13.402-4.04 3.323-8.33 5.605-10.526 6.67a4.2 4.2 0 01-1.821.417z",fill:"url(#paint2_linear)"}),X.jsx("path",{d:"M45.396 9.21a13.519 13.519 0 00-3.1-2.865c2.104 3.136 2.92 7.023 2.243 10.839-.96 5.408-4.328 10.606-10.01 15.448-4.367 3.722-8.997 6.276-11.368 7.467a5.687 5.687 0 01-2.54.602 5.687 5.687 0 01-2.539-.602c-2.37-1.191-7-3.745-11.368-7.467a46.7 46.7 0 01-.554-.48 39.726 39.726 0 004.333 4.272c4.367 3.723 8.997 6.276 11.368 7.467a5.684 5.684 0 002.54.602c.876 0 1.754-.208 2.539-.602 2.371-1.19 7-3.744 11.368-7.467 5.682-4.842 9.05-10.04 10.01-15.448.746-4.201-.32-8.49-2.922-11.767z",fill:"url(#paint3_linear)"}),X.jsx("path",{d:"M35.78 4.215a13.392 13.392 0 00-10.113 3.852c-.458.45-.88.929-1.266 1.43v34.995c.877 0 1.755-.208 2.54-.602 2.37-1.19 7-3.744 11.368-7.466 5.682-4.842 9.05-10.04 10.01-15.448.745-4.201-.319-8.49-2.922-11.767-2.41-3.035-5.826-4.809-9.617-4.994z",fill:"url(#paint4_linear)"}),X.jsxs("defs",{children:[X.jsxs("linearGradient",{id:"paint0_linear",x1:"55.931",y1:"43.036",x2:"109.293",y2:"15.712",gradientUnits:"userSpaceOnUse",children:[X.jsx("stop",{stopColor:"#F83479"}),X.jsx("stop",{offset:"1",stopColor:"#FF819C"})]}),X.jsxs("linearGradient",{id:"paint1_linear",x1:"20.417",y1:"13.982",x2:"37.373",y2:"35.078",gradientUnits:"userSpaceOnUse",children:[X.jsx("stop",{stopColor:"#FF819C"}),X.jsx("stop",{offset:".259",stopColor:"#FF7E9A"}),X.jsx("stop",{offset:".476",stopColor:"#FE7396"}),X.jsx("stop",{offset:".676",stopColor:"#FC628E"}),X.jsx("stop",{offset:".867",stopColor:"#FA4A83"}),X.jsx("stop",{offset:"1",stopColor:"#F83479"})]}),X.jsxs("linearGradient",{id:"paint2_linear",x1:"29.491",y1:"30.882",x2:"-7.001",y2:"-53.856",gradientUnits:"userSpaceOnUse",children:[X.jsx("stop",{stopColor:"#fff",stopOpacity:"0"}),X.jsx("stop",{offset:"1",stopColor:"#fff"})]}),X.jsxs("linearGradient",{id:"paint3_linear",x1:"29.261",y1:"29.604",x2:"38.504",y2:"56.547",gradientUnits:"userSpaceOnUse",children:[X.jsx("stop",{stopColor:"#F82814",stopOpacity:"0"}),X.jsx("stop",{offset:"1",stopColor:"#C0272D"})]}),X.jsxs("linearGradient",{id:"paint4_linear",x1:"28.395",y1:"20.142",x2:"6.092",y2:"-2.517",gradientUnits:"userSpaceOnUse",children:[X.jsx("stop",{stopColor:"#F82814",stopOpacity:"0"}),X.jsx("stop",{offset:"1",stopColor:"#C0272D"})]})]})]})}),X.jsxs("svg",{className:"homepage-search",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("circle",{cx:"11",cy:"11",r:"8"}),X.jsx("path",{d:"m21 21-4.35-4.35"})]})]})}),X.jsx("div",{className:"container",children:X.jsx("div",{className:"loading",children:X.jsx("h2",{children:"..."})})}),X.jsx(Td,{})]}):X.jsxs("div",{className:"homepage",children:[X.jsx("div",{className:"header-dark",children:X.jsxs("div",{className:"header-dark-content",children:[X.jsxs(yd,{to:"/",className:"logo-dark",children:[X.jsx("svg",{className:"heart-icon",viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),"ONENIGHT"]}),X.jsx("div",{className:"header-actions-dark",children:X.jsx("button",{className:"header-search-btn",onClick:()=>o(!0),children:X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("circle",{cx:"11",cy:"11",r:"8"}),X.jsx("path",{d:"m21 21-4.35-4.35"})]})})})]})}),X.jsx("div",{className:"homepage-nav",children:X.jsx("div",{className:"homepage-nav-content",children:X.jsx("div",{className:"homepage-menu",onClick:()=>o(!0),children:X.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})})})}),X.jsxs("div",{className:"homepage-main",children:[X.jsx("h1",{className:"homepage-title",children:"  "}),X.jsx("p",{className:"homepage-description",children:"         .       ,     ."})]}),X.jsx("div",{className:"homepage-features",children:X.jsxs("div",{className:"homepage-features-content",children:[X.jsxs("div",{className:"features-stats",children:[X.jsxs("div",{className:"stat-card",children:[X.jsxs("div",{className:"stat-number",children:[e.length,"+"]}),X.jsx("div",{className:"stat-label",children:" "})]}),X.jsxs("div",{className:"stat-card",children:[X.jsx("div",{className:"stat-number",children:"24/7"}),X.jsx("div",{className:"stat-label",children:""})]}),X.jsxs("div",{className:"stat-card",children:[X.jsx("div",{className:"stat-number",children:"100%"}),X.jsx("div",{className:"stat-label",children:""})]})]}),X.jsx("div",{className:"features-filter",children:X.jsx("button",{className:"homepage-filter-btn",onClick:()=>o(!0),children:" "})})]})}),X.jsx("div",{className:"homepage-profiles",children:X.jsxs("div",{className:"homepage-profiles-content",children:[X.jsx("div",{className:"profiles-grid",children:i.map(e=>X.jsx(Ad,{model:e},e.id))}),X.jsx("div",{className:"homepage-show-more",children:X.jsx("button",{className:"homepage-show-more-btn",children:" "})})]})}),X.jsx("div",{className:"container",children:X.jsxs("div",{className:"homepage-content",children:[X.jsxs("div",{className:"homepage-content-section",children:[X.jsx("h2",{children:"   "}),X.jsx("p",{children:"         .       ,     .      : , -, , ,    .            ."})]}),X.jsxs("div",{className:"homepage-content-section",children:[X.jsx("h2",{children:"       "}),X.jsxs("p",{children:["     ",X.jsx("br",{}),"    ",X.jsx("br",{}),"     ",X.jsx("br",{}),"     ",X.jsx("br",{}),"   "]})]})]})}),X.jsx(Id,{isOpen:a,onClose:()=>o(!1),onApply:t=>{let n=[...e];t.verified&&(n=n.filter(e=>e.verified)),t.vip&&(n=n.filter(e=>e.vip)),t.online&&(n=n.filter(e=>e.online)),t.newThisWeek&&(n=n.filter(e=>e.newThisWeek)),t.withVideo&&(n=n.filter(e=>e.withVideo)),t.heightFrom&&(n=n.filter(e=>e.height&&e.height>=parseInt(t.heightFrom))),t.heightTo&&(n=n.filter(e=>e.height&&e.height<=parseInt(t.heightTo))),t.ageFrom&&(n=n.filter(e=>e.age>=parseInt(t.ageFrom))),t.ageTo&&(n=n.filter(e=>e.age<=parseInt(t.ageTo))),t.weightFrom&&(n=n.filter(e=>e.weight&&e.weight>=parseInt(t.weightFrom))),t.weightTo&&(n=n.filter(e=>e.weight&&e.weight<=parseInt(t.weightTo))),t.bustFrom&&(n=n.filter(e=>e.bust&&e.bust>=parseInt(t.bustFrom))),t.bustTo&&(n=n.filter(e=>e.bust&&e.bust<=parseInt(t.bustTo))),t.nationality&&(n=n.filter(e=>e.nationality===t.nationality)),t.hair&&(n=n.filter(e=>e.hair===t.hair)),t.eyes&&(n=n.filter(e=>e.eyes===t.eyes)),t.language&&(n=n.filter(e=>e.languages.includes(t.language))),t.location&&(n=n.filter(e=>e.location===t.location)),t.priceFrom&&(n=n.filter(e=>e.price>=parseInt(t.priceFrom))),t.priceTo&&(n=n.filter(e=>e.price<=parseInt(t.priceTo))),t.meetingPlace&&(n=n.filter(e=>e.meetingPlace===t.meetingPlace)),t.services&&t.services.length>0&&(n=n.filter(e=>t.services.every(t=>e.services.includes(t)))),s(n)}}),X.jsx(Td,{}),X.jsx(Dd,{})]})},Rd=()=>{var e,t,n,r,i,s,a,o,l,c,u,h,d,f,p,m,g,v,y,b,x,w,S,C,E;const{id:k}=function(){let{matches:e}=z.useContext(Wh),t=e[e.length-1];return t?t.params:{}}(),[N,j]=z.useState(null),[_,T]=z.useState(!0),[I,A]=z.useState(null),[D,L]=z.useState(0),[R,M]=z.useState(null),[P,O]=z.useState(null),[F,V]=z.useState(!1),[U,B]=z.useState([]),[$,q]=z.useState(new Set([0])),[H,W]=z.useState("@OneNightSupport");z.useEffect(()=>{const e=localStorage.getItem("telegram_support");e&&W(e)},[]),z.useEffect(()=>{(async()=>{try{const e=await fetch("/data/models.json"),t=await e.json(),n=localStorage.getItem("custom_models"),r=n?JSON.parse(n):[],i=[...t,...r],s=i.find(e=>e.id===parseInt(k||"0"));if(j(s||null),s){const e=i.filter(e=>e.id!==s.id&&e.location===s.location).slice(0,4);B(e)}T(!1)}catch(e){A("  .   ."),T(!1)}})()},[k]),z.useEffect(()=>{if(N){const e=e=>{if(e>=0&&e<N.photos.length&&!$.has(e)){const t=new Image;t.src=N.photos[e],t.onload=()=>{q(t=>new Set([...t,e]))}}};e(D-1),e(D+1)}},[N,D,$]);return _?X.jsxs("div",{className:"model-page",children:[X.jsx("div",{className:"header-dark",children:X.jsxs("div",{className:"header-dark-content",children:[X.jsxs(yd,{to:"/",className:"logo-dark",children:[X.jsx("svg",{className:"heart-icon",viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),"ONENIGHT"]}),X.jsxs("div",{className:"header-actions-dark",children:[X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("circle",{cx:"11",cy:"11",r:"8"}),X.jsx("path",{d:"m21 21-4.35-4.35"})]}),X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),X.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),X.jsx("circle",{cx:"12",cy:"7",r:"4"})]})]})]})}),X.jsx("div",{className:"container",children:X.jsxs("div",{className:"loading",children:[X.jsx("div",{className:"loading-spinner"}),X.jsx("h2",{children:" ..."}),X.jsx("p",{children:", "})]})}),X.jsx(Td,{})]}):I?X.jsxs("div",{className:"model-page",children:[X.jsx("div",{className:"header-dark",children:X.jsxs("div",{className:"header-dark-content",children:[X.jsxs(yd,{to:"/",className:"logo-dark",children:[X.jsx("svg",{className:"heart-icon",viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),"ONENIGHT"]}),X.jsxs("div",{className:"header-actions-dark",children:[X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("circle",{cx:"11",cy:"11",r:"8"}),X.jsx("path",{d:"m21 21-4.35-4.35"})]}),X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),X.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),X.jsx("circle",{cx:"12",cy:"7",r:"4"})]})]})]})}),X.jsx("div",{className:"container",children:X.jsxs("div",{className:"error",children:[X.jsx("h2",{children:" "}),X.jsx("p",{children:I}),X.jsx("button",{onClick:()=>window.location.reload(),className:"btn",children:" "})]})}),X.jsx(Td,{})]}):N?X.jsxs("div",{className:"model-page",children:[X.jsx("div",{className:"header-dark",children:X.jsxs("div",{className:"header-dark-content",children:[X.jsxs(yd,{to:"/",className:"logo-dark",children:[X.jsx("svg",{className:"heart-icon",viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),"ONENIGHT"]}),X.jsx("div",{className:"header-actions-dark",children:X.jsx(yd,{to:"/",className:"header-search-btn",children:X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("circle",{cx:"11",cy:"11",r:"8"}),X.jsx("path",{d:"m21 21-4.35-4.35"})]})})})]})}),X.jsx("div",{className:"model-hero-fullscreen",children:X.jsxs("div",{className:"model-hero-photo-container",children:[X.jsx("div",{className:"model-hero-image-wrapper",children:X.jsx("img",{src:N.photos[D],alt:`${N.name}, ${N.age}  -  ${D+1}  ${N.photos.length}`,className:"model-hero-main-photo",loading:"lazy",onTouchStart:e=>(e=>{O(null),M(e.targetTouches[0].clientX)})(e),onTouchMove:e=>(e=>{O(e.targetTouches[0].clientX)})(e),onTouchEnd:()=>{if(!R||!P||!N)return;const e=R-P,t=e>50,n=e<-50;requestAnimationFrame(()=>{t&&L(D<N.photos.length-1?D+1:0),n&&L(D>0?D-1:N.photos.length-1)})},role:"img","aria-label":` ${N.name}`})}),X.jsx("button",{className:"model-hero-nav model-hero-nav-left",onClick:()=>L(D>0?D-1:N.photos.length-1),"aria-label":" ",title:" ",children:X.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:X.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),X.jsx("button",{className:"model-hero-nav model-hero-nav-right",onClick:()=>L(D<N.photos.length-1?D+1:0),"aria-label":" ",title:" ",children:X.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:X.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})}),X.jsxs("div",{className:"model-hero-overlay",children:[X.jsxs("h1",{className:"model-hero-name",children:[N.name,", ",N.age," "]}),X.jsx("p",{className:"model-hero-location",children:N.location})]}),X.jsxs("div",{className:"model-hero-badges",children:[N.newThisWeek&&X.jsx("span",{className:"model-hero-badge new",children:"NEW"}),N.vip&&X.jsx("span",{className:"model-hero-badge vip",children:"VIP"}),N.verified&&X.jsx("span",{className:"model-hero-badge real",children:"REAL PHOTOS"}),N.withVideo&&X.jsx("span",{className:"model-hero-badge video",children:X.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M15 10l4.553-2.276A1 1 0 0 1 21 8.618v6.764a1 1 0 0 1-1.447.894L15 14M5 18h8a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2z"})})})]})]})}),X.jsxs("div",{className:"model-hero-stats",children:[X.jsxs("div",{className:"model-hero-stat",children:[X.jsx("div",{className:"model-hero-stat-icon",children:X.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})}),X.jsxs("div",{className:"model-hero-stat-content",children:[X.jsx("div",{className:"model-hero-stat-value",children:N.views||280}),X.jsx("div",{className:"model-hero-stat-label",children:""})]})]}),X.jsxs("div",{className:"model-hero-stat",children:[X.jsx("div",{className:"model-hero-stat-icon",children:X.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}),X.jsxs("div",{className:"model-hero-stat-content",children:[X.jsx("div",{className:"model-hero-stat-value",children:N.addedDate||"12.09.2025"}),X.jsx("div",{className:"model-hero-stat-label",children:""})]})]}),X.jsxs("div",{className:"model-hero-stat",children:[X.jsx("div",{className:"model-hero-stat-icon",children:X.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),X.jsxs("div",{className:"model-hero-stat-content",children:[X.jsx("div",{className:"model-hero-stat-value",children:"17  "}),X.jsx("div",{className:"model-hero-stat-label",children:"  "})]})]})]}),X.jsxs("div",{className:"model-actions-dark",children:[X.jsx("button",{className:"model-action-btn-primary",onClick:()=>{V(!0)},children:" "}),X.jsxs("button",{className:"model-action-btn-secondary",children:[X.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})," "]}),X.jsxs("div",{className:"model-action-buttons",children:[X.jsxs("button",{className:"model-action-btn-small",onClick:async()=>{if(navigator.share)try{await navigator.share({title:`${null==N?void 0:N.name}, ${null==N?void 0:N.age} `,text:`  ${null==N?void 0:N.name}  ONENIGHT`,url:window.location.href})}catch(e){}else navigator.clipboard.writeText(window.location.href),alert("    !")},children:[X.jsxs("svg",{className:"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),X.jsx("polyline",{points:"16,6 12,2 8,6"}),X.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),X.jsx("span",{className:"text",children:""})]}),X.jsxs("button",{className:"model-action-btn-small",children:[X.jsx("svg",{className:"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),X.jsx("span",{className:"text",children:" "})]}),X.jsxs("button",{className:"model-action-btn-small",onClick:()=>{if(N&&N.photos[D]){const e=document.createElement("a");e.href=N.photos[D],e.download=`${N.name}_photo_${D+1}.jpg`,document.body.appendChild(e),e.click(),document.body.removeChild(e)}},children:[X.jsx("svg",{className:"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M14.828 14.828a4 4 0 0 1-5.656 0M9 10h1m4 0h1m-6 4h1m-6 4h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),X.jsx("span",{className:"text",children:" "})]})]})]}),X.jsxs("div",{className:"model-content-dark",children:[X.jsx("div",{className:"model-section",children:X.jsxs("div",{className:"model-about",children:[X.jsx("h2",{children:" "}),X.jsxs("p",{children:["!   ",N.name,"    ",X.jsx("br",{}),N.description,X.jsx("br",{}),"     ,       .        -      .       .           .       !"]})]})}),X.jsx("div",{className:"model-section",children:X.jsxs("div",{className:"model-details-table",children:[X.jsx("h2",{children:""}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:""}),X.jsxs("div",{className:"model-details-value",children:[N.age," "]})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:""}),X.jsxs("div",{className:"model-details-value",children:[N.height," "]})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:""}),X.jsxs("div",{className:"model-details-value",children:[N.weight," "]})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:" "}),X.jsx("div",{className:"model-details-value",children:N.bust})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:" "}),X.jsx("div",{className:"model-details-value",children:""})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:""}),X.jsx("div",{className:"model-details-value",children:"90-63-93"})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:" "}),X.jsx("div",{className:"model-details-value",children:N.hair})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:" "}),X.jsx("div",{className:"model-details-value",children:N.eyes})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:""}),X.jsx("div",{className:"model-details-value",children:N.nationality})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:" "}),X.jsx("div",{className:"model-details-value",children:(null==(e=N.languages)?void 0:e.join(", "))||""})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:" "}),X.jsx("div",{className:"model-details-value",children:", , "})]}),X.jsxs("div",{className:"model-details-row",children:[X.jsx("div",{className:"model-details-label",children:" "}),X.jsx("div",{className:"model-details-value",children:N.meetingPlace||""})]})]})}),X.jsx("div",{className:"model-section",children:X.jsxs("div",{className:"model-prices-table",children:[X.jsx("h2",{children:""}),X.jsxs("div",{className:"model-prices-header",children:[X.jsx("div",{children:""}),X.jsx("div",{children:" "}),X.jsx("div",{children:""})]}),X.jsxs("div",{className:"model-prices-row",children:[X.jsx("div",{className:"model-prices-cell",children:"1 "}),X.jsx("div",{className:"model-prices-cell",children:(null==(n=null==(t=N.prices)?void 0:t.apartment)?void 0:n.oneHour)?`${N.prices.apartment.oneHour} .`:"X"}),X.jsx("div",{className:"model-prices-price",children:(null==(i=null==(r=N.prices)?void 0:r.outcall)?void 0:i.oneHour)?`${N.prices.outcall.oneHour} .`:"X"})]}),X.jsxs("div",{className:"model-prices-row",children:[X.jsx("div",{className:"model-prices-cell",children:"2 "}),X.jsx("div",{className:"model-prices-cell",children:(null==(a=null==(s=N.prices)?void 0:s.apartment)?void 0:a.twoHours)?`${N.prices.apartment.twoHours} .`:"X"}),X.jsx("div",{className:"model-prices-price",children:(null==(l=null==(o=N.prices)?void 0:o.outcall)?void 0:l.twoHours)?`${N.prices.outcall.twoHours} .`:"X"})]}),X.jsxs("div",{className:"model-prices-row",children:[X.jsx("div",{className:"model-prices-cell",children:"6 "}),X.jsx("div",{className:"model-prices-cell",children:(null==(u=null==(c=N.prices)?void 0:c.apartment)?void 0:u.night)?`${N.prices.apartment.night} .`:"X"}),X.jsx("div",{className:"model-prices-price",children:(null==(d=null==(h=N.prices)?void 0:h.outcall)?void 0:d.night)?`${N.prices.outcall.night} .`:"X"})]}),(null==(p=null==(f=N.prices)?void 0:f.outcall)?void 0:p.anal)&&X.jsxs("div",{className:"model-prices-row anal-service",children:[X.jsx("div",{className:"model-prices-cell",children:""}),X.jsx("div",{className:"model-prices-cell",children:"-"}),X.jsxs("div",{className:"model-prices-price",children:["+",N.prices.outcall.anal," ."]})]})]})}),X.jsx("div",{className:"model-section",children:X.jsxs("div",{className:"model-services-detailed",children:[X.jsx("h2",{children:""}),(null==(m=N.detailedServices)?void 0:m.sex)&&N.detailedServices.sex.length>0&&X.jsxs("div",{className:"service-category",children:[X.jsx("h3",{children:""}),X.jsx("div",{className:"service-list",children:N.detailedServices.sex.map((e,t)=>X.jsx("span",{className:"service-item",children:e},t))})]}),(null==(g=N.detailedServices)?void 0:g.striptease)&&N.detailedServices.striptease.length>0&&X.jsxs("div",{className:"service-category",children:[X.jsx("h3",{children:""}),X.jsx("div",{className:"service-list",children:N.detailedServices.striptease.map((e,t)=>X.jsx("span",{className:"service-item",children:e},t))})]}),(null==(v=N.detailedServices)?void 0:v.massage)&&N.detailedServices.massage.length>0&&X.jsxs("div",{className:"service-category",children:[X.jsx("h3",{children:""}),X.jsx("div",{className:"service-list",children:N.detailedServices.massage.map((e,t)=>X.jsx("span",{className:"service-item",children:e},t))})]}),X.jsxs("div",{className:"service-category",children:[X.jsx("h3",{children:""}),X.jsxs("div",{className:"service-list",children:[(null==(y=N.detailedServices)?void 0:y.toys)&&X.jsx("span",{className:"service-item",children:""}),(null==(b=N.detailedServices)?void 0:b.sadoMaso)&&X.jsx("span",{className:"service-item",children:"-"}),(null==(x=N.detailedServices)?void 0:x.mistress)&&X.jsx("span",{className:"service-item",children:""}),(null==(w=N.detailedServices)?void 0:w.slave)&&X.jsx("span",{className:"service-item",children:""}),(null==(S=N.detailedServices)?void 0:S.games)&&X.jsx("span",{className:"service-item",children:""}),(null==(C=N.detailedServices)?void 0:C.lightDomination)&&X.jsx("span",{className:"service-item",children:" "}),(null==(E=N.detailedServices)?void 0:E.roleplay)&&N.detailedServices.roleplay.length>0&&X.jsx(X.Fragment,{children:N.detailedServices.roleplay.map((e,t)=>X.jsx("span",{className:"service-item",children:e},t))})]})]})]})}),X.jsx("div",{className:"model-section",children:X.jsxs("div",{className:"model-reviews",children:[X.jsx("h2",{children:""}),X.jsx("button",{className:"model-review-btn",children:" "})]})})]}),X.jsxs("div",{className:"other-girls-section",children:[X.jsxs("h2",{className:"other-girls-title",children:["   ",N.location]}),X.jsx("div",{className:"other-girls-grid",children:U.map(e=>X.jsxs(yd,{to:`/model/${e.id}`,className:"other-girl-card",children:[X.jsx("img",{src:e.photos[0],alt:`${e.name}, ${e.age} `,className:"other-girl-image"}),X.jsxs("div",{className:"other-girl-badges",children:[e.vip&&X.jsx("span",{className:"other-girl-badge vip",children:"VIP"}),e.newThisWeek&&X.jsx("span",{className:"other-girl-badge new",children:"NEW"}),e.verified&&X.jsx("span",{className:"other-girl-badge real",children:"REAL"}),e.withVideo&&X.jsx("span",{className:"other-girl-badge video",children:X.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M15 10l4.553-2.276A1 1 0 0 1 21 8.618v6.764a1 1 0 0 1-1.447.894L15 14M5 18h8a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2z"})})})]}),X.jsxs("div",{className:"other-girl-info",children:[X.jsxs("div",{className:"other-girl-name",children:[e.name,", ",e.age," "]}),X.jsx("div",{className:"other-girl-location",children:e.location})]}),X.jsx("svg",{className:"other-girl-heart",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})]},e.id))}),U.length>0&&X.jsx("div",{className:"other-girls-show-more",children:X.jsxs(yd,{to:`/?location=${N.location}`,className:"other-girls-btn",children:["   ",N.location]})})]}),X.jsx(Td,{}),X.jsx(Dd,{}),F&&X.jsx("div",{className:"send-modal-overlay",onClick:()=>V(!1),children:X.jsxs("div",{className:"send-modal",onClick:e=>e.stopPropagation(),children:[X.jsxs("div",{className:"send-modal-header",children:[X.jsx("h3",{children:" "}),X.jsx("button",{className:"send-modal-close",onClick:()=>V(!1),children:X.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:X.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),X.jsxs("div",{className:"send-modal-content",children:[X.jsxs("p",{children:["   ",N.name,"      Telegram:"]}),X.jsx("div",{className:"send-modal-contact",children:X.jsx("div",{className:"send-modal-telegram",children:H})}),X.jsx("div",{className:"send-modal-actions",children:X.jsx("button",{className:"send-modal-btn-primary",onClick:()=>{const e=H.replace("@","");window.open(`https://t.me/${e}`,"_blank")},children:"  Telegram"})})]})]})})]}):X.jsxs("div",{className:"model-page",children:[X.jsx("div",{className:"header-dark",children:X.jsxs("div",{className:"header-dark-content",children:[X.jsxs(yd,{to:"/",className:"logo-dark",children:[X.jsx("svg",{className:"heart-icon",viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),"ONENIGHT"]}),X.jsxs("div",{className:"header-actions-dark",children:[X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("circle",{cx:"11",cy:"11",r:"8"}),X.jsx("path",{d:"m21 21-4.35-4.35"})]}),X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),X.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),X.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[X.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),X.jsx("circle",{cx:"12",cy:"7",r:"4"})]})]})]})}),X.jsx("div",{className:"container",children:X.jsxs("div",{className:"not-found",children:[X.jsx("h2",{children:"  "}),X.jsx(yd,{to:"/",className:"btn",children:"  "})]})}),X.jsx(Td,{})]})},Md=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Pd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Md(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Od;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Od extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fd=function(e){return function(e){const t=Md(e);return Pd.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Vd=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,zd=()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(jC){return}const t=e&&function(e){try{return Pd.decodeString(e,!0)}catch(jC){}return null}(e[1]);return t&&JSON.parse(t)},Ud=()=>{try{return Vd()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e={}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||zd()}catch(jC){return}},Bd=e=>{const t=(e=>{var t,n;return null==(n=null==(t=Ud())?void 0:t.emulatorHosts)?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},$d=()=>{var e;return null==(e=Ud())?void 0:e.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}const Wd={};let Gd=!1;function Kd(e,t){if("undefined"==typeof window||"undefined"==typeof document||!Hd(window.location.host)||Wd[e]===t||Wd[e]||Gd)return;function n(e){return`__firebase__banner__${e}`}Wd[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Wd))Wd[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Gd=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(){return!function(){var e;const t=null==(e=Ud())?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(jC){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class Xd extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Xd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yd.prototype.create)}}class Yd{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(Jd,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new Xd(r,a,n)}}const Jd=/\{\$([^}]+)}/g;function Zd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(ef(n)&&ef(s)){if(!Zd(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ef(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(e){return e&&e._delegate?e._delegate:e}class nf{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new qd;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(jC){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=(null==e?void 0:e.optional)??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(jC){if(n)return null;throw jC}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:rf})}catch(jC){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(jC){}}}}clearInstance(e=rf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=rf){return this.instances.has(e)}getOptions(e=rf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===rf?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=rf){return this.component?this.component.multipleInstances?e:rf:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class af{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var of,lf;(lf=of||(of={}))[lf.DEBUG=0]="DEBUG",lf[lf.VERBOSE=1]="VERBOSE",lf[lf.INFO=2]="INFO",lf[lf.WARN=3]="WARN",lf[lf.ERROR=4]="ERROR",lf[lf.SILENT=5]="SILENT";const cf={debug:of.DEBUG,verbose:of.VERBOSE,info:of.INFO,warn:of.WARN,error:of.ERROR,silent:of.SILENT},uf=of.INFO,hf={[of.DEBUG]:"log",[of.VERBOSE]:"log",[of.INFO]:"info",[of.WARN]:"warn",[of.ERROR]:"error"},df=(e,t,...n)=>{if(t<e.logLevel)return;(new Date).toISOString();if(!hf[t])throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ff{constructor(e){this.name=e,this._logLevel=uf,this._logHandler=df,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in of))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?cf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,of.DEBUG,...e),this._logHandler(this,of.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,of.VERBOSE,...e),this._logHandler(this,of.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,of.INFO,...e),this._logHandler(this,of.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,of.WARN,...e),this._logHandler(this,of.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,of.ERROR,...e),this._logHandler(this,of.ERROR,...e)}}let pf,mf;const gf=new WeakMap,vf=new WeakMap,yf=new WeakMap,bf=new WeakMap,xf=new WeakMap;let wf={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vf.get(e);if("objectStoreNames"===t)return e.objectStoreNames||yf.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ef(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Sf(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mf||(mf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(kf(this),t),Ef(gf.get(this))}:function(...t){return Ef(e.apply(kf(this),t))}:function(t,...n){const r=e.call(kf(this),t,...n);return yf.set(r,t.sort?t.sort():[t]),Ef(r)}}function Cf(e){return"function"==typeof e?Sf(e):(e instanceof IDBTransaction&&function(e){if(vf.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});vf.set(e,t)}(e),t=e,(pf||(pf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,wf):e);var t}function Ef(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ef(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&gf.set(t,e)}).catch(()=>{}),xf.set(t,e),t}(e);if(bf.has(e))return bf.get(e);const t=Cf(e);return t!==e&&(bf.set(e,t),xf.set(t,e)),t}const kf=e=>xf.get(e);const Nf=["get","getKey","getAll","getAllKeys","count"],jf=["put","add","delete","clear"],_f=new Map;function Tf(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(_f.get(t))return _f.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=jf.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Nf.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return _f.set(t,s),s}wf=(e=>({...e,get:(t,n,r)=>Tf(t,n)||e.get(t,n,r),has:(t,n)=>!!Tf(t,n)||e.has(t,n)}))(wf);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class If{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Af="@firebase/app",Df="0.14.6",Lf=new ff("@firebase/app"),Rf="@firebase/app-compat",Mf="@firebase/analytics-compat",Pf="@firebase/analytics",Of="@firebase/app-check-compat",Ff="@firebase/app-check",Vf="@firebase/auth",zf="@firebase/auth-compat",Uf="@firebase/database",Bf="@firebase/data-connect",$f="@firebase/database-compat",qf="@firebase/functions",Hf="@firebase/functions-compat",Wf="@firebase/installations",Gf="@firebase/installations-compat",Kf="@firebase/messaging",Qf="@firebase/messaging-compat",Xf="@firebase/performance",Yf="@firebase/performance-compat",Jf="@firebase/remote-config",Zf="@firebase/remote-config-compat",ep="@firebase/storage",tp="@firebase/storage-compat",np="@firebase/firestore",rp="@firebase/ai",ip="@firebase/firestore-compat",sp="firebase",ap="[DEFAULT]",op={[Af]:"fire-core",[Rf]:"fire-core-compat",[Pf]:"fire-analytics",[Mf]:"fire-analytics-compat",[Ff]:"fire-app-check",[Of]:"fire-app-check-compat",[Vf]:"fire-auth",[zf]:"fire-auth-compat",[Uf]:"fire-rtdb",[Bf]:"fire-data-connect",[$f]:"fire-rtdb-compat",[qf]:"fire-fn",[Hf]:"fire-fn-compat",[Wf]:"fire-iid",[Gf]:"fire-iid-compat",[Kf]:"fire-fcm",[Qf]:"fire-fcm-compat",[Xf]:"fire-perf",[Yf]:"fire-perf-compat",[Jf]:"fire-rc",[Zf]:"fire-rc-compat",[ep]:"fire-gcs",[tp]:"fire-gcs-compat",[np]:"fire-fst",[ip]:"fire-fst-compat",[rp]:"fire-vertex","fire-js":"fire-js",[sp]:"fire-js-all"},lp=new Map,cp=new Map,up=new Map;function hp(e,t){try{e.container.addComponent(t)}catch(jC){Lf.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,jC)}}function dp(e){const t=e.name;if(up.has(t))return Lf.debug(`There were multiple attempts to register component ${t}.`),!1;up.set(t,e);for(const n of lp.values())hp(n,e);for(const n of cp.values())hp(n,e);return!0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fp=new Yd("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pp{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new nf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fp.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r={name:ap,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw fp.create("bad-app-name",{appName:String(i)});if(n||(n=$d()),!n)throw fp.create("no-options");const s=lp.get(i);if(s){if(Zd(n,s.options)&&Zd(r,s.config))return s;throw fp.create("duplicate-app",{appName:i})}const a=new af(i);for(const l of up.values())a.addComponent(l);const o=new pp(n,r,a);return lp.set(i,o),o}function gp(e,t,n){let r=op[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${r}" with version "${t}":`];return i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Lf.warn(e.join(" "))}dp(new nf(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="firebase-heartbeat-store";let yp=null;function bp(){return yp||(yp=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=Ef(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Ef(a.result),e.oldVersion,e.newVersion,Ef(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(vp)}catch(jC){}}}).catch(e=>{throw fp.create("idb-open",{originalErrorMessage:e.message})})),yp}async function xp(e,t){try{const n=(await bp()).transaction(vp,"readwrite"),r=n.objectStore(vp);await r.put(t,wp(e)),await n.done}catch(jC){if(jC instanceof Xd)Lf.warn(jC.message);else{const t=fp.create("idb-set",{originalErrorMessage:null==jC?void 0:jC.message});Lf.warn(t.message)}}}function wp(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ep(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cp();if(null==(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null==(t=this._heartbeatsCache)?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(jC){Lf.warn(jC)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Cp(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),kp(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Fd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(jC){return Lf.warn(jC),""}}}function Cp(){return(new Date).toISOString().substring(0,10)}class Ep{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(jC){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null==(e=i.error)?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await bp()).transaction(vp),n=await t.objectStore(vp).get(wp(e));return await t.done,n}catch(jC){if(jC instanceof Xd)Lf.warn(jC.message);else{const t=fp.create("idb-get",{originalErrorMessage:null==jC?void 0:jC.message});Lf.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return xp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return xp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function kp(e){return Fd(JSON.stringify({version:2,heartbeats:e})).length}var Np;Np="",dp(new nf("platform-logger",e=>new If(e),"PRIVATE")),dp(new nf("heartbeat",e=>new Sp(e),"PRIVATE")),gp(Af,Df,Np),gp(Af,Df,"esm2020"),gp("fire-js","");var jp,_p,Tp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,a=e.g[3];s=t+(a^n&(i^a))+r[0]+3614090360&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[3]+3250441966&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[4]+4118548399&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[7]+4249261313&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[8]+1770035416&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[11]+2304563134&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[12]+1804603682&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[15]+1236535329&4294967295,s=t+(i^a&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[11]+643717713&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[0]+3921069994&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[15]+3634488961&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[4]+3889429448&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[3]+4107603335&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[8]+1163531501&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[7]+1735328473&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^a)+r[5]+4294588738&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[11]+1839030562&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[1]+2763975236&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[7]+4139469664&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[13]+681279174&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[3]+3572445317&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[9]+3654602809&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[15]+530742520&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~a))+r[0]+4096336452&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[14]+2878612391&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[12]+1700485571&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[10]+4293915773&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[8]+1873313359&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[6]+2734768916&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[4]+4149444226&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[2]+718787259&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,a=0;for(;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return d(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=a(n)).j(t);h(c)||c.l(e)>0;)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),a=e.i(t)>>>16,o=65535&e.i(t);n[2*i+2*t]+=s*o,p(n,2*i+2*t),n[2*i+2*t+1]+=r*o,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*a,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*a,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,_p=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let i=o;for(let o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+s),n);s<8?(s=a(Math.pow(n,s)),i=i.j(s).add(a(e))):(i=i.j(r),i=i.add(a(e)))}return i},jp=r}).apply(void 0!==Tp?Tp:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ip,Ap,Dp,Lp,Rp,Mp,Pp,Op,Fp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Fp&&Fp];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var i=i||{},s=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var h="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=x;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,x=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},w=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(S)}};function S(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function C(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function N(e){return/^[\s\xa0]*$/.test(e)}function j(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(j,E),j.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&j.Z.h.call(this)},j.prototype.h=function(){j.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _="closure_listenable_"+(1e6*Math.random()|0),T=0;function I(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++T,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function D(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function L(e){const t={};for(const n in e)t[n]=e[n];return t}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<R.length;t++)n=R[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function P(e){this.src=e,this.g={},this.h=0}function O(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}P.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const a=F(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new I(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var V="closure_lm_"+(1e6*Math.random()|0),z={};function U(e,t,n,r,i){if(r&&r.once)return $(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)U(e,t[s],n,r,i);return null}return n=X(n),e&&e[_]?e.J(t,n,a(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const o=a(i)?!!i.capture:!!i;let l=K(e);if(l||(e[V]=l=new P(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)k||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(W(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)$(e,t[s],n,r,i);return null}return n=X(n),e&&e[_]?e.K(t,n,a(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=X(n),e&&e[_]?(e=e.i,(s=String(t).toString())in e.g&&((n=F(t=e.g[s],n,r,i))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=K(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&H(n))}function H(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[_])O(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(W(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=K(t))?(O(n,e),0==n.h&&(n.src=null,t[V]=null)):A(e)}}}function W(e){return e in z?z[e]:z[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new j(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&H(e),e=n.call(r,t)}return e}function K(e){return(e=e[V])instanceof P?e:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"==typeof e?e:(e[Q]||(e[Q]=function(t){return e.handleEvent(t)}),e[Q])}function Y(){C.call(this),this.i=new P(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;M(t=new E(r,e),i)}let s,a;if(i=!0,n)for(a=n.length-1;a>=0;a--)s=t.g=n[a],i=Z(s,r,!0,t)&&i;if(s=t.g=e,i=Z(s,r,!0,t)&&i,i=Z(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)s=t.g=n[a],i=Z(s,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const a=t[s];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&O(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!=typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(Y,C),Y.prototype[_]=!0,Y.prototype.removeEventListener=function(e,t,n,r){q(this,e,t,n,r)},Y.prototype.N=function(){if(Y.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},Y.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Y.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends C{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){C.call(this),this.h=e,this.g={}}u(ne,C);var re=[];function ie(e){D(e.g,function(e,t){this.g.hasOwnProperty(t)&&H(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,ae=s.JSON.parse,oe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){E.call(this,"d")}function de(){E.call(this,"c")}u(he,E),u(de,E);var fe={},pe=null;function me(){return pe=pe||new Y}function ge(e){E.call(this,fe.Ia,e)}function ve(e){const t=me();J(t,new ge(t))}function ye(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ye(t,e))}function xe(e,t){E.call(this,fe.Ja,e),this.size=t}function we(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Se(){this.g=!0}function Ce(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,E),fe.STAT_EVENT="statevent",u(ye,E),fe.Ja="timingevent",u(xe,E),Se.prototype.ua=function(){this.g=!1},Se.prototype.info=function(){};var Ee,ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ne={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function je(){}function _e(e){return encodeURIComponent(String(e))}function Te(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ie(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(je,le),je.prototype.g=function(){return new XMLHttpRequest},Ee=new je;var De={},Le={};function Re(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),xt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=on(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let s=0;s<i.length;s++){const e=U(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?L(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var a="",o=s.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Pe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Oe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Le:(n=Number(t.substring(n,r)),isNaN(n)?De:(r+=1)+n>t.length?Le:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Ve(e,e.H)}function Ve(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=we(l(e.aa,e),t)}function ze(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function Ue(e){0==e.j.I||e.K||tn(e.j,e)}function Be(e){ze(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function $e(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ke(n.h,e)))if(!e.L&&Ke(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;en(n),qt(n)}Yt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=we(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else rn(n,11)}else if((e.L||n.g==e)&&en(n),!N(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Qe(s,s.h),s.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=an(r,r.L?r.ba:null,r.W),a.L){Xe(r.h,a);var o=a,c=r.O;c&&(o.H=c),o.D&&(ze(o),Fe(o)),r.g=a}else Xt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||rn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?rn(n,7):$t(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Ie.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Vt(e)?t.j():this.Y(e)},Ie.prototype.Y=function(e){try{if(e==this.g)e:{const l=Vt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||4!=l||7==c||ve(),ze(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Pe(e))return e.g.la();const t=zt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Vt(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return Be(e),Ue(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,be(12),Be(this),Ue(this);break e}Ce(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$e(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Oe(this,n),t==Le){4==l&&(this.m=4,be(14),e=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}if(t==De){this.m=4,be(15),Ce(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Ce(this.i,this.l,t,null),$e(this,t)}if(Pe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jt(o),o.P=!0,be(11))}}else Ce(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),Ue(this)}else Ce(this.i,this.l,n,null),$e(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?tn(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Vt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(N(e[r]))continue;var n=Te(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),Ue(this)}}}catch(l){}},Ie.prototype.cancel=function(){this.K=!0,Be(this)},Ie.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Be(this),this.m=2,Ue(this)):Ve(this,this.T-e)};var qe=class{constructor(e,t){this.g=e,this.map=t}};function He(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function We(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Ke(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qe(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ye(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}He.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=at(t[2]||""),this.g=at(t[3]||"",!0),nt(this,t[4]),this.h=at(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=at(t[7]||"")):(this.l=!1,this.i=new mt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?at(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof mt?(e.i=t,function(e,t){t&&!e.j&&(gt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(vt(this,t),xt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,ft)),e.i=new mt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function st(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(_e(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?dt:ht,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,pt)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ht=/[#\?:]/g,dt=/[#\?]/g,ft=/[#\?@]/g,pt=/#/g;function mt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function vt(e,t){gt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return gt(e),t=St(e,t),e.g.has(t)}function bt(e,t){gt(e);let n=[];if("string"==typeof t)yt(e,t)&&(n=n.concat(e.g.get(St(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function xt(e,t,n){vt(e,t),n.length>0&&(e.i=null,e.g.set(St(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new mt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Et(){this.g=new oe}function kt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Nt(e,t){Y.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function jt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function _t(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Tt(e)}function Tt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function It(e){let t="";return D(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function At(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=It(n),"string"==typeof e?null!=n&&_e(n):it(e,t,n))}function Dt(e){Y.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=mt.prototype).add=function(e,t){gt(this),this.i=null,e=St(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){gt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return gt(this),this.i=null,yt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=bt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=_e(n);n=bt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+_e(n[t])),e.push(r)}}return this.i=e.join("&")},u(kt,le),kt.prototype.g=function(){return new Nt(this.i,this.h)},u(Nt,Y),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Tt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,_t(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tt(this)),this.g&&(this.readyState=3,Tt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_t(this):Tt(this),3==this.readyState&&jt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,_t(this))},e.Na=function(e){this.g&&(this.response=e,_t(this))},e.ga=function(){this.g&&_t(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Dt,Y);var Lt=/^https?$/i,Rt=["POST","PUT"];function Mt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Pt(e),Ft(e)}function Pt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Ot(e){if(e.h&&void 0!==i)if(e.v&&4==Vt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Vt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!Lt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var a=Vt(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",Pt(e)}}finally{Ft(e)}}}function Ft(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Vt(e){return e.g?e.g.readyState:0}function zt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bt(e){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new He(e&&e.concurrentRequestLimit),this.Ba=new Et,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function $t(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Kt(e,n),(t=new Ie(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=on(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}sn(e)}function qt(e){e.g&&(Jt(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(s.clearTimeout(e.v),e.v=null),en(e),e.h.cancel(),e.m&&("number"==typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Wt(e){if(!We(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||w(),b||(y(),b=!0),x.add(t,e),e.D=0}}function Gt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Kt(e,r),e.u&&e.o&&At(r,e.u,e.o),n=new Ie(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Qe(e.h,n),Re(n,r,t)}function Kt(e,t){e.H&&D(e.H,function(e,n){it(t,n,e)}),e.l&&D({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var s=i[u].g;const n=i[u].map;if((s-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{s="req"+s+"_"||"";try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;a(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}catch(c){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Xt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||w(),b||(y(),b=!0),x.add(t,e),e.A=0}}function Yt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=we(l(e.Da,e),nn(e,e.A)),e.A++,!0)}function Jt(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Zt(e){e.g=new Ie(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Kt(e,t),e.u&&e.o&&At(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Me(n,e)}function en(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function tn(e,t){var n=null;if(e.g==t){en(e),Jt(e),e.g=null;var r=2}else{if(!Ke(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new xe(r,n)),Wt(e)}else Xt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.G.concat(e.i),0):1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta)||(e.m=we(l(e.Ea,e,t),nn(e,e.D)),e.D++,0)))}(e,t)||2==r&&Yt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:rn(e,5);break;case 4:rn(e,10);break;case 3:rn(e,6);break;default:rn(e,2)}}function nn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function rn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new Se;if(s.Image){const r=new Image;r.onload=c(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Ct,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Se;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ct(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ct(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),sn(e),Ht(e)}function sn(e){if(e.I=0,e.ja=[],e.l){const t=Ye(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function an(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Kt(e,r),r}function on(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Dt(new kt({ab:n})):new Dt(e.ma)).Fa(e.L),t}function ln(){}function cn(){}function un(e,t){Y.call(this),this.g=new Bt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!N(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!N(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fn(this)}function hn(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){de.call(this),this.status=1}function fn(e){this.g=e}(e=Dt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Mt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Mt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Ft(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),Dt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Ot(this):this.Xa())},e.Xa=function(){Ot(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Vt(this)>2?this.g.status:-1}catch(ut){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(ut){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ae(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Bt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=an(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ie(this,this.j,e);let s=this.o;if(this.U&&(s?(s=L(s),M(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Kt(this,n),s&&(this.R?t="headers="+_e(It(s))+"&"+t:this.u&&At(n,this.u,s)),Qe(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Re(i,n,null)):Re(i,n,t),this.I=2}}else 3==this.I&&(e?Gt(this,e):0==this.i.length||We(this.h)||Gt(this))},e.Da=function(){if(this.v=null,Zt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=we(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Zt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Yt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=ln.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},cn.prototype.g=function(e,t){return new un(e,t)},u(un,Y),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){$t(this.g)},un.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new qe(t.Ya++,e)),3==t.I&&Wt(t)},un.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,un.Z.N.call(this)},u(hn,he),u(dn,de),u(fn,ln),fn.prototype.ra=function(){J(this.g,"a")},fn.prototype.qa=function(e){J(this.g,new hn(e))},fn.prototype.pa=function(e){J(this.g,new dn)},fn.prototype.oa=function(){J(this.g,"b")},cn.prototype.createWebChannel=cn.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Op=function(){return new cn},Pp=function(){return me()},Mp=fe,Rp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Lp=ke,Ne.COMPLETE="complete",Dp=Ne,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",Y.prototype.listen=Y.prototype.J,Ap=ce,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,Ip=Dt}).apply(void 0!==Fp?Fp:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Vp="@firebase/firestore",zp="4.9.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Up.UNAUTHENTICATED=new Up(null),Up.GOOGLE_CREDENTIALS=new Up("google-credentials-uid"),Up.FIRST_PARTY=new Up("first-party-uid"),Up.MOCK_USER=new Up("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Bp="12.3.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new ff("@firebase/firestore");function qp(){return $p.logLevel}function Hp(e,...t){if($p.logLevel<=of.DEBUG){const n=t.map(Kp);$p.debug(`Firestore (${Bp}): ${e}`,...n)}}function Wp(e,...t){if($p.logLevel<=of.ERROR){const n=t.map(Kp);$p.error(`Firestore (${Bp}): ${e}`,...n)}}function Gp(e,...t){if($p.logLevel<=of.WARN){const n=t.map(Kp);$p.warn(`Firestore (${Bp}): ${e}`,...n)}}function Kp(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Xp(e,r,n)}function Xp(e,t,n){let r=`FIRESTORE (${Bp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(i){r+=" CONTEXT: "+n}throw Wp(r),new Error(r)}function Yp(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Xp(t,i,r)}function Jp(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class em extends Xd{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Up.UNAUTHENTICATED))}shutdown(){}}class im{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sm{constructor(e){this.t=e,this.currentUser=Up.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yp(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new tm;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tm,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Hp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Hp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tm)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Hp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Yp("string"==typeof t.accessToken,31837,{l:t}),new nm(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yp(null===e||"string"==typeof e,2055,{h:e}),new Up(e)}}class am{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Up.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class om{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new am(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Up.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cm{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!=(n=e)&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Yp(void 0===this.o,3512);const n=e=>{null!=e.error&&Hp("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Hp("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Hp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Hp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Yp("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new lm(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=um(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function dm(e,t){return e<t?-1:e>t?1:0}function fm(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return gm(n)===gm(i)?dm(n,i):gm(n)?1:-1}return dm(e.length,t.length)}const pm=55296,mm=57343;function gm(e){const t=e.charCodeAt(0);return t>=pm&&t<=mm}function vm(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="__name__";class bm{constructor(e,t,n){void 0===t?t=0:t>e.length&&Qp(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Qp(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===bm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bm?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=bm.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return dm(e.length,t.length)}static compareSegments(e,t){const n=bm.isNumericId(e),r=bm.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?bm.extractNumericId(e).compare(bm.extractNumericId(t)):fm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jp.fromString(e.substring(4,e.length-2))}}class xm extends bm{construct(e,t,n){return new xm(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new em(Zp.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new xm(t)}static emptyPath(){return new xm([])}}const wm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sm extends bm{construct(e,t,n){return new Sm(e,t,n)}static isValidIdentifier(e){return wm.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sm.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ym}static keyField(){return new Sm([ym])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new em(Zp.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new em(Zp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new em(Zp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new em(Zp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sm(t)}static emptyPath(){return new Sm([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.path=e}static fromPath(e){return new Cm(xm.fromString(e))}static fromName(e){return new Cm(xm.fromString(e).popFirst(5))}static empty(){return new Cm(xm.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xm.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xm.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Cm(new xm(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(e,t,n){if(!n)throw new em(Zp.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function km(e){if(!Cm.isDocumentKey(e))throw new em(Zp.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Nm(e){if(Cm.isDocumentKey(e))throw new em(Zp.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function jm(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function _m(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":Qp(12329,{type:typeof e})}function Tm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new em(Zp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_m(e);throw new em(Zp.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(e,t){const n={typeString:e};return t&&(n.value=t),n}function Am(e,t){if(!jm(e))throw new em(Zp.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new em(Zp.INVALID_ARGUMENT,n);return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=-62135596800,Lm=1e6;class Rm{static now(){return Rm.fromMillis(Date.now())}static fromDate(e){return Rm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Lm);return new Rm(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new em(Zp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new em(Zp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Dm)throw new em(Zp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new em(Zp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lm}_compareTo(e){return this.seconds===e.seconds?dm(this.nanoseconds,e.nanoseconds):dm(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rm._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Am(e,Rm._jsonSchema))return new Rm(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rm._jsonSchemaVersion="firestore/timestamp/1.0",Rm._jsonSchema={type:Im("string",Rm._jsonSchemaVersion),seconds:Im("number"),nanoseconds:Im("number")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Mm{static fromTimestamp(e){return new Mm(e)}static min(){return new Mm(new Rm(0,0))}static max(){return new Mm(new Rm(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(e){return new Om(e.readTime,e.key,-1)}class Om{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Om(Mm.min(),Cm.empty(),-1)}static max(){return new Om(Mm.max(),Cm.empty(),-1)}}function Fm(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Cm.comparator(e.documentKey,t.documentKey),0!==n?n:dm(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class Vm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(e){if(e.code!==Zp.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Hp("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qp(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Um((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Um?t:Um.resolve(t)}catch(t){return Um.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Um.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Um.reject(t)}static resolve(e){return new Um((t,n)=>{t(e)})}static reject(e){return new Um((t,n)=>{n(e)})}static waitFor(e){return new Um((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Um.resolve(!1);for(const n of e)t=t.next(e=>e?Um.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Um((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Um((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Bm(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$m.ce=-1;function qm(e){return null==e}function Hm(e){return 0===e&&1/e==-1/0}function Wm(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function Gm(e){return e+""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t){this.comparator=e,this.root=t||Zm.EMPTY}insert(e,t){return new Ym(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zm.BLACK,null,null))}remove(e){return new Ym(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jm(this.root,e,this.comparator,!0)}}class Jm{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zm{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Zm.RED,this.left=null!=r?r:Zm.EMPTY,this.right=null!=i?i:Zm.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Zm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zm.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Zm.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qp(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qp(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qp(27949);return e+(this.isRed()?0:1)}}Zm.EMPTY=null,Zm.RED=!0,Zm.BLACK=!1,Zm.EMPTY=new class{constructor(){this.size=0}get key(){throw Qp(57766)}get value(){throw Qp(16141)}get color(){throw Qp(16727)}get left(){throw Qp(29726)}get right(){throw Qp(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Zm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class eg{constructor(e){this.comparator=e,this.data=new Ym(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tg(this.data.getIterator())}getIteratorFrom(e){return new tg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof eg))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new eg(this.comparator);return t.data=e,t}}class tg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this.fields=e,e.sort(Sm.comparator)}static empty(){return new ng([])}unionWith(e){let t=new eg(Sm.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ng(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vm(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new rg("Invalid base64 string: "+t):t}}(e);return new ig(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ig(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ig.EMPTY_BYTE_STRING=new ig("");const sg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ag(e){if(Yp(!!e,39018),"string"==typeof e){let t=0;const n=sg.exec(e);if(Yp(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:og(e.seconds),nanos:og(e.nanos)}}function og(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lg(e){return"string"==typeof e?ig.fromBase64String(e):ig.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="server_timestamp",ug="__type__",hg="__previous_value__",dg="__local_write_time__";function fg(e){var t,n;return(null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{})[ug])?void 0:n.stringValue)===cg}function pg(e){const t=e.mapValue.fields[hg];return fg(t)?pg(t):t}function mg(e){const t=ag(e.mapValue.fields[dg].timestampValue);return new Rm(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const vg="(default)";class yg{constructor(e,t){this.projectId=e,this.database=t||vg}static empty(){return new yg("","")}get isDefaultDatabase(){return this.database===vg}isEqual(e){return e instanceof yg&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="__type__",xg="__max__",wg={fields:{__type__:{stringValue:xg}}},Sg="__vector__",Cg="value";function Eg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fg(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===xg}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;const r=null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{})[bg])?void 0:n.stringValue;return r===Sg}(e)?10:11:Qp(28295,{value:e})}function kg(e,t){if(e===t)return!0;const n=Eg(e);if(n!==Eg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mg(e).isEqual(mg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ag(e.timestampValue),r=ag(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,lg(e.bytesValue).isEqual(lg(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return og(e.geoPointValue.latitude)===og(t.geoPointValue.latitude)&&og(e.geoPointValue.longitude)===og(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return og(e.integerValue)===og(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=og(e.doubleValue),r=og(t.doubleValue);return n===r?Hm(n)===Hm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vm(e.arrayValue.values||[],t.arrayValue.values||[],kg);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Km(n)!==Km(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kg(n[i],r[i])))return!1;return!0}(e,t);default:return Qp(52216,{left:e})}var r}function Ng(e,t){return void 0!==(e.values||[]).find(e=>kg(e,t))}function jg(e,t){if(e===t)return 0;const n=Eg(e),r=Eg(t);if(n!==r)return dm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dm(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=og(e.integerValue||e.doubleValue),r=og(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _g(e.timestampValue,t.timestampValue);case 4:return _g(mg(e),mg(t));case 5:return fm(e.stringValue,t.stringValue);case 6:return function(e,t){const n=lg(e),r=lg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=dm(n[i],r[i]);if(0!==e)return e}return dm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=dm(og(e.latitude),og(t.latitude));return 0!==n?n:dm(og(e.longitude),og(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Tg(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null==(n=a[Cg])?void 0:n.arrayValue,c=null==(r=o[Cg])?void 0:r.arrayValue,u=dm((null==(i=null==l?void 0:l.values)?void 0:i.length)||0,(null==(s=null==c?void 0:c.values)?void 0:s.length)||0);return 0!==u?u:Tg(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===wg&&t===wg)return 0;if(e===wg)return 1;if(t===wg)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=fm(r[a],s[a]);if(0!==e)return e;const t=jg(n[r[a]],i[s[a]]);if(0!==t)return t}return dm(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Qp(23264,{he:n})}}function _g(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dm(e,t);const n=ag(e),r=ag(t),i=dm(n.seconds,r.seconds);return 0!==i?i:dm(n.nanos,r.nanos)}function Tg(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=jg(n[i],r[i]);if(e)return e}return dm(n.length,r.length)}function Ig(e){return Ag(e)}function Ag(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ag(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?lg(e.bytesValue).toBase64():"referenceValue"in e?function(e){return Cm.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ag(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ag(e.fields[i])}`;return n+"}"}(e.mapValue):Qp(61005,{value:e})}function Dg(e){switch(Eg(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=pg(e);return t?16+Dg(t):16;case 5:return 2*e.stringValue.length;case 6:return lg(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+Dg(t),0);case 10:case 11:return function(e){let t=0;return Qm(e.fields,(e,n)=>{t+=e.length+Dg(n)}),t}(e.mapValue);default:throw Qp(13486,{value:e})}}function Lg(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Rg(e){return!!e&&"integerValue"in e}function Mg(e){return!!e&&"arrayValue"in e}function Pg(e){return!!e&&"nullValue"in e}function Og(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fg(e){return!!e&&"mapValue"in e}function Vg(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Qm(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Vg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vg(e.arrayValue.values[n]);return t}return{...e}}class zg{constructor(e){this.value=e}static empty(){return new zg({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vg(t)}setAll(e){let t=Sm.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Vg(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Fg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kg(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Fg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Qm(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new zg(Vg(this.value))}}function Ug(e){const t=[];return Qm(e.fields,(e,n)=>{const r=new Sm([e]);if(Fg(n)){const e=Ug(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ng(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Bg{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bg(e,0,Mm.min(),Mm.min(),Mm.min(),zg.empty(),0)}static newFoundDocument(e,t,n,r){return new Bg(e,1,t,Mm.min(),n,r,0)}static newNoDocument(e,t){return new Bg(e,2,t,Mm.min(),Mm.min(),zg.empty(),0)}static newUnknownDocument(e,t){return new Bg(e,3,t,Mm.min(),Mm.min(),zg.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zg.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zg.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mm.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bg(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){this.position=e,this.inclusive=t}}function qg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Cm.comparator(Cm.fromName(a.referenceValue),n.key):jg(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Hg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kg(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{}class Qg extends Kg{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new nv(e,t,n):"array-contains"===t?new av(e,n):"in"===t?new ov(e,n):"not-in"===t?new lv(e,n):"array-contains-any"===t?new cv(e,n):new Qg(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new rv(e,n):new iv(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(jg(t,this.value)):null!==t&&Eg(this.value)===Eg(t)&&this.matchesComparison(jg(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qp(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xg extends Kg{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Xg(e,t)}matches(e){return Yg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yg(e){return"and"===e.op}function Jg(e){return function(e){for(const t of e.filters)if(t instanceof Xg)return!1;return!0}(e)&&Yg(e)}function Zg(e){if(e instanceof Qg)return e.field.canonicalString()+e.op.toString()+Ig(e.value);if(Jg(e))return e.filters.map(e=>Zg(e)).join(",");{const t=e.filters.map(e=>Zg(e)).join(",");return`${e.op}(${t})`}}function ev(e,t){return e instanceof Qg?(n=e,(r=t)instanceof Qg&&n.op===r.op&&n.field.isEqual(r.field)&&kg(n.value,r.value)):e instanceof Xg?function(e,t){return t instanceof Xg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ev(n,t.filters[r]),!0)}(e,t):void Qp(19439);var n,r}function tv(e){return e instanceof Qg?`${(t=e).field.canonicalString()} ${t.op} ${Ig(t.value)}`:e instanceof Xg?function(e){return e.op.toString()+" {"+e.getFilters().map(tv).join(" ,")+"}"}(e):"Filter";var t}class nv extends Qg{constructor(e,t,n){super(e,t,n),this.key=Cm.fromName(n.referenceValue)}matches(e){const t=Cm.comparator(e.key,this.key);return this.matchesComparison(t)}}class rv extends Qg{constructor(e,t){super(e,"in",t),this.keys=sv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iv extends Qg{constructor(e,t){super(e,"not-in",t),this.keys=sv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sv(e,t){var n;return((null==(n=t.arrayValue)?void 0:n.values)||[]).map(e=>Cm.fromName(e.referenceValue))}class av extends Qg{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mg(t)&&Ng(t.arrayValue,this.value)}}class ov extends Qg{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ng(this.value.arrayValue,t)}}class lv extends Qg{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ng(this.value.arrayValue,t)}}class cv extends Qg{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ng(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function hv(e,t=null,n=[],r=[],i=null,s=null,a=null){return new uv(e,t,n,r,i,s,a)}function dv(e){const t=Jp(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Zg(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),qm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ig(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ig(e)).join(",")),t.Te=e}return t.Te}function fv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Gg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ev(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hg(e.startAt,t.startAt)&&Hg(e.endAt,t.endAt)}function pv(e){return Cm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gv(e){return new mv(e)}function vv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function yv(e){return null!==e.collectionGroup}function bv(e){const t=Jp(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new eg(Sm.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Wg(r,n))}),e.has(Sm.keyField().canonicalString())||t.Ie.push(new Wg(Sm.keyField(),n))}return t.Ie}function xv(e){const t=Jp(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return hv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Wg(e.field,t)});const n=e.endAt?new $g(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new $g(e.startAt.position,e.startAt.inclusive):null;return hv(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,bv(e))),t.Ee}function wv(e,t){const n=e.filters.concat([t]);return new mv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Sv(e,t,n){return new mv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cv(e,t){return fv(xv(e),xv(t))&&e.limitType===t.limitType}function Ev(e){return`${dv(xv(e))}|lt:${e.limitType}`}function kv(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>tv(e)).join(", ")}]`),qm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ig(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ig(e)).join(",")),`Target(${t})`}(xv(e))}; limitType=${e.limitType})`}function Nv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Cm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of bv(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=qg(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,bv(n),r)||n.endAt&&!function(e,t,n){const r=qg(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,bv(n),r)));var n,r}function jv(e){return(t,n)=>{let r=!1;for(const i of bv(e)){const e=_v(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _v(e,t,n){const r=e.field.isKeyField()?Cm.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jg(r,i):Qp(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Qp(19790,{direction:e.dir})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Qm(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Xm(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Ym(Cm.comparator);function Av(){return Iv}const Dv=new Ym(Cm.comparator);function Lv(...e){let t=Dv;for(const n of e)t=t.insert(n.key,n);return t}function Rv(e){let t=Dv;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Mv(){return Ov()}function Pv(){return Ov()}function Ov(){return new Tv(e=>e.toString(),(e,t)=>e.isEqual(t))}const Fv=new Ym(Cm.comparator),Vv=new eg(Cm.comparator);function zv(...e){let t=Vv;for(const n of e)t=t.add(n);return t}const Uv=new eg(dm);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Bv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hm(t)?"-0":t}}function $v(e){return{integerValue:""+e}}function qv(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Hm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?$v(t):Bv(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this._=void 0}}function Wv(e,t,n){return e instanceof Qv?function(e,t){const n={fields:{[ug]:{stringValue:cg},[dg]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fg(t)&&(t=pg(t)),t&&(n.fields[hg]=t),{mapValue:n}}(n,t):e instanceof Xv?Yv(e,t):e instanceof Jv?Zv(e,t):function(e,t){const n=Kv(e,t),r=ty(n)+ty(e.Ae);return Rg(n)&&Rg(e.Ae)?$v(r):Bv(e.serializer,r)}(e,t)}function Gv(e,t,n){return e instanceof Xv?Yv(e,t):e instanceof Jv?Zv(e,t):n}function Kv(e,t){return e instanceof ey?Rg(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class Qv extends Hv{}class Xv extends Hv{constructor(e){super(),this.elements=e}}function Yv(e,t){const n=ny(t);for(const r of e.elements)n.some(e=>kg(e,r))||n.push(r);return{arrayValue:{values:n}}}class Jv extends Hv{constructor(e){super(),this.elements=e}}function Zv(e,t){let n=ny(t);for(const r of e.elements)n=n.filter(e=>!kg(e,r));return{arrayValue:{values:n}}}class ey extends Hv{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ty(e){return og(e.integerValue||e.doubleValue)}function ny(e){return Mg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ry{constructor(e,t){this.version=e,this.transformResults=t}}class iy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new iy}static exists(e){return new iy(void 0,e)}static updateTime(e){return new iy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ay{}function oy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new vy(e.key,iy.none()):new dy(e.key,e.data,iy.none());{const n=e.data,r=zg.empty();let i=new eg(Sm.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new fy(e.key,r,new ng(i.toArray()),iy.none())}}function ly(e,t,n){var r;e instanceof dy?function(e,t,n){const r=e.value.clone(),i=my(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fy?function(e,t,n){if(!sy(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=my(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(py(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function cy(e,t,n,r){return e instanceof dy?function(e,t,n,r){if(!sy(e.precondition,t))return n;const i=e.value.clone(),s=gy(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fy?function(e,t,n,r){if(!sy(e.precondition,t))return n;const i=gy(e.fieldTransforms,r,t),s=t.data;return s.setAll(py(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=t,s=n,sy(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function uy(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Kv(r.transform,e||null);null!=i&&(null===n&&(n=zg.empty()),n.set(r.field,i))}return n||null}function hy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&vm(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof Xv&&r instanceof Xv||n instanceof Jv&&r instanceof Jv?vm(n.elements,r.elements,kg):n instanceof ey&&r instanceof ey?kg(n.Ae,r.Ae):n instanceof Qv&&r instanceof Qv);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class dy extends ay{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fy extends ay{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function py(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function my(e,t,n){const r=new Map;Yp(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Gv(a,o,n[i]))}return r}function gy(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Wv(e,s,t))}return r}class vy extends ay{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yy extends ay{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ly(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=cy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=cy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Pv();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=oy(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Mm.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zv())}isEqual(e){return this.batchId===e.batchId&&vm(this.mutations,e.mutations,(e,t)=>hy(e,t))&&vm(this.baseMutations,e.baseMutations,(e,t)=>hy(e,t))}}class xy{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Yp(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Fv;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new xy(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cy,Ey;function ky(e){if(void 0===e)return Wp("GRPC error has no .code"),Zp.UNKNOWN;switch(e){case Cy.OK:return Zp.OK;case Cy.CANCELLED:return Zp.CANCELLED;case Cy.UNKNOWN:return Zp.UNKNOWN;case Cy.DEADLINE_EXCEEDED:return Zp.DEADLINE_EXCEEDED;case Cy.RESOURCE_EXHAUSTED:return Zp.RESOURCE_EXHAUSTED;case Cy.INTERNAL:return Zp.INTERNAL;case Cy.UNAVAILABLE:return Zp.UNAVAILABLE;case Cy.UNAUTHENTICATED:return Zp.UNAUTHENTICATED;case Cy.INVALID_ARGUMENT:return Zp.INVALID_ARGUMENT;case Cy.NOT_FOUND:return Zp.NOT_FOUND;case Cy.ALREADY_EXISTS:return Zp.ALREADY_EXISTS;case Cy.PERMISSION_DENIED:return Zp.PERMISSION_DENIED;case Cy.FAILED_PRECONDITION:return Zp.FAILED_PRECONDITION;case Cy.ABORTED:return Zp.ABORTED;case Cy.OUT_OF_RANGE:return Zp.OUT_OF_RANGE;case Cy.UNIMPLEMENTED:return Zp.UNIMPLEMENTED;case Cy.DATA_LOSS:return Zp.DATA_LOSS;default:return Qp(39323,{code:e})}}(Ey=Cy||(Cy={}))[Ey.OK=0]="OK",Ey[Ey.CANCELLED=1]="CANCELLED",Ey[Ey.UNKNOWN=2]="UNKNOWN",Ey[Ey.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ey[Ey.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ey[Ey.NOT_FOUND=5]="NOT_FOUND",Ey[Ey.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ey[Ey.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ey[Ey.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ey[Ey.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ey[Ey.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ey[Ey.ABORTED=10]="ABORTED",Ey[Ey.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ey[Ey.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ey[Ey.INTERNAL=13]="INTERNAL",Ey[Ey.UNAVAILABLE=14]="UNAVAILABLE",Ey[Ey.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ny=new jp([4294967295,4294967295],0);function jy(e){const t=(new TextEncoder).encode(e),n=new _p;return n.update(t),new Uint8Array(n.digest())}function _y(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new jp([n,r],0),new jp([i,s],0)]}class Ty{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Iy(`Invalid padding: ${t}`);if(n<0)throw new Iy(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Iy(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Iy(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=jp.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(jp.fromNumber(n)));return 1===r.compare(Ny)&&(r=new jp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=jy(e),[n,r]=_y(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ty(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=jy(e),[n,r]=_y(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Iy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Dy.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ay(Mm.min(),r,new Ym(dm),Av(),zv())}}class Dy{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Dy(n,t,zv(),zv(),zv())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Ry{constructor(e,t){this.targetId=e,this.Ce=t}}class My{constructor(e,t,n=ig.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Py{constructor(){this.ve=0,this.Fe=Vy(),this.Me=ig.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zv(),t=zv(),n=zv();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Qp(38017,{changeType:i})}}),new Dy(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Vy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yp(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Oy{constructor(e){this.Ge=e,this.ze=new Map,this.je=Av(),this.Je=Fy(),this.He=Fy(),this.Ye=new Ym(dm)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Qp(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(pv(i))if(0===n){const e=new Cm(i.path);this.et(t,e,Bg.newNoDocument(e,Mm.min()))}else Yp(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=lg(n).toUint8Array()}catch(o){if(o instanceof rg)return Gp("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new Ty(s,r,i)}catch(o){return Gp(o instanceof Iy?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&pv(i.target)){const t=new Cm(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Bg.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=zv();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Ay(e,t,this.Ye,this.je,n);return this.je=Av(),this.Je=Fy(),this.He=Fy(),this.Ye=new Ym(dm),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Py,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new eg(dm),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new eg(dm),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Hp("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Py),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Fy(){return new Ym(Cm.comparator)}function Vy(){return new Ym(Cm.comparator)}const zy={asc:"ASCENDING",desc:"DESCENDING"},Uy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},By={and:"AND",or:"OR"};class $y{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qy(e,t){return e.useProto3Json||qm(t)?t:{value:t}}function Hy(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wy(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Gy(e,t){return Hy(e,t.toTimestamp())}function Ky(e){return Yp(!!e,49232),Mm.fromTimestamp(function(e){const t=ag(e);return new Rm(t.seconds,t.nanos)}(e))}function Qy(e,t){return Xy(e,t).canonicalString()}function Xy(e,t){const n=(r=e,new xm(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function Yy(e){const t=xm.fromString(e);return Yp(mb(t),10190,{key:t.toString()}),t}function Jy(e,t){return Qy(e.databaseId,t.path)}function Zy(e,t){const n=Yy(t);if(n.get(1)!==e.databaseId.projectId)throw new em(Zp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new em(Zp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Cm(nb(n))}function eb(e,t){return Qy(e.databaseId,t)}function tb(e){return new xm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nb(e){return Yp(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function rb(e,t,n){return{name:Jy(e,t),fields:n.value.mapValue.fields}}function ib(e,t){return{documents:[eb(e,t.path)]}}function sb(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eb(e,i);const s=function(e){if(0!==e.length)return fb(Xg.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:hb((t=e).field),direction:lb(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=qy(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i};var l}function ab(e){let t=function(e){const t=Yy(e);return 4===t.length?xm.emptyPath():nb(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yp(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ob(e);return t instanceof Xg&&Jg(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new Wg(db((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,qm(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new $g(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new $g(n,t)}(n.endAt)),function(e,t,n,r,i,s,a,o){return new mv(e,t,n,r,i,s,a,o)}(t,i,a,s,o,"F",l,c)}function ob(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=db(e.unaryFilter.field);return Qg.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=db(e.unaryFilter.field);return Qg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=db(e.unaryFilter.field);return Qg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=db(e.unaryFilter.field);return Qg.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qp(61313);default:return Qp(60726)}}(e):void 0!==e.fieldFilter?(t=e,Qg.create(db(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qp(58110);default:return Qp(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return Xg.create(e.compositeFilter.filters.map(e=>ob(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Qp(1026)}}(e.compositeFilter.op))}(e):Qp(30097,{filter:e});var t}function lb(e){return zy[e]}function cb(e){return Uy[e]}function ub(e){return By[e]}function hb(e){return{fieldPath:e.canonicalString()}}function db(e){return Sm.fromServerFormat(e.fieldPath)}function fb(e){return e instanceof Qg?function(e){if("=="===e.op){if(Og(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NAN"}};if(Pg(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Og(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NOT_NAN"}};if(Pg(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hb(e.field),op:cb(e.op),value:e.value}}}(e):e instanceof Xg?function(e){const t=e.getFilters().map(e=>fb(e));return 1===t.length?t[0]:{compositeFilter:{op:ub(e.op),filters:t}}}(e):Qp(54877,{filter:e})}function pb(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function mb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,t,n,r,i=Mm.min(),s=Mm.min(),a=ig.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new gb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.yt=e}}function yb(e){const t=ab({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Sv(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.Cn=new xb}addToCollectionParentIndex(e,t){return this.Cn.add(t),Um.resolve()}getCollectionParents(e,t){return Um.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Um.resolve()}deleteFieldIndex(e,t){return Um.resolve()}deleteAllFieldIndexes(e){return Um.resolve()}createTargetIndexes(e,t){return Um.resolve()}getDocumentsMatchingTarget(e,t){return Um.resolve(null)}getIndexType(e,t){return Um.resolve(0)}getFieldIndexes(e,t){return Um.resolve([])}getNextCollectionGroupToUpdate(e){return Um.resolve(null)}getMinOffset(e,t){return Um.resolve(Om.min())}getMinOffsetFromCollectionGroup(e,t){return Um.resolve(Om.min())}updateCollectionGroup(e,t,n){return Um.resolve()}updateIndexEntries(e,t){return Um.resolve()}}class xb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new eg(xm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new eg(xm.comparator)).toArray()}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sb=41943040;class Cb{static withCacheSize(e){return new Cb(e,Cb.DEFAULT_COLLECTION_PERCENTILE,Cb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cb.DEFAULT_COLLECTION_PERCENTILE=10,Cb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cb.DEFAULT=new Cb(Sb,Cb.DEFAULT_COLLECTION_PERCENTILE,Cb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cb.DISABLED=new Cb(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Eb{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eb(0)}static cr(){return new Eb(-1)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="LruGarbageCollector";function Nb([e,t],[n,r]){const i=dm(e,n);return 0===i?dm(t,r):i}class jb{constructor(e){this.Ir=e,this.buffer=new eg(Nb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Nb(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _b{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Hp(kb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Bm(e)?Hp(kb,"Ignoring IndexedDB error during garbage collection: ",e):await zm(e)}await this.Vr(3e5)})}}class Tb{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Um.resolve($m.ce);const n=new jb(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Hp("LruGarbageCollector","Garbage collection skipped; disabled"),Um.resolve(wb)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Hp("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Hp("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),qp()<=of.DEBUG&&Hp("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${i} targets in `+(o-a)+`ms\n\tRemoved ${e} documents in `+(l-o)+`ms\nTotal Duration: ${l-c}ms`),Um.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ib{constructor(){this.changes=new Tv(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bg.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Um.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&cy(n.mutation,e,ng.empty(),Rm.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,zv()).next(()=>t))}getLocalViewOfDocuments(e,t,n=zv()){const r=Mv();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Lv();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Mv();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,zv()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Av();const s=Ov(),a=Ov();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof fy)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),cy(a.mutation,t,a.mutation.getFieldMask(),Rm.now())):s.set(t.key,ng.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>a.set(e,new Ab(t,s.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){const n=Ov();let r=new Ym((e,t)=>e-t),i=zv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||ng.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||zv()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Pv();l.forEach(e=>{if(!i.has(e)){const r=oy(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Um.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return i=t,Cm.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Um.resolve(Mv());let a=-1,o=i;return s.next(t=>Um.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Um.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,zv())).next(e=>({batchId:a,changes:Rv(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Cm(t)).next(e=>{let t=Lv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Lv();return this.indexManager.getCollectionParents(e,i).next(a=>Um.forEach(a,a=>{const o=(l=t,c=a.child(i),new mv(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Bg.newInvalidDocument(r)))});let n=Lv();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&cy(s.mutation,r,ng.empty(),Rm.now()),Nv(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Um.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,{id:(n=t).id,version:n.version,createTime:Ky(n.createTime)}),Um.resolve();var n}getNamedQuery(e,t){return Um.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,{name:(n=t).name,query:yb(n.bundledQuery),readTime:Ky(n.readTime)}),Um.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.overlays=new Ym(Cm.comparator),this.qr=new Map}getOverlay(e,t){return Um.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Mv();return Um.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Um.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Um.resolve()}getOverlaysForCollection(e,t,n){const r=Mv(),i=t.length+1,s=new Cm(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Um.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ym((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Mv(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Mv(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Um.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new wy(t,n));let i=this.qr.get(t);void 0===i&&(i=zv(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.sessionToken=ig.EMPTY_BYTE_STRING}getSessionToken(e){return Um.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Um.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.Qr=new eg(Ob.$r),this.Ur=new eg(Ob.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Ob(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Ob(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Cm(new xm([])),n=new Ob(t,e),r=new Ob(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Cm(new xm([])),n=new Ob(t,e),r=new Ob(t,e+1);let i=zv();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ob(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ob{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Cm.comparator(e.key,t.key)||dm(e.Yr,t.Yr)}static Kr(e,t){return dm(e.Yr,t.Yr)||Cm.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new eg(Ob.$r)}checkEmpty(e){return Um.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new by(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Zr=this.Zr.add(new Ob(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Um.resolve(s)}lookupMutationBatch(e,t){return Um.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Um.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Um.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return Um.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ob(t,0),r=new Ob(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Um.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new eg(dm);return t.forEach(e=>{const t=new Ob(e,0),r=new Ob(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Um.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Cm.isDocumentKey(i)||(i=i.child(""));const s=new Ob(new Cm(i),0);let a=new eg(dm);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},s),Um.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Yp(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Um.forEach(t.mutations,r=>{const i=new Ob(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Ob(t,0),r=this.Zr.firstAfterOrEqual(n);return Um.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Um.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.ri=e,this.docs=new Ym(Cm.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Um.resolve(n?n.document.mutableCopy():Bg.newInvalidDocument(t))}getEntries(e,t){let n=Av();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Bg.newInvalidDocument(e))}),Um.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Av();const s=t.path,a=new Cm(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Fm(Pm(a),n)<=0||(r.has(a.key)||Nv(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Um.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Qp(9500)}ii(e,t){return Um.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new zb(this)}getSize(e){return Um.resolve(this.size)}}class zb extends Ib{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Um.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.persistence=e,this.si=new Tv(e=>dv(e),fv),this.lastRemoteSnapshotVersion=Mm.min(),this.highestTargetId=0,this.oi=0,this._i=new Pb,this.targetCount=0,this.ai=Eb.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Um.resolve()}getLastRemoteSnapshotVersion(e){return Um.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Um.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Um.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Um.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Eb(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Um.resolve()}updateTargetData(e,t){return this.Pr(t),Um.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Um.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Um.waitFor(i).next(()=>r)}getTargetCount(e){return Um.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Um.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Um.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Um.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Um.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Um.resolve(n)}containsKey(e,t){return Um.resolve(this._i.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t){this.ui={},this.overlays={},this.ci=new $m(0),this.li=!1,this.li=!0,this.hi=new Mb,this.referenceDelegate=e(this),this.Pi=new Ub(this),this.indexManager=new bb,this.remoteDocumentCache=new Vb(e=>this.referenceDelegate.Ti(e)),this.serializer=new vb(t),this.Ii=new Lb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Fb(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Hp("MemoryPersistence","Starting transaction:",e);const r=new $b(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Um.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class $b extends Vm{constructor(e){super(),this.currentSequenceNumber=e}}class qb{constructor(e){this.persistence=e,this.Ri=new Pb,this.Vi=null}static mi(e){return new qb(e)}get fi(){if(this.Vi)return this.Vi;throw Qp(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Um.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Um.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Um.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Um.forEach(this.fi,n=>{const r=Cm.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Mm.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Um.or([()=>Um.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Hb{constructor(e,t){this.persistence=e,this.pi=new Tv(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Gm(t)),t=Wm(e.get(n),t);return Gm(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new Tb(e,t)}(this,t)}static mi(e,t){return new Hb(e,t)}Ei(){}di(e){return Um.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Um.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Um.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Mm.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Um.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Um.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Um.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Um.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dg(e.data.value)),t}br(e,t,n){return Um.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Um.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=zv(),r=zv();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Wb(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Qd()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Gb;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(qp()<=of.DEBUG&&Hp("QueryEngine","SDK will not create cache indexes for query:",kv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Um.resolve()):(qp()<=of.DEBUG&&Hp("QueryEngine","Query:",kv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(qp()<=of.DEBUG&&Hp("QueryEngine","The SDK decides to create cache indexes for query:",kv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xv(t))):Um.resolve())}ys(e,t){if(vv(t))return Um.resolve(null);let n=xv(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Sv(t,null,"F"),n=xv(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=zv(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,Sv(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return vv(t)||r.isEqual(Mm.min())?Um.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?Um.resolve(null):(qp()<=of.DEBUG&&Hp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kv(t)),this.vs(e,s,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Mm.fromTimestamp(1e9===r?new Rm(n+1,0):new Rm(n,r));return new Om(i,Cm.empty(),t)}(r,-1)).next(e=>e))})}Ds(e,t){let n=new eg(jv(e));return t.forEach((t,r)=>{Nv(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return qp()<=of.DEBUG&&Hp("QueryEngine","Using full collection scan to execute query:",kv(t)),this.ps.getDocumentsMatchingQuery(e,t,Om.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="LocalStore";class Xb{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ym(dm),this.xs=new Tv(e=>dv(e),fv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Db(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}async function Yb(e,t){const n=Jp(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=zv();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Jb(e){const t=Jp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Zb(e,t){const n=Jp(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ig.EMPTY_BYTE_STRING,Mm.min()).withLastLimboFreeSnapshotVersion(Mm.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=Av(),l=zv();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(function(e,t,n){let r=zv(),i=zv();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Av();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Mm.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Hp(Qb,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:r,qs:i}})}(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(Mm.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Um.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}function ex(e,t){const n=Jp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function tx(e,t,n){const r=Jp(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(a){if(!Bm(a))throw a;Hp(Qb,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function nx(e,t,n){const r=Jp(e);let i=Mm.min(),s=zv();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Jp(e),i=r.xs.get(n);return void 0!==i?Um.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,xv(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Mm.min(),n?s:zv())).next(e=>(function(e,t,n){let r=e.Os.get(t)||Mm.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Qs:s})))}class rx{constructor(){this.activeTargetIds=Uv}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ix{constructor(){this.Mo=new rx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{Oo(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="ConnectivityMonitor";class ox{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Hp(ax,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Hp(ax,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lx=null;function cx(){return null===lx?lx=268435456+Math.round(2147483648*Math.random()):lx++,"0x"+lx.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const ux="RestConnection",hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===vg?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){const s=cx(),a=this.zo(e,t.toUriEncodedString());Hp(ux,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(a),c=Hd(l);return this.Jo(e,a,o,n,c).then(t=>(Hp(ux,`Received RPC '${e}' ${s}: `,t),t),t=>{throw Gp(ux,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=hx[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="WebChannelConnection";class mx extends dx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=cx();return new Promise((i,a)=>{const o=new Ip;o.setWithCredentials(!0),o.listenOnce(Dp.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Lp.NO_ERROR:const t=o.getResponseJson();Hp(px,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case Lp.TIMEOUT:Hp(px,`RPC '${e}' ${s} timed out`),a(new em(Zp.DEADLINE_EXCEEDED,"Request time out"));break;case Lp.HTTP_ERROR:const n=o.getStatus();if(Hp(px,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Zp).indexOf(t)>=0?t:Zp.UNKNOWN}(t.status);a(new em(e,t.message))}else a(new em(Zp.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new em(Zp.UNAVAILABLE,"Connection failed."));break;default:Qp(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Hp(px,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(r);Hp(px,`RPC '${e}' ${s} sending request:`,r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=cx(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Op(),a=Pp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Hp(px,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let h=!1,d=!1;const f=new fx({Yo:t=>{d?Hp(px,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Hp(px,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),Hp(px,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,Ap.EventType.OPEN,()=>{d||(Hp(px,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,Ap.EventType.CLOSE,()=>{d||(d=!0,Hp(px,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,Ap.EventType.ERROR,t=>{d||(d=!0,Gp(px,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new em(Zp.UNAVAILABLE,"The operation could not be completed")))}),p(u,Ap.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];Yp(!!i,16349);const s=i,a=(null==s?void 0:s.error)||(null==(n=s[0])?void 0:n.error);if(a){Hp(px,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Cy[e];if(void 0!==t)return ky(t)}(t),i=a.message;void 0===n&&(n=Zp.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.a_(new em(n,i)),u.close()}else Hp(px,`RPC '${e}' stream ${r} received:`,i),f.u_(i)}}),p(a,Mp.STAT_EVENT,t=>{t.stat===Rp.PROXY?Hp(px,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Rp.NOPROXY&&Hp(px,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function gx(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(e){return new $y(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Hp("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="PersistentStream";class xx{constructor(e,t,n,r,i,s,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yx(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Zp.RESOURCE_EXHAUSTED?(Wp(t.toString()),Wp("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Zp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{const e=new em(Zp.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Hp(bx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Hp(bx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wx extends xx{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Qp(39313,{state:r}),s=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Yp(void 0===t||"string"==typeof t,58123),ig.fromBase64String(t||"")):(Yp(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ig.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?Zp.UNKNOWN:ky(e.code);return new em(t,e.message||"")}(o);n=new My(i,s,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zy(e,r.document.name),s=Ky(r.document.updateTime),a=r.document.createTime?Ky(r.document.createTime):Mm.min(),o=new zg({mapValue:{fields:r.document.fields}}),l=Bg.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ly(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Zy(e,r.document),s=r.readTime?Ky(r.readTime):Mm.min(),a=Bg.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Ly([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Zy(e,r.document),s=r.removedTargetIds||[];n=new Ly([],s,i,null)}else{if(!("filter"in t))return Qp(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Sy(r,i),a=e.targetId;n=new Ry(a,s)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Mm.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Mm.min():t.readTime?Ky(t.readTime):Mm.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=tb(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=pv(r)?{documents:ib(e,r)}:{query:sb(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Wy(e,t.resumeToken);const r=qy(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Mm.min())>0){n.readTime=Hy(e,t.snapshotVersion.toTimestamp());const r=qy(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qp(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=tb(this.serializer),t.removeTarget=e,this.q_(t)}}class Sx extends xx{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Yp(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yp(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Yp(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Yp(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Ky(e.updateTime):Ky(t);return n.isEqual(Mm.min())&&(n=Ky(t)),new ry(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ky(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=tb(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof dy)n={update:rb(e,t.key,t.value)};else if(t instanceof vy)n={delete:Jy(e,t.key)};else if(t instanceof fy)n={update:rb(e,t.key,t.data),updateMask:pb(t.fieldMask)};else{if(!(t instanceof yy))return Qp(16599,{Vt:t.type});n={verify:Jy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Qv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ey)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Qp(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:Gy(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Qp(27497))),n;var r,i}(this.serializer,e))};this.q_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{}class Ex extends Cx{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new em(Zp.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(e,Xy(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Zp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new em(Zp.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,Xy(t,n),r,s,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Zp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new em(Zp.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wp(t),this.aa=!1):Hp("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="RemoteStore";class jx{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Px(this)&&(Hp(Nx,"Restarting streams for network reachability change."),await async function(e){const t=Jp(e);t.Ea.add(4),await Tx(t),t.Ra.set("Unknown"),t.Ea.delete(4),await _x(t)}(this))})}),this.Ra=new kx(n,r)}}async function _x(e){if(Px(e))for(const t of e.da)await t(!0)}async function Tx(e){for(const t of e.da)await t(!1)}function Ix(e,t){const n=Jp(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Mx(n)?Rx(n):ew(n).O_()&&Dx(n,t))}function Ax(e,t){const n=Jp(e),r=ew(n);n.Ia.delete(t),r.O_()&&Lx(n,t),0===n.Ia.size&&(r.O_()?r.L_():Px(n)&&n.Ra.set("Unknown"))}function Dx(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mm.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ew(e).Y_(t)}function Lx(e,t){e.Va.Ue(t),ew(e).Z_(t)}function Rx(e){e.Va=new Oy({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ew(e).start(),e.Ra.ua()}function Mx(e){return Px(e)&&!ew(e).x_()&&e.Ia.size>0}function Px(e){return 0===Jp(e).Ea.size}function Ox(e){e.Va=void 0}async function Fx(e){e.Ra.set("Online")}async function Vx(e){e.Ia.forEach((t,n)=>{Dx(e,t)})}async function zx(e,t){Ox(e),Mx(e)?(e.Ra.ha(t),Rx(e)):e.Ra.set("Unknown")}async function Ux(e,t,n){if(e.Ra.set("Online"),t instanceof My&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(r){Hp(Nx,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Bx(e,r)}else if(t instanceof Ly?e.Va.Ze(t):t instanceof Ry?e.Va.st(t):e.Va.tt(t),!n.isEqual(Mm.min()))try{const t=await Jb(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(ig.EMPTY_BYTE_STRING,r.snapshotVersion)),Lx(e,t);const i=new gb(r.target,t,n,r.sequenceNumber);Dx(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){Hp(Nx,"Failed to raise snapshot:",i),await Bx(e,i)}}async function Bx(e,t,n){if(!Bm(t))throw t;e.Ea.add(1),await Tx(e),e.Ra.set("Offline"),n||(n=()=>Jb(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Hp(Nx,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await _x(e)})}function $x(e,t){return t().catch(n=>Bx(e,n,t))}async function qx(e){const t=Jp(e),n=tw(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:-1;for(;Hx(t);)try{const e=await ex(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Wx(t,e)}catch(i){await Bx(t,i)}Gx(t)&&Kx(t)}function Hx(e){return Px(e)&&e.Ta.length<10}function Wx(e,t){e.Ta.push(t);const n=tw(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Gx(e){return Px(e)&&!tw(e).x_()&&e.Ta.length>0}function Kx(e){tw(e).start()}async function Qx(e){tw(e).ra()}async function Xx(e){const t=tw(e);for(const n of e.Ta)t.ea(n.mutations)}async function Yx(e,t,n){const r=e.Ta.shift(),i=xy.from(r,t,n);await $x(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await qx(e)}async function Jx(e,t){t&&tw(e).X_&&await async function(e,t){if(function(e){switch(e){case Zp.OK:return Qp(64938);case Zp.CANCELLED:case Zp.UNKNOWN:case Zp.DEADLINE_EXCEEDED:case Zp.RESOURCE_EXHAUSTED:case Zp.INTERNAL:case Zp.UNAVAILABLE:case Zp.UNAUTHENTICATED:return!1;case Zp.INVALID_ARGUMENT:case Zp.NOT_FOUND:case Zp.ALREADY_EXISTS:case Zp.PERMISSION_DENIED:case Zp.FAILED_PRECONDITION:case Zp.ABORTED:case Zp.OUT_OF_RANGE:case Zp.UNIMPLEMENTED:case Zp.DATA_LOSS:return!0;default:return Qp(15467,{code:e})}}(n=t.code)&&n!==Zp.ABORTED){const n=e.Ta.shift();tw(e).B_(),await $x(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await qx(e)}var n}(e,t),Gx(e)&&Kx(e)}async function Zx(e,t){const n=Jp(e);n.asyncQueue.verifyOperationInProgress(),Hp(Nx,"RemoteStore received new credentials");const r=Px(n);n.Ea.add(3),await Tx(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await _x(n)}function ew(e){return e.ma||(e.ma=function(e,t,n){const r=Jp(e);return r.sa(),new wx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Fx.bind(null,e),t_:Vx.bind(null,e),r_:zx.bind(null,e),H_:Ux.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Mx(e)?Rx(e):e.Ra.set("Unknown")):(await e.ma.stop(),Ox(e))})),e.ma}function tw(e){return e.fa||(e.fa=function(e,t,n){const r=Jp(e);return r.sa(),new Sx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qx.bind(null,e),r_:Jx.bind(null,e),ta:Xx.bind(null,e),na:Yx.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await qx(e)):(await e.fa.stop(),e.Ta.length>0&&(Hp(Nx,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class nw{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new tm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new nw(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new em(Zp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rw(e,t){if(Wp("AsyncQueue",`${t}: ${e}`),Bm(e))return new em(Zp.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{static emptySet(e){return new iw(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Cm.comparator(t.key,n.key):(e,t)=>Cm.comparator(e.key,t.key),this.keyedMap=Lv(),this.sortedSet=new Ym(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof iw))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new iw;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.ga=new Ym(Cm.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Qp(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class aw{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new aw(e,t,iw.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class lw{constructor(){this.queries=cw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Jp(e),r=n.queries;n.queries=cw(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new em(Zp.ABORTED,"Firestore shutting down"))}}function cw(){return new Tv(e=>Ev(e),Cv)}async function uw(e,t){const n=Jp(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new ow,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const e=rw(a,`Initialization of query '${kv(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&pw(n)}async function hw(e,t){const n=Jp(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dw(e,t){const n=Jp(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&pw(n)}function fw(e,t,n){const r=Jp(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function pw(e){e.Ca.forEach(e=>{e.next()})}var mw,gw;(gw=mw||(mw={})).Ma="default",gw.Cache="cache";class vw{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new aw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=aw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mw.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.key=e}}class bw{constructor(e){this.key=e}}class xw{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zv(),this.mutatedKeys=zv(),this.eu=jv(e),this.tu=new iw(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new sw,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Nv(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qp(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new aw(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=zv(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new bw(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new yw(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=zv();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return aw.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const ww="SyncEngine";class Sw{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Cw{constructor(e){this.key=e,this.hu=!1}}class Ew{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Tv(e=>Ev(e),Cv),this.Iu=new Map,this.Eu=new Set,this.du=new Ym(Cm.comparator),this.Au=new Map,this.Ru=new Pb,this.Vu={},this.mu=new Map,this.fu=Eb.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function kw(e,t,n=!0){const r=Ww(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await jw(r,t,n,!0),i}async function Nw(e,t){const n=Ww(e);await jw(n,t,!0,!1)}async function jw(e,t,n,r){const i=await function(e,t){const n=Jp(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Um.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new gb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}(e.localStore,xv(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await async function(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await nx(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return zw(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await nx(e.localStore,t,!0),a=new xw(t,s.Qs),o=a.ru(s.documents),l=Dy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);zw(e,n,c.au);const u=new Sw(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Ix(e.remoteStore,i),o}async function _w(e,t,n){const r=Jp(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Cv(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ax(r.remoteStore,i.targetId),Fw(r,i.targetId)}).catch(zm)):(Fw(r,i.targetId),await tx(r.localStore,i.targetId,!0))}async function Tw(e,t){const n=Jp(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ax(n.remoteStore,r.targetId))}async function Iw(e,t,n){const r=function(e){const t=Jp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mw.bind(null,t),t}(e);try{const e=await function(e,t){const n=Jp(e),r=Rm.now(),i=t.reduce((e,t)=>e.add(t.key),zv());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Av(),l=zv();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=uy(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new fy(e.key,t,Ug(t.value.mapValue),iy.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Rv(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Ym(dm)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await $w(r,e.changes),await qx(r.remoteStore)}catch(i){const e=rw(i,"Failed to persist write");n.reject(e)}}async function Aw(e,t){const n=Jp(e);try{const e=await Zb(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Yp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Yp(r.hu,14607):e.removedDocuments.size>0&&(Yp(r.hu,42227),r.hu=!1))}),await $w(n,e,t)}catch(r){await zm(r)}}function Dw(e,t,n){const r=Jp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Jp(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&pw(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Lw(e,t,n){const r=Jp(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new Ym(Cm.comparator);e=e.insert(s,Bg.newNoDocument(s,Mm.min()));const n=zv().add(s),i=new Ay(Mm.min(),new Map,new Ym(dm),e,n);await Aw(r,i),r.du=r.du.remove(s),r.Au.delete(t),Bw(r)}else await tx(r.localStore,t,!1).then(()=>Fw(r,t,n)).catch(zm)}async function Rw(e,t){const n=Jp(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Jp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Um.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Yp(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=zv();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Ow(n,r,null),Pw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $w(n,e)}catch(i){await zm(i)}}async function Mw(e,t,n){const r=Jp(e);try{const e=await function(e,t){const n=Jp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Yp(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Ow(r,t,n),Pw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $w(r,e)}catch(i){await zm(i)}}function Pw(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Ow(e,t,n){const r=Jp(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Fw(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Vw(e,t)})}function Vw(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Ax(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Bw(e))}function zw(e,t,n){for(const r of n)r instanceof yw?(e.Ru.addReference(r.key,t),Uw(e,r)):r instanceof bw?(Hp(ww,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Vw(e,r.key)):Qp(19791,{wu:r})}function Uw(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Hp(ww,"New document in limbo: "+n),e.Eu.add(r),Bw(e))}function Bw(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Cm(xm.fromString(t)),r=e.fu.next();e.Au.set(r,new Cw(n)),e.du=e.du.insert(n,r),Ix(e.remoteStore,new gb(xv(gv(n.path)),r,"TargetPurposeLimboResolution",$m.ce))}}async function $w(e,t,n){const r=Jp(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null==(t=null==n?void 0:n.targetChanges.get(o.targetId))?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Wb.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=Jp(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Um.forEach(t,t=>Um.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Um.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!Bm(r))throw r;Hp(Qb,"Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function qw(e,t){const n=Jp(e);if(!n.currentUser.isEqual(t)){Hp(ww,"User change. New user:",t.toKey());const e=await Yb(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).mu.forEach(e=>{e.forEach(e=>{e.reject(new em(Zp.CANCELLED,i))})}),r.mu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $w(n,e.Ls)}var r,i}function Hw(e,t){const n=Jp(e),r=n.Au.get(t);if(r&&r.hu)return zv().add(r.key);{let e=zv();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Ww(e){const t=Jp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lw.bind(null,t),t.Pu.H_=dw.bind(null,t.eventManager),t.Pu.yu=fw.bind(null,t.eventManager),t}class Gw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return function(e,t,n,r){return new Xb(e,t,n,r)}(this.persistence,new Kb,e.initialUser,this.serializer)}Cu(e){return new Bb(qb.mi,this.serializer)}Du(e){return new ix}async terminate(){var e,t;null==(e=this.gcScheduler)||e.stop(),null==(t=this.indexBackfillerScheduler)||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gw.provider={build:()=>new Gw};class Kw extends Gw{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Yp(this.persistence.referenceDelegate instanceof Hb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new _b(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Cb.withCacheSize(this.cacheSizeBytes):Cb.DEFAULT;return new Bb(e=>Hb.mi(e,t),this.serializer)}}class Qw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Dw(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=qw.bind(null,this.syncEngine),await async function(e,t){const n=Jp(e);t?(n.Ea.delete(2),await _x(n)):t||(n.Ea.add(2),await Tx(n),n.Ra.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new lw}createDatastore(e){const t=vx(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new mx(r));var r;return function(e,t,n,r){return new Ex(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Dw(this.syncEngine,e,0),s=ox.v()?new ox:new sx,new jx(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Ew(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Jp(e);Hp(Nx,"RemoteStore shutting down."),t.Ea.add(5),await Tx(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null==(e=this.datastore)||e.terminate(),null==(t=this.eventManager)||t.terminate()}}Qw.provider={build:()=>new Qw};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wp("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="FirestoreClient";class Jw{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Up.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Hp(Yw,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Hp(Yw,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=rw(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Zw(e,t){e.asyncQueue.verifyOperationInProgress(),Hp(Yw,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Yb(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function eS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Hp(Yw,"Using user provided OfflineComponentProvider");try{await Zw(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===Zp.FAILED_PRECONDITION||n.code===Zp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;Gp("Error using user provided cache. Falling back to memory cache: "+i),await Zw(e,new Gw)}}else Hp(Yw,"Using default OfflineComponentProvider"),await Zw(e,new Kw(void 0));var n;return e._offlineComponents}(e);Hp(Yw,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Zx(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Zx(t.remoteStore,n)),e._onlineComponents=t}async function tS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Hp(Yw,"Using user provided OnlineComponentProvider"),await eS(e,e._uninitializedComponentsProvider._online)):(Hp(Yw,"Using default OnlineComponentProvider"),await eS(e,new Qw))),e._onlineComponents}async function nS(e){const t=await tS(e),n=t.eventManager;return n.onListen=kw.bind(null,t.syncEngine),n.onUnlisten=_w.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Nw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Tw.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rS(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const iS=new Map,sS="firestore.googleapis.com",aS=!0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new em(Zp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sS,this.ssl=aS}else this.host=e.host,this.ssl=e.ssl??aS;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Sb;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new em(Zp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new em(Zp.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new em(Zp.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new em(Zp.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new em(Zp.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class lS{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new em(Zp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new em(Zp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oS(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new rm;switch(e.type){case"firstParty":return new om(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new em(Zp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=iS.get(e);t&&(Hp("ComponentProvider","Removing Datastore"),iS.delete(e),t.terminate())}(this),Promise.resolve()}}function cS(e,t,n,r={}){var i;e=Tm(e,lS);const s=Hd(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;s&&(async function(e){(await fetch(e,{credentials:"include"})).ok}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(`https://${l}`),Kd("Firestore",!0)),a.host!==sS&&a.host!==l&&Gp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:s,emulatorOptions:r};if(!Zd(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Up.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Fd(JSON.stringify({alg:"none",type:"JWT"})),Fd(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null==(i=e._app)?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new em(Zp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Up(s)}e._authCredentials=new im(new nm(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uS(this.firestore,e,this._query)}}class hS{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dS(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hS(this.firestore,e,this._key)}toJSON(){return{type:hS._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Am(t,hS._jsonSchema))return new hS(e,n||null,new Cm(xm.fromString(t.referencePath)))}}hS._jsonSchemaVersion="firestore/documentReference/1.0",hS._jsonSchema={type:Im("string",hS._jsonSchemaVersion),referencePath:Im("string")};class dS extends uS{constructor(e,t,n){super(e,t,gv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hS(this.firestore,null,new Cm(e))}withConverter(e){return new dS(this.firestore,e,this._path)}}function fS(e,t,...n){if(e=tf(e),Em("collection","path",t),e instanceof lS){const r=xm.fromString(t,...n);return Nm(r),new dS(e,null,r)}{if(!(e instanceof hS||e instanceof dS))throw new em(Zp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xm.fromString(t,...n));return Nm(r),new dS(e.firestore,null,r)}}function pS(e,t,...n){if(e=tf(e),1===arguments.length&&(t=hm.newId()),Em("doc","path",t),e instanceof lS){const r=xm.fromString(t,...n);return km(r),new hS(e,null,new Cm(r))}{if(!(e instanceof hS||e instanceof dS))throw new em(Zp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xm.fromString(t,...n));return km(r),new hS(e.firestore,e instanceof dS?e.converter:null,new Cm(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="AsyncQueue";class gS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yx(this,"async_queue_retry"),this._c=()=>{const e=gx();e&&Hp(mS,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=gx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=gx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new tm;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(jC){if(!Bm(jC))throw jC;Hp(mS,"Operation failed with retryable error: "+jC)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Wp("INTERNAL UNHANDLED ERROR: ",vS(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=nw.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Qp(47125,{Pc:vS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function vS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function yS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class bS extends lS{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new gS,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gS(e),this._firestoreClient=void 0,await e}}}function xS(e){if(e._terminated)throw new em(Zp.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),s=(a=e._databaseId,o=(null==(t=e._app)?void 0:t.options.appId)||"",l=e._persistenceKey,c=i,new gg(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,rS(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator));var a,o,l,c;e._componentsProvider||(null==(n=i.localCache)?void 0:n._offlineComponentProvider)&&(null==(r=i.localCache)?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Jw(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class wS{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wS(ig.fromBase64String(e))}catch(t){throw new em(Zp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wS(ig.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wS._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Am(e,wS._jsonSchema))return wS.fromBase64String(e.bytes)}}wS._jsonSchemaVersion="firestore/bytes/1.0",wS._jsonSchema={type:Im("string",wS._jsonSchemaVersion),bytes:Im("string")};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class SS{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new em(Zp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sm(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new em(Zp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new em(Zp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dm(this._lat,e._lat)||dm(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ES._jsonSchemaVersion}}static fromJSON(e){if(Am(e,ES._jsonSchema))return new ES(e.latitude,e.longitude)}}ES._jsonSchemaVersion="firestore/geoPoint/1.0",ES._jsonSchema={type:Im("string",ES._jsonSchemaVersion),latitude:Im("number"),longitude:Im("number")};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kS{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kS._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Am(e,kS._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new kS(e.vectorValues);throw new em(Zp.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kS._jsonSchemaVersion="firestore/vectorValue/1.0",kS._jsonSchema={type:Im("string",kS._jsonSchemaVersion),vectorValues:Im("object")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const NS=/^__.*__$/;class jS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new fy(e,this.data,this.fieldMask,t,this.fieldTransforms):new dy(e,this.data,t,this.fieldTransforms)}}class _S{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new fy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qp(40011,{Ac:e})}}class IS{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new IS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null==(t=this.path)?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null==(t=this.path)?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return BS(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(TS(this.Ac)&&NS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AS{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||vx(e)}Cc(e,t,n,r=!1){return new IS({Ac:e,methodName:t,Dc:n,path:Sm.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DS(e){const t=e._freezeSettings(),n=vx(e._databaseId);return new AS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function LS(e,t,n,r,i,s={}){const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);FS("Data must be an object, but it was:",a,r);const o=PS(r,a);let l,c;if(s.merge)l=new ng(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=VS(t,r,n);if(!a.contains(i))throw new em(Zp.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);$S(e,i)||e.push(i)}l=new ng(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new jS(new zg(o),l,c)}class RS extends CS{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof RS}}function MS(e,t){if(OS(e=tf(e)))return FS("Unsupported field value:",t,e),PS(e,t);if(e instanceof CS)return function(e,t){if(!TS(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=MS(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=tf(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Rm.fromDate(e);return{timestampValue:Hy(t.serializer,n)}}if(e instanceof Rm){const n=new Rm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hy(t.serializer,n)}}if(e instanceof ES)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wS)return{bytesValue:Wy(t.serializer,e._byteString)};if(e instanceof hS){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Qy(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof kS)return n=e,r=t,{mapValue:{fields:{[bg]:{stringValue:Sg},[Cg]:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw r.Sc("VectorValues must only contain numeric values.");return Bv(r.serializer,e)})}}}}};var n,r;throw t.Sc(`Unsupported field value: ${_m(e)}`)}(e,t)}function PS(e,t){const n={};return Xm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qm(e,(e,r)=>{const i=MS(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function OS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rm||e instanceof ES||e instanceof wS||e instanceof hS||e instanceof CS||e instanceof kS)}function FS(e,t,n){if(!OS(n)||!jm(n)){const r=_m(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function VS(e,t,n){if((t=tf(t))instanceof SS)return t._internalPath;if("string"==typeof t)return US(e,t);throw BS("Field path arguments must be of type string or ",e,!1,void 0,n)}const zS=new RegExp("[~\\*/\\[\\]]");function US(e,t,n){if(t.search(zS)>=0)throw BS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new SS(...t.split("."))._internalPath}catch(r){throw BS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function BS(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new em(Zp.INVALID_ARGUMENT,o+e+l)}function $S(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hS(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new HS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(WS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class HS extends qS{data(){return super.data()}}function WS(e,t){return"string"==typeof t?US(e,t):t instanceof SS?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new em(Zp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KS{}class QS extends KS{}function XS(e,t,...n){let r=[];t instanceof KS&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof JS).length,n=e.filter(e=>e instanceof YS).length;if(t>1||t>0&&n>0)throw new em(Zp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class YS extends QS{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new YS(e,t,n)}_apply(e){const t=this._parse(e);return rC(e._query,t),new uS(e.firestore,e.converter,wv(e._query,t))}_parse(e){const t=DS(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new em(Zp.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){nC(a,s);const t=[];for(const n of a)t.push(tC(r,e,n));o={arrayValue:{values:t}}}else o=tC(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||nC(a,s),o=function(e,t,n,r=!1){return MS(n,e.Cc(r?4:3,t))}(n,t,a,"in"===s||"not-in"===s);return Qg.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class JS extends KS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new JS(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Xg.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)rC(n,i),n=wv(n,i)}(e._query,t),new uS(e.firestore,e.converter,wv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ZS extends QS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ZS(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new em(Zp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new em(Zp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wg(t,n)}(e._query,this._field,this._direction);return new uS(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new mv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function eC(e,t="asc"){const n=t,r=WS("orderBy",e);return ZS._create(r,n)}function tC(e,t,n){if("string"==typeof(n=tf(n))){if(""===n)throw new em(Zp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yv(t)&&-1!==n.indexOf("/"))throw new em(Zp.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(xm.fromString(n));if(!Cm.isDocumentKey(r))throw new em(Zp.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lg(e,new Cm(r))}if(n instanceof hS)return Lg(e,n._key);throw new em(Zp.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(n)}.`)}function nC(e,t){if(!Array.isArray(e)||0===e.length)throw new em(Zp.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rC(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new em(Zp.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new em(Zp.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class iC{convertValue(e,t="none"){switch(Eg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return og(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Qp(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Qm(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null==(r=null==(n=null==(t=e.fields)?void 0:t[Cg].arrayValue)?void 0:n.values)?void 0:r.map(e=>og(e.doubleValue));return new kS(i)}convertGeoPoint(e){return new ES(og(e.latitude),og(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=pg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mg(e));default:return null}}convertTimestamp(e){const t=ag(e);return new Rm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=xm.fromString(e);Yp(mb(n),9688,{name:e});const r=new yg(n.get(1),n.get(3)),i=new Cm(n.popFirst(5));return r.isEqual(t)||Wp(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aC extends qS{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(WS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new em(Zp.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=aC._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}aC._jsonSchemaVersion="firestore/documentSnapshot/1.0",aC._jsonSchema={type:Im("string",aC._jsonSchemaVersion),bundleSource:Im("string","DocumentSnapshot"),bundleName:Im("string"),bundle:Im("string")};class oC extends aC{data(e={}){return super.data(e)}}class lC{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sC(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new oC(this._firestore,this._userDataWriter,n.key,n,new sC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new em(Zp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new oC(e._firestore,e._userDataWriter,n.doc.key,n.doc,new sC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new oC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:cC(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new em(Zp.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lC._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qp(61501,{type:e})}}lC._jsonSchemaVersion="firestore/querySnapshot/1.0",lC._jsonSchema={type:Im("string",lC._jsonSchemaVersion),bundleSource:Im("string","QuerySnapshot"),bundleName:Im("string"),bundle:Im("string")};class uC extends iC{constructor(e){super(),this.firestore=e}convertBytes(e){return new wS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hS(this.firestore,null,t)}}function hC(e){e=Tm(e,uS);const t=Tm(e.firestore,bS),n=xS(t),r=new uC(t);return GS(e._query),function(e,t,n={}){const r=new tm;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Xw({next:n=>{s.Nu(),t.enqueueAndForget(()=>hw(e,a)),n.fromCache&&"server"===r.source?i.reject(new em(Zp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new vw(n,s,{includeMetadataChanges:!0,qa:!0});return uw(e,a)}(await nS(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new lC(t,r,e,n))}function dC(e,t,n,...r){e=Tm(e,hS);const i=Tm(e.firestore,bS),s=DS(i);let a;return a="string"==typeof(t=tf(t))||t instanceof SS?function(e,t,n,r,i,s){const a=e.Cc(1,t,n),o=[VS(t,r,n)],l=[i];if(s.length%2!=0)throw new em(Zp.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(VS(t,s[d])),l.push(s[d+1]);const c=[],u=zg.empty();for(let d=o.length-1;d>=0;--d)if(!$S(c,o[d])){const e=o[d];let t=l[d];t=tf(t);const n=a.yc(e);if(t instanceof RS)c.push(e);else{const r=MS(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new ng(c);return new _S(u,h,a.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Cc(1,t,n);FS("Data must be an object, but it was:",i,r);const s=[],a=zg.empty();Qm(r,(e,r)=>{const o=US(t,e,n);r=tf(r);const l=i.yc(o);if(r instanceof RS)s.push(o);else{const e=MS(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new ng(s);return new _S(a,o,i.fieldTransforms)}(s,"updateDoc",e._key,t),gC(i,[a.toMutation(e._key,iy.exists(!0))])}function fC(e){return gC(Tm(e.firestore,bS),[new vy(e._key,iy.none())])}function pC(e,t){const n=Tm(e.firestore,bS),r=pS(e),i=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t);return gC(n,[LS(DS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,iy.exists(!1))]).then(()=>r)}function mC(e,...t){var n,r,i;e=tf(e);let s={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof t[a]||yS(t[a])||(s=t[a++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(yS(t[a])){const e=t[a];t[a]=null==(n=e.next)?void 0:n.bind(e),t[a+1]=null==(r=e.error)?void 0:r.bind(e),t[a+2]=null==(i=e.complete)?void 0:i.bind(e)}let l,c,u;if(e instanceof hS)c=Tm(e.firestore,bS),u=gv(e._key.path),l={next:n=>{t[a]&&t[a](function(e,t,n){const r=n.docs.get(t._key),i=new uC(e);return new aC(e,i,t._key,r,new sC(n.hasPendingWrites,n.fromCache),t.converter)}(c,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Tm(e,uS);c=Tm(n.firestore,bS),u=n._query;const r=new uC(c);l={next:e=>{t[a]&&t[a](new lC(c,r,n,e))},error:t[a+1],complete:t[a+2]},GS(e._query)}return function(e,t,n,r){const i=new Xw(r),s=new vw(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>uw(await nS(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>hw(await nS(e),s))}}(xS(c),u,o,l)}function gC(e,t){return function(e,t){const n=new tm;return e.asyncQueue.enqueueAndForget(async()=>Iw(await function(e){return tS(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(xS(e),t)}!function(e,t=!0){Bp="12.6.0",dp(new nf("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new bS(new sm(e.getProvider("auth-internal")),new cm(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new em(Zp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yg(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),gp(Vp,zp,e),gp(Vp,zp,"esm2020")}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
gp("firebase","12.6.0","app");const vC=function(e,t){const n="object"==typeof e?e:function(e=ap){const t=lp.get(e);if(!t&&e===ap&&$d())return mp();if(!t)throw fp.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||vg,i=function(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Bd("firestore");e&&cS(i,...e)}return i}(mp({apiKey:"YOUR_API_KEY",authDomain:"YOUR_PROJECT_ID.firebaseapp.com",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_PROJECT_ID.appspot.com",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"})),yC=async e=>{const t=fS(vC,"models");return(await pC(t,{...e,createdAt:Rm.now()})).id},bC=async(e,t)=>{const n=pS(vC,"models",e);await dC(n,t)},xC=async e=>{const t=e.map(e=>(async e=>{const t=pS(vC,"models",e);await fC(t)})(e));await Promise.all(t)},wC=()=>{var e,t,n;const r=Yh(),[i,s]=z.useState("models"),[a,o]=z.useState([]),[l,c]=z.useState([]),[u,h]=z.useState([]),[d,f]=z.useState(""),[p,m]=z.useState(null),[g,v]=z.useState([]),[y,b]=z.useState(!1),[x,w]=z.useState(null),[S,C]=z.useState(!1),[E,k]=z.useState(""),[,N]=z.useState(!0),j=[...a,...l];z.useEffect(()=>{_(),T();const e=(e=>mC(XS(fS(vC,"models"),eC("createdAt","desc")),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)}))(e=>{c(e),N(!1)}),t=(e=>mC(XS(fS(vC,"orders"),eC("createdAt","desc")),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)}))(e=>{v(e)});return()=>{e(),t()}},[]);const _=async()=>{try{const e=await fetch("/data/models.json"),t=(await e.json()).map(e=>({...e,id:`stock_${e.id}`,isStock:!0}));o(t)}catch(e){}},T=async()=>{try{const e=await(async()=>{const e=fS(vC,"settings"),t=await hC(e);if(t.empty)return{telegramSupport:"@OneNightSupport"};const n=t.docs[0];return{id:n.id,...n.data()}})();k(e.telegramSupport||"@OneNightSupport")}catch(e){k("@OneNightSupport")}},I=async(e,t,n)=>{if(!e)return;const r=j.find(t=>t.id===e);if(r)if(r.isStock)alert("   .   .");else try{await bC(e,{[t]:n})}catch(i){alert("   ")}},A=async e=>{if(e&&window.confirm(" ?"))try{await(async e=>{const t=pS(vC,"orders",e);await fC(t)})(e)}catch(t){alert("   ")}},D=j.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.location.toLowerCase().includes(d.toLowerCase()));return X.jsxs("div",{className:"admin-panel",children:[X.jsxs("div",{className:"admin-header",children:[X.jsxs("div",{className:"admin-header-left",children:[X.jsx("h1",{children:"OneNight Admin Panel"}),X.jsxs("div",{className:"admin-breadcrumb",children:[" / ","models"===i?"":"orders"===i?"":""]})]}),X.jsxs("div",{className:"admin-header-right",children:[X.jsx("button",{className:"admin-btn-icon",title:"",children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"})})}),X.jsx("button",{className:"admin-btn-icon",title:"",children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"})})}),X.jsx("button",{className:"admin-btn-secondary",onClick:()=>r("/"),children:""})]})]}),X.jsxs("div",{className:"admin-tabs",children:[X.jsxs("button",{className:"admin-tab "+("models"===i?"active":""),onClick:()=>s("models"),children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})})," (",j.length,")"]}),X.jsxs("button",{className:"admin-tab "+("orders"===i?"active":""),onClick:()=>s("orders"),children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})}),""]}),X.jsxs("button",{className:"admin-tab "+("settings"===i?"active":""),onClick:()=>s("settings"),children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})}),""]})]}),"models"===i&&X.jsxs("div",{className:"admin-toolbar",children:[X.jsxs("div",{className:"admin-toolbar-left",children:[X.jsxs("button",{className:"admin-btn-primary",onClick:async()=>{const e={name:" ",age:18,location:"",price:1e4,verified:!1,vip:!1,online:!1,photos:[],isStock:!1};try{await yC(e)}catch(t){alert("   ")}},children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),""]}),X.jsxs("button",{className:"admin-btn-danger",onClick:async()=>{if(u.some(e=>e.startsWith("stock_")))alert("   .   .");else if(window.confirm(` ${u.length} ?`))try{await xC(u),h([])}catch(e){alert("   ")}},disabled:0===u.length,children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})," (",u.length,")"]}),X.jsxs("button",{className:"admin-btn-secondary",children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})}),""]}),X.jsxs("button",{className:"admin-btn-secondary",children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"})}),""]})]}),X.jsx("div",{className:"admin-toolbar-right",children:X.jsxs("div",{className:"admin-search",children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}),X.jsx("input",{type:"text",placeholder:"    ...",value:d,onChange:e=>f(e.target.value)})]})})]}),X.jsxs("div",{className:"admin-content",children:["models"===i&&X.jsx("div",{className:"admin-table-container",children:X.jsxs("table",{className:"admin-table",children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{className:"admin-th-checkbox",children:X.jsx("input",{type:"checkbox",checked:u.length===j.length&&j.length>0,onChange:()=>{u.length===j.length?h([]):h(j.map(e=>e.id).filter(e=>!e.startsWith("stock_")))}})}),X.jsx("th",{children:"ID"}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:"Verified"}),X.jsx("th",{children:"VIP"}),X.jsx("th",{children:"Online"}),X.jsx("th",{children:""}),X.jsx("th",{children:""})]})}),X.jsx("tbody",{children:D.map(e=>{var t;return X.jsxs("tr",{className:e.id&&u.includes(e.id)?"selected":"",children:[X.jsx("td",{children:X.jsx("input",{type:"checkbox",checked:!!e.id&&u.includes(e.id),onChange:()=>{var t;(t=e.id)&&(u.includes(t)?h(u.filter(e=>e!==t)):h([...u,t]))},disabled:e.isStock})}),X.jsx("td",{children:e.id}),X.jsx("td",{children:e.isStock?X.jsx("span",{className:"admin-badge admin-badge-stock",children:""}):X.jsx("span",{className:"admin-badge admin-badge-custom",children:""})}),X.jsx("td",{children:X.jsx("div",{className:"admin-photo",children:e.photos[0]?X.jsx("img",{src:e.photos[0],alt:e.name}):X.jsx("div",{className:"admin-photo-placeholder",children:"?"})})}),X.jsx("td",{children:X.jsx("input",{type:"text",value:e.name,onChange:t=>I(e.id,"name",t.target.value),className:"admin-cell-input"})}),X.jsx("td",{children:X.jsx("input",{type:"number",value:e.age,onChange:t=>I(e.id,"age",parseInt(t.target.value)),className:"admin-cell-input"})}),X.jsx("td",{children:X.jsx("input",{type:"text",value:e.location,onChange:t=>I(e.id,"location",t.target.value),className:"admin-cell-input"})}),X.jsx("td",{children:X.jsx("input",{type:"number",value:e.price,onChange:t=>I(e.id,"price",parseInt(t.target.value)),className:"admin-cell-input"})}),X.jsx("td",{children:X.jsx("input",{type:"number",value:e.height||"",onChange:t=>I(e.id,"height",parseInt(t.target.value)),className:"admin-cell-input"})}),X.jsx("td",{children:X.jsx("input",{type:"number",value:e.weight||"",onChange:t=>I(e.id,"weight",parseInt(t.target.value)),className:"admin-cell-input"})}),X.jsx("td",{children:X.jsx("input",{type:"text",value:e.bust||"",onChange:t=>I(e.id,"bust",t.target.value),className:"admin-cell-input"})}),X.jsx("td",{children:X.jsx("input",{type:"text",value:e.hair||"",onChange:t=>I(e.id,"hair",t.target.value),className:"admin-cell-input"})}),X.jsx("td",{children:X.jsx("input",{type:"text",value:e.eyes||"",onChange:t=>I(e.id,"eyes",t.target.value),className:"admin-cell-input"})}),X.jsx("td",{children:X.jsx("input",{type:"text",value:e.nationality||"",onChange:t=>I(e.id,"nationality",t.target.value),className:"admin-cell-input"})}),X.jsx("td",{children:X.jsx("input",{type:"text",value:(null==(t=e.languages)?void 0:t.join(", "))||"",onChange:t=>I(e.id,"languages",t.target.value.split(",").map(e=>e.trim())),className:"admin-cell-input",placeholder:", English"})}),X.jsx("td",{children:X.jsx("input",{type:"checkbox",checked:e.verified,onChange:t=>I(e.id,"verified",t.target.checked)})}),X.jsx("td",{children:X.jsx("input",{type:"checkbox",checked:e.vip,onChange:t=>I(e.id,"vip",t.target.checked)})}),X.jsx("td",{children:X.jsx("input",{type:"checkbox",checked:e.online,onChange:t=>I(e.id,"online",t.target.checked)})}),X.jsx("td",{children:X.jsx("input",{type:"checkbox",checked:e.newThisWeek||!1,onChange:t=>I(e.id,"newThisWeek",t.target.checked)})}),X.jsx("td",{children:X.jsx("div",{className:"admin-actions",children:e.isStock?X.jsx("span",{className:"admin-text-muted",title:"   ",children:" "}):X.jsxs(X.Fragment,{children:[X.jsx("button",{className:"admin-btn-icon-small",title:"",onClick:()=>m(e),children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})}),X.jsx("button",{className:"admin-btn-icon-small",title:"",onClick:async()=>{if(window.confirm(`  ${e.name}?`))try{e.id&&await xC([e.id])}catch(t){alert("   ")}},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]})})})]},e.id)})})]})}),"orders"===i&&!S&&X.jsxs(X.Fragment,{children:[X.jsx("div",{className:"admin-toolbar",children:X.jsxs("div",{className:"admin-toolbar-left",children:[X.jsxs("button",{className:"admin-btn-primary",onClick:()=>{const e={modelId:"",modelName:"",pimpTelegram:"",date:(new Date).toISOString().split("T")[0],time:"18:00",duration:"1 ",price:0,status:"pending",location:""};w(e),b(!0)},children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})})," "]}),X.jsxs("button",{className:"admin-btn-secondary",onClick:()=>C(!0),children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),""]})]})}),X.jsx("div",{className:"admin-table-container",children:X.jsxs("table",{className:"admin-table",children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{children:"ID"}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:"Telegram "}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""})]})}),X.jsx("tbody",{children:0===g.length?X.jsx("tr",{children:X.jsx("td",{colSpan:11,style:{textAlign:"center",padding:"3rem",color:"#999"},children:" .   ."})}):g.map(e=>X.jsxs("tr",{children:[X.jsx("td",{children:e.id}),X.jsx("td",{children:new Date(e.date).toLocaleDateString("ru-RU")}),X.jsx("td",{children:e.time}),X.jsx("td",{children:e.modelName}),X.jsx("td",{children:e.pimpTelegram}),X.jsx("td",{children:e.duration}),X.jsxs("td",{children:[e.price," "]}),X.jsx("td",{children:X.jsxs("span",{className:`admin-status admin-status-${e.status}`,children:["pending"===e.status&&"","confirmed"===e.status&&"","completed"===e.status&&"","cancelled"===e.status&&""]})}),X.jsx("td",{children:X.jsxs("div",{className:"admin-actions",children:[X.jsx("button",{className:"admin-btn-icon-small",title:"",onClick:()=>{w(e),b(!0)},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})}),X.jsx("button",{className:"admin-btn-icon-small",title:"",onClick:()=>A(e.id),children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]})})]},e.id))})]})})]}),"orders"===i&&S&&X.jsxs("div",{className:"admin-stats",children:[X.jsxs("div",{className:"admin-stats-header",children:[X.jsx("h2",{children:" "}),X.jsx("button",{className:"admin-btn-secondary",onClick:()=>C(!1),children:"  "})]}),X.jsxs("div",{className:"admin-stats-grid",children:[X.jsxs("div",{className:"admin-stat-card",children:[X.jsx("div",{className:"admin-stat-icon",style:{background:"#e3f2fd"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"#1976d2",children:X.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})}),X.jsxs("div",{className:"admin-stat-content",children:[X.jsx("div",{className:"admin-stat-value",children:g.length}),X.jsx("div",{className:"admin-stat-label",children:" "})]})]}),X.jsxs("div",{className:"admin-stat-card",children:[X.jsx("div",{className:"admin-stat-icon",style:{background:"#fff3e0"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"#f57c00",children:X.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),X.jsxs("div",{className:"admin-stat-content",children:[X.jsx("div",{className:"admin-stat-value",children:g.filter(e=>"completed"===e.status).length}),X.jsx("div",{className:"admin-stat-label",children:""})]})]}),X.jsxs("div",{className:"admin-stat-card",children:[X.jsx("div",{className:"admin-stat-icon",style:{background:"#e8f5e9"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"#388e3c",children:X.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})})}),X.jsxs("div",{className:"admin-stat-content",children:[X.jsxs("div",{className:"admin-stat-value",children:[g.reduce((e,t)=>e+t.price,0).toLocaleString()," "]}),X.jsx("div",{className:"admin-stat-label",children:" "})]})]}),X.jsxs("div",{className:"admin-stat-card",children:[X.jsx("div",{className:"admin-stat-icon",style:{background:"#fce4ec"},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"#c2185b",children:X.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})})}),X.jsxs("div",{className:"admin-stat-content",children:[X.jsx("div",{className:"admin-stat-value",children:new Set(g.map(e=>e.modelId)).size}),X.jsx("div",{className:"admin-stat-label",children:" "})]})]})]}),X.jsxs("div",{className:"admin-stats-section",children:[X.jsx("h3",{children:" "}),X.jsxs("div",{className:"admin-stats-bars",children:[X.jsxs("div",{className:"admin-stat-bar",children:[X.jsx("div",{className:"admin-stat-bar-label",children:""}),X.jsx("div",{className:"admin-stat-bar-track",children:X.jsx("div",{className:"admin-stat-bar-fill",style:{width:(g.length?g.filter(e=>"pending"===e.status).length/g.length*100:0)+"%",background:"#ffa726"}})}),X.jsx("div",{className:"admin-stat-bar-value",children:g.filter(e=>"pending"===e.status).length})]}),X.jsxs("div",{className:"admin-stat-bar",children:[X.jsx("div",{className:"admin-stat-bar-label",children:""}),X.jsx("div",{className:"admin-stat-bar-track",children:X.jsx("div",{className:"admin-stat-bar-fill",style:{width:(g.length?g.filter(e=>"confirmed"===e.status).length/g.length*100:0)+"%",background:"#42a5f5"}})}),X.jsx("div",{className:"admin-stat-bar-value",children:g.filter(e=>"confirmed"===e.status).length})]}),X.jsxs("div",{className:"admin-stat-bar",children:[X.jsx("div",{className:"admin-stat-bar-label",children:""}),X.jsx("div",{className:"admin-stat-bar-track",children:X.jsx("div",{className:"admin-stat-bar-fill",style:{width:(g.length?g.filter(e=>"completed"===e.status).length/g.length*100:0)+"%",background:"#66bb6a"}})}),X.jsx("div",{className:"admin-stat-bar-value",children:g.filter(e=>"completed"===e.status).length})]}),X.jsxs("div",{className:"admin-stat-bar",children:[X.jsx("div",{className:"admin-stat-bar-label",children:""}),X.jsx("div",{className:"admin-stat-bar-track",children:X.jsx("div",{className:"admin-stat-bar-fill",style:{width:(g.length?g.filter(e=>"cancelled"===e.status).length/g.length*100:0)+"%",background:"#ef5350"}})}),X.jsx("div",{className:"admin-stat-bar-value",children:g.filter(e=>"cancelled"===e.status).length})]})]})]}),X.jsxs("div",{className:"admin-stats-section",children:[X.jsx("h3",{children:"   "}),X.jsx("div",{className:"admin-stats-table",children:Object.entries(g.reduce((e,t)=>(e[t.modelName]=(e[t.modelName]||0)+1,e),{})).sort((e,t)=>t[1]-e[1]).slice(0,5).map(([e,t],n)=>X.jsxs("div",{className:"admin-stats-row",children:[X.jsxs("div",{className:"admin-stats-rank",children:["#",n+1]}),X.jsx("div",{className:"admin-stats-name",children:e}),X.jsxs("div",{className:"admin-stats-count",children:[t," "]})]},e))})]})]}),"settings"===i&&X.jsxs("div",{className:"admin-settings",children:[X.jsxs("div",{className:"admin-settings-section",children:[X.jsx("h2",{children:" "}),X.jsxs("div",{className:"admin-settings-group",children:[X.jsx("label",{children:"Telegram "}),X.jsx("input",{type:"text",value:E,onChange:e=>k(e.target.value),placeholder:"@OneNightSupport"}),X.jsx("small",{style:{color:"#999",fontSize:"0.85rem",marginTop:"0.5rem",display:"block"},children:" Telegram        "})]})]}),X.jsx("div",{className:"admin-settings-actions",children:X.jsx("button",{className:"admin-btn-primary",onClick:async()=>{try{await(async e=>{const t=fS(vC,"settings"),n=await hC(t);if(n.empty)await pC(t,e);else{const t=pS(vC,"settings",n.docs[0].id);await dC(t,e)}})({telegramSupport:E}),alert(" !")}catch(e){alert("   ")}},children:" "})})]})]}),X.jsxs("div",{className:"admin-footer",children:[X.jsx("div",{className:"admin-footer-left",children:" 2024 OneNight Admin Panel.   ."}),X.jsxs("div",{className:"admin-footer-right",children:[" 1.0.0 |  : ",(new Date).toLocaleDateString("ru-RU")]})]}),p&&X.jsx("div",{className:"admin-modal-overlay",onClick:()=>m(null),children:X.jsxs("div",{className:"admin-modal",onClick:e=>e.stopPropagation(),children:[X.jsxs("div",{className:"admin-modal-header",children:[X.jsx("div",{children:X.jsxs("h2",{children:[" : ",p.name]})}),X.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[X.jsxs("button",{className:"admin-btn-autofill",onClick:()=>{var e,t,n;if(!p)return;const r={...p};if(!r.name||" "===r.name){const e=["","","","","","","","","",""];r.name=e[Math.floor(Math.random()*e.length)]}if(r.age&&18!==r.age||(r.age=Math.floor(13*Math.random())+18),r.height||(r.height=Math.floor(21*Math.random())+160),!r.weight&&r.height){const e=r.height-110;r.weight=e+Math.floor(11*Math.random())-5}if(!r.bust&&r.weight&&(r.weight<50?r.bust=["1","1.5","2"][Math.floor(3*Math.random())]:r.weight<60?r.bust=["2","2.5","3"][Math.floor(3*Math.random())]:r.bust=["3","3.5","4"][Math.floor(3*Math.random())]),!r.hair){const e=["","","",""];r.hair=e[Math.floor(Math.random()*e.length)]}if(!r.eyes){const e=["","","",""];r.eyes=e[Math.floor(Math.random()*e.length)]}if(!r.nationality){const e=["","","","",""];r.nationality=e[Math.floor(Math.random()*e.length)]}if(r.languages&&0!==r.languages.length||(r.languages=[""],Math.random()>.5&&r.languages.push("English")),!r.location||""===r.location){const e=["","-","","",""," "];r.location=e[Math.floor(Math.random()*e.length)]}if(!r.price||1e4===r.price){let e=8e3;r.vip&&(e+=5e3),r.verified&&(e+=2e3),r.bust&&parseFloat(r.bust)>=3&&(e+=2e3),r.price=e+1e3*Math.floor(5*Math.random())}if(!r.meetingPlace){const e=[""," ","   "];r.meetingPlace=e[Math.floor(Math.random()*e.length)]}r.description||(r.description=`!   ${r.name}.  ${r.age}- ${null==(e=r.nationality)?void 0:e.toLowerCase()}  ${null==(t=r.hair)?void 0:t.toLowerCase()}   ${null==(n=r.eyes)?void 0:n.toLowerCase()} .   ${r.height} ,  ${r.weight} .      ,       .       .`),r.services&&0!==r.services.length||(r.services=[" ","  ","  ","",""," ",""]),m(r)},title:"   ",children:[X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"18px",height:"18px"},children:X.jsx("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"})}),""]}),X.jsx("button",{className:"admin-modal-close",onClick:()=>m(null),children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]}),X.jsx("div",{className:"admin-modal-content",children:X.jsxs("div",{className:"admin-modal-grid",children:[X.jsxs("div",{className:"admin-modal-section",children:[X.jsx("h3",{children:" "}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:""}),X.jsx("input",{type:"text",value:p.name,onChange:e=>m({...p,name:e.target.value})})]}),X.jsxs("div",{className:"admin-form-row",children:[X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:""}),X.jsx("input",{type:"number",value:p.age,onChange:e=>m({...p,age:parseInt(e.target.value)})})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:""}),X.jsx("input",{type:"text",value:p.location,onChange:e=>m({...p,location:e.target.value})})]})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" (/)"}),X.jsx("input",{type:"number",value:p.price,onChange:e=>m({...p,price:parseInt(e.target.value)})})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" "}),X.jsxs("select",{value:p.meetingPlace||"",onChange:e=>m({...p,meetingPlace:e.target.value}),children:[X.jsx("option",{value:"",children:""}),X.jsx("option",{value:" ",children:" "}),X.jsx("option",{value:"   ",children:"   "})]})]})]}),X.jsxs("div",{className:"admin-modal-section",children:[X.jsx("h3",{children:""}),X.jsxs("div",{className:"admin-form-row",children:[X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" ()"}),X.jsx("input",{type:"number",value:p.height||"",onChange:e=>m({...p,height:parseInt(e.target.value)})})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" ()"}),X.jsx("input",{type:"number",value:p.weight||"",onChange:e=>m({...p,weight:parseInt(e.target.value)})})]})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" "}),X.jsx("input",{type:"text",value:p.bust||"",onChange:e=>m({...p,bust:e.target.value}),placeholder:"2"})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" "}),X.jsxs("select",{value:p.hair||"",onChange:e=>m({...p,hair:e.target.value}),children:[X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""})]})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" "}),X.jsxs("select",{value:p.eyes||"",onChange:e=>m({...p,eyes:e.target.value}),children:[X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""}),X.jsx("option",{value:"",children:""})]})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:""}),X.jsx("input",{type:"text",value:p.nationality||"",onChange:e=>m({...p,nationality:e.target.value}),placeholder:""})]})]}),X.jsxs("div",{className:"admin-modal-section admin-modal-section-full",children:[X.jsx("h3",{children:" "}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" ( )"}),X.jsx("input",{type:"text",value:(null==(e=p.languages)?void 0:e.join(", "))||"",onChange:e=>m({...p,languages:e.target.value.split(",").map(e=>e.trim())}),placeholder:", English"})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:""}),X.jsx("textarea",{rows:4,value:p.description||"",onChange:e=>m({...p,description:e.target.value}),placeholder:"  ..."})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" ( )"}),X.jsx("textarea",{rows:3,value:(null==(t=p.services)?void 0:t.join(", "))||"",onChange:e=>m({...p,services:e.target.value.split(",").map(e=>e.trim())}),placeholder:" , , ..."})]})]}),X.jsxs("div",{className:"admin-modal-section admin-modal-section-full",children:[X.jsx("h3",{children:""}),X.jsxs("div",{className:"admin-form-checkboxes",children:[X.jsxs("label",{children:[X.jsx("input",{type:"checkbox",checked:p.verified,onChange:e=>m({...p,verified:e.target.checked})}),""]}),X.jsxs("label",{children:[X.jsx("input",{type:"checkbox",checked:p.vip,onChange:e=>m({...p,vip:e.target.checked})}),"VIP"]}),X.jsxs("label",{children:[X.jsx("input",{type:"checkbox",checked:p.online,onChange:e=>m({...p,online:e.target.checked})}),""]}),X.jsxs("label",{children:[X.jsx("input",{type:"checkbox",checked:p.newThisWeek||!1,onChange:e=>m({...p,newThisWeek:e.target.checked})}),"   "]})]})]}),X.jsxs("div",{className:"admin-modal-section admin-modal-section-full",children:[X.jsx("h3",{children:""}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:"   URL"}),X.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[X.jsx("input",{type:"text",placeholder:"https://example.com/photo.jpg",id:"photoUrlInput",onKeyPress:e=>{if("Enter"===e.key){const t=e.target,n=t.value.trim();n&&(m({...p,photos:[...p.photos,n]}),t.value="")}}}),X.jsx("button",{type:"button",className:"admin-btn-secondary",onClick:()=>{const e=document.getElementById("photoUrlInput"),t=e.value.trim();t&&(m({...p,photos:[...p.photos,t]}),e.value="")},children:""})]})]}),X.jsxs("div",{className:"admin-photos-grid",children:[p.photos.map((e,t)=>X.jsxs("div",{className:"admin-photo-item",children:[X.jsx("img",{src:e,alt:` ${t+1}`}),X.jsx("button",{className:"admin-photo-remove",onClick:()=>{const e=p.photos.filter((e,n)=>n!==t);m({...p,photos:e})},children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},t)),X.jsxs("label",{className:"admin-photo-add",children:[X.jsx("input",{type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:e=>{const t=e.target.files;t&&Array.from(t).forEach(e=>{const t=new FileReader;t.onload=e=>{var t;(null==(t=e.target)?void 0:t.result)&&m({...p,photos:[...p.photos,e.target.result]})},t.readAsDataURL(e)}),e.target.value=""}}),X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),X.jsx("span",{children:" "})]})]})]})]})}),X.jsxs("div",{className:"admin-modal-footer",children:[X.jsx("button",{className:"admin-btn-secondary",onClick:()=>m(null),children:""}),X.jsx("button",{className:"admin-btn-primary",onClick:async()=>{if(p)try{p.id?await bC(p.id,p):await yC(p),m(null)}catch(e){alert("   ")}},children:" "})]})]})}),y&&x&&X.jsx("div",{className:"admin-modal-overlay",onClick:()=>b(!1),children:X.jsxs("div",{className:"admin-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"800px"},children:[X.jsxs("div",{className:"admin-modal-header",children:[X.jsx("h2",{children:x.id&&g.find(e=>e.id===x.id)?" ":" "}),X.jsx("button",{className:"admin-modal-close",onClick:()=>b(!1),children:X.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:X.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),X.jsx("div",{className:"admin-modal-content",children:X.jsxs("div",{className:"admin-modal-grid",children:[X.jsxs("div",{className:"admin-modal-section",children:[X.jsx("h3",{children:"  "}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:""}),X.jsxs("select",{value:x.modelId,onChange:e=>{const t=e.target.value,n=j.find(e=>e.id===t);w({...x,modelId:t,modelName:(null==n?void 0:n.name)||"",price:(null==n?void 0:n.price)||0})},children:[X.jsx("option",{value:"",children:" "}),j.map(e=>X.jsxs("option",{value:e.id,children:[e.name," - ",e.location]},e.id))]})]}),X.jsxs("div",{className:"admin-form-row",children:[X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:""}),X.jsx("input",{type:"date",value:x.date,onChange:e=>w({...x,date:e.target.value})})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:""}),X.jsx("input",{type:"time",value:x.time,onChange:e=>w({...x,time:e.target.value})})]})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:"Telegram "}),X.jsx("input",{type:"text",value:x.pimpTelegram,onChange:e=>w({...x,pimpTelegram:e.target.value}),placeholder:"@username"})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:""}),X.jsxs("select",{value:x.duration,onChange:e=>w({...x,duration:e.target.value}),children:[X.jsx("option",{value:"1 ",children:"1 "}),X.jsx("option",{value:"2 ",children:"2 "}),X.jsx("option",{value:"3 ",children:"3 "}),X.jsx("option",{value:"",children:""})]})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" "}),X.jsx("input",{type:"text",value:x.location,onChange:e=>w({...x,location:e.target.value}),placeholder:", ..."})]})]}),X.jsxs("div",{className:"admin-modal-section",children:[X.jsx("h3",{children:" "}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:" ()"}),X.jsx("input",{type:"number",value:x.price,onChange:e=>w({...x,price:parseInt(e.target.value)})})]}),X.jsxs("div",{className:"admin-form-group",children:[X.jsx("label",{children:""}),X.jsxs("select",{value:x.status,onChange:e=>w({...x,status:e.target.value}),children:[X.jsx("option",{value:"pending",children:""}),X.jsx("option",{value:"confirmed",children:""}),X.jsx("option",{value:"completed",children:""}),X.jsx("option",{value:"cancelled",children:""})]})]})]}),X.jsxs("div",{className:"admin-modal-section admin-modal-section-full",children:[X.jsx("h3",{children:""}),X.jsx("div",{className:"admin-form-group",children:X.jsx("textarea",{rows:3,value:x.notes||"",onChange:e=>w({...x,notes:e.target.value}),placeholder:"   ..."})})]})]})}),X.jsxs("div",{className:"admin-modal-footer",children:[X.jsx("button",{className:"admin-btn-secondary",onClick:()=>b(!1),children:""}),X.jsx("button",{className:"admin-btn-primary",onClick:async()=>{if(x)try{x.id?await(async(e,t)=>{const n=pS(vC,"orders",e);await dC(n,t)})(x.id,x):await(async e=>{const t=fS(vC,"orders");return(await pC(t,{...e,createdAt:Rm.now()})).id})(x),b(!1),w(null)}catch(e){alert("   ")}},disabled:!x.modelId||!(null==(n=x.pimpTelegram)?void 0:n.trim()),children:" "})]})]})})]})},SC=()=>X.jsxs(ud,{children:[X.jsx(ld,{path:"/",element:X.jsx(Ld,{})}),X.jsx(ld,{path:"/model/:id",element:X.jsx(Rd,{})}),X.jsx(ld,{path:"/admin",element:X.jsx(wC,{})})]});class CC extends z.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback?this.props.fallback:X.jsx("div",{className:"error-boundary",children:X.jsxs("div",{className:"error-boundary-content",children:[X.jsx("h2",{children:"-   "}),X.jsx("p",{children:"    . ,   ."}),X.jsx("button",{onClick:()=>window.location.reload(),className:"error-boundary-btn",children:" "}),!1]})}):this.props.children}}const EC=()=>{const{pathname:e}=Qh();return z.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),null},kC=()=>(z.useEffect(()=>{const e=e=>{e.preventDefault()},t=e=>"F12"===e.key||e.ctrlKey&&e.shiftKey&&"I"===e.key||e.ctrlKey&&e.shiftKey&&"J"===e.key||e.ctrlKey&&"u"===e.key||e.ctrlKey&&"s"===e.key?(e.preventDefault(),!1):void 0,n=e=>{e.preventDefault()},r=e=>{e.preventDefault()};document.addEventListener("contextmenu",e),document.addEventListener("keydown",t),document.addEventListener("selectstart",n),document.addEventListener("dragstart",r);let i={open:!1,orientation:null};setInterval(()=>{window.outerHeight-window.innerHeight>160||window.outerWidth-window.innerWidth>160?i.open||(i.open=!0):i.open=!1},500);return(()=>{const e=console.log,t=console.error,n=console.warn,r=console.info;console.log=(...t)=>{const n=t.map(e=>"string"==typeof e&&(e.includes("/src/")||e.includes("\\src\\"))?"[]":e);e.apply(console,n)},console.error=(...e)=>{const n=e.map(e=>"string"==typeof e&&(e.includes("/src/")||e.includes("\\src\\"))?"[]":e);t.apply(console,n)},console.warn=(...e)=>{const t=e.map(e=>"string"==typeof e&&(e.includes("/src/")||e.includes("\\src\\"))?"[]":e);n.apply(console,t)},console.info=(...e)=>{const t=e.map(e=>"string"==typeof e&&(e.includes("/src/")||e.includes("\\src\\"))?"[]":e);r.apply(console,t)}})(),()=>{document.removeEventListener("contextmenu",e),document.removeEventListener("keydown",t),document.removeEventListener("selectstart",n),document.removeEventListener("dragstart",r)}},[]),null);function NC(){return X.jsx(CC,{children:X.jsxs(md,{children:[X.jsx(kC,{}),X.jsx(EC,{}),X.jsx(SC,{}),X.jsx(_d,{})]})})}Y.createRoot(document.getElementById("root")).render(X.jsx(U.StrictMode,{children:X.jsx(NC,{})}));
